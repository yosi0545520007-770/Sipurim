{"version":3,"file":"location.js","sources":["../../../src/location.ts"],"sourcesContent":["/*\n    Hebcal - A Jewish Calendar Generator\n    Copyright (c) 1994-2020 Danny Sadinoff\n    Portions copyright Eyal Schachter and Michael J. Radwin\n\n    https://github.com/hebcal/hebcal-es6\n\n    This program is free software; you can redistribute it and/or\n    modify it under the terms of the GNU General Public License\n    as published by the Free Software Foundation; either version 2\n    of the License, or (at your option) any later version.\n\n    This program is distributed in the hope that it will be useful,\n    but WITHOUT ANY WARRANTY; without even the implied warranty of\n    MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n    GNU General Public License for more details.\n\n    You should have received a copy of the GNU General Public License\n    along with this program. If not, see <http://www.gnu.org/licenses/>.\n */\nimport {GeoLocation} from '@hebcal/noaa';\n\nconst classicCities0: [string, string, number, number, string, number][] = [\n  ['Ashdod', 'IL', 31.79213, 34.64966, 'Asia/Jerusalem', 27],\n  ['Atlanta', 'US', 33.749, -84.38798, 'America/New_York', 336],\n  ['Austin', 'US', 30.26715, -97.74306, 'America/Chicago', 165],\n  ['Baghdad', 'IQ', 33.34058, 44.40088, 'Asia/Baghdad', 41],\n  ['Beer Sheva', 'IL', 31.25181, 34.7913, 'Asia/Jerusalem', 285],\n  ['Berlin', 'DE', 52.52437, 13.41053, 'Europe/Berlin', 43],\n  ['Baltimore', 'US', 39.29038, -76.61219, 'America/New_York', 35],\n  ['Bogota', 'CO', 4.60971, -74.08175, 'America/Bogota', 2582],\n  ['Boston', 'US', 42.35843, -71.05977, 'America/New_York', 38],\n  ['Budapest', 'HU', 47.49801, 19.03991, 'Europe/Budapest', 104],\n  [\n    'Buenos Aires',\n    'AR',\n    -34.61315,\n    -58.37723,\n    'America/Argentina/Buenos_Aires',\n    31,\n  ],\n  ['Buffalo', 'US', 42.88645, -78.87837, 'America/New_York', 191],\n  ['Chicago', 'US', 41.85003, -87.65005, 'America/Chicago', 180],\n  ['Cincinnati', 'US', 39.162, -84.45689, 'America/New_York', 267],\n  ['Cleveland', 'US', 41.4995, -81.69541, 'America/New_York', 204],\n  ['Dallas', 'US', 32.78306, -96.80667, 'America/Chicago', 139],\n  ['Denver', 'US', 39.73915, -104.9847, 'America/Denver', 1636],\n  ['Detroit', 'US', 42.33143, -83.04575, 'America/Detroit', 192],\n  ['Eilat', 'IL', 29.55805, 34.94821, 'Asia/Jerusalem', 63],\n  ['Gibraltar', 'GI', 36.14474, -5.35257, 'Europe/Gibraltar', 11],\n  ['Haifa', 'IL', 32.81841, 34.9885, 'Asia/Jerusalem', 40],\n  ['Hawaii', 'US', 21.30694, -157.85833, 'Pacific/Honolulu', 18],\n  ['Helsinki', 'FI', 60.16952, 24.93545, 'Europe/Helsinki', 26],\n  ['Houston', 'US', 29.76328, -95.36327, 'America/Chicago', 30],\n  ['Jerusalem', 'IL', 31.76904, 35.21633, 'Asia/Jerusalem', 786],\n  ['Johannesburg', 'ZA', -26.20227, 28.04363, 'Africa/Johannesburg', 1767],\n  ['Kiev', 'UA', 50.45466, 30.5238, 'Europe/Kiev', 187],\n  ['La Paz', 'BO', -16.5, -68.15, 'America/La_Paz', 3782],\n  ['Livingston', 'US', 40.79593, -74.31487, 'America/New_York', 98],\n  ['Las Vegas', 'US', 36.17497, -115.13722, 'America/Los_Angeles', 613],\n  ['London', 'GB', 51.50853, -0.12574, 'Europe/London', 25],\n  ['Los Angeles', 'US', 34.05223, -118.24368, 'America/Los_Angeles', 96],\n  ['Marseilles', 'FR', 43.29695, 5.38107, 'Europe/Paris', 28],\n  ['Miami', 'US', 25.77427, -80.19366, 'America/New_York', 25],\n  ['Minneapolis', 'US', 44.97997, -93.26384, 'America/Chicago', 262],\n  ['Melbourne', 'AU', -37.814, 144.96332, 'Australia/Melbourne', 25],\n  ['Mexico City', 'MX', 19.42847, -99.12766, 'America/Mexico_City', 2240],\n  ['Montreal', 'CA', 45.50884, -73.58781, 'America/Toronto', 216],\n  ['Moscow', 'RU', 55.75222, 37.61556, 'Europe/Moscow', 144],\n  ['New York', 'US', 40.71427, -74.00597, 'America/New_York', 57],\n  ['Omaha', 'US', 41.25861, -95.93779, 'America/Chicago', 315],\n  ['Ottawa', 'CA', 45.41117, -75.69812, 'America/Toronto', 71],\n  ['Panama City', 'PA', 8.9936, -79.51973, 'America/Panama', 17],\n  ['Paris', 'FR', 48.85341, 2.3488, 'Europe/Paris', 42],\n  ['Pawtucket', 'US', 41.87871, -71.38256, 'America/New_York', 0], // -11\n  ['Petach Tikvah', 'IL', 32.08707, 34.88747, 'Asia/Jerusalem', 54],\n  ['Philadelphia', 'US', 39.95233, -75.16379, 'America/New_York', 8],\n  ['Phoenix', 'US', 33.44838, -112.07404, 'America/Phoenix', 366],\n  ['Pittsburgh', 'US', 40.44062, -79.99589, 'America/New_York', 239],\n  ['Providence', 'US', 41.82399, -71.41283, 'America/New_York', 0], // -15\n  ['Portland', 'US', 45.52345, -122.67621, 'America/Los_Angeles', 15],\n  ['Saint Louis', 'US', 38.62727, -90.19789, 'America/Chicago', 149],\n  ['Saint Petersburg', 'RU', 59.93863, 30.31413, 'Europe/Moscow', 11],\n  ['San Diego', 'US', 32.71533, -117.15726, 'America/Los_Angeles', 20],\n  ['San Francisco', 'US', 37.77493, -122.41942, 'America/Los_Angeles', 28],\n  ['Sao Paulo', 'BR', -23.5475, -46.63611, 'America/Sao_Paulo', 769],\n  ['Seattle', 'US', 47.60621, -122.33207, 'America/Los_Angeles', 56],\n  ['Sydney', 'AU', -33.86785, 151.20732, 'Australia/Sydney', 58],\n  ['Tel Aviv', 'IL', 32.08088, 34.78057, 'Asia/Jerusalem', 15],\n  ['Tiberias', 'IL', 32.79221, 35.53124, 'Asia/Jerusalem', 0], // -140\n  ['Toronto', 'CA', 43.70011, -79.4163, 'America/Toronto', 175],\n  ['Vancouver', 'CA', 49.24966, -123.11934, 'America/Vancouver', 70],\n  ['White Plains', 'US', 41.03399, -73.76291, 'America/New_York', 82],\n  ['Washington DC', 'US', 38.89511, -77.03637, 'America/New_York', 6],\n  ['Worcester', 'US', 42.26259, -71.80229, 'America/New_York', 164],\n];\nconst classicCities = new Map<string, Location>();\n\n// Zip-Codes.com TimeZone IDs\nconst ZIPCODES_TZ_MAP: Record<string, string> = {\n  '0': 'UTC',\n  '4': 'America/Puerto_Rico', // Atlantic (GMT -04:00)\n  '5': 'America/New_York', //    Eastern  (GMT -05:00)\n  '6': 'America/Chicago', //     Central  (GMT -06:00)\n  '7': 'America/Denver', //      Mountain (GMT -07:00)\n  '8': 'America/Los_Angeles', // Pacific  (GMT -08:00)\n  '9': 'America/Anchorage', //   Alaska   (GMT -09:00)\n  '10': 'Pacific/Honolulu', //   Hawaii-Aleutian Islands (GMT -10:00)\n  '11': 'Pacific/Pago_Pago', //  American Samoa (GMT -11:00)\n  '13': 'Pacific/Funafuti', //   Marshall Islands (GMT +12:00)\n  '14': 'Pacific/Guam', //       Guam     (GMT +10:00)\n  '15': 'Pacific/Palau', //      Palau    (GMT +9:00)\n  '16': 'Pacific/Chuuk', //      Micronesia (GMT +11:00)\n} as const;\n\n/** @private */\nconst timeFormatCache = new Map<string, Intl.DateTimeFormat>();\n\n/**\n * Gets a 24-hour time formatter (e.g. 07:41 or 20:03) from cache\n * or makes a new one if needed\n * @private\n */\nfunction getFormatter(tzid: string): Intl.DateTimeFormat {\n  const fmt = timeFormatCache.get(tzid);\n  if (fmt) return fmt;\n  const f = new Intl.DateTimeFormat('en-US', {\n    timeZone: tzid,\n    hour: 'numeric',\n    minute: 'numeric',\n    hour12: false,\n  });\n  timeFormatCache.set(tzid, f);\n  return f;\n}\n\n/** Class representing Location */\nexport class Location extends GeoLocation {\n  private readonly il: boolean;\n  private readonly cc?: string;\n  private readonly geoid?: string | number;\n  /**\n   * Initialize a Location instance\n   * @param latitude - Latitude as a decimal, valid range -90 thru +90 (e.g. 41.85003)\n   * @param longitude - Longitude as a decimal, valid range -180 thru +180 (e.g. -87.65005)\n   * @param il - in Israel (true) or Diaspora (false)\n   * @param tzid - Olson timezone ID, e.g. \"America/Chicago\"\n   * @param [cityName] - optional descriptive city name\n   * @param [countryCode] - ISO 3166 alpha-2 country code (e.g. \"FR\")\n   * @param [geoid] - optional string or numeric geographic ID\n   * @param [elevation] - in meters (default `0`)\n   */\n  constructor(\n    latitude: number,\n    longitude: number,\n    il: boolean,\n    tzid: string,\n    cityName?: string,\n    countryCode?: string,\n    geoid?: string | number,\n    elevation?: number\n  ) {\n    const lat = typeof latitude === 'number' ? latitude : parseFloat(latitude);\n    if (isNaN(lat) || lat < -90 || lat > 90) {\n      throw new RangeError(`Latitude ${latitude} out of range [-90,90]`);\n    }\n    const long =\n      typeof longitude === 'number' ? longitude : parseFloat(longitude);\n    if (isNaN(long) || long < -180 || long > 180) {\n      throw new RangeError(`Longitude ${longitude} out of range [-180,180]`);\n    }\n    if (!tzid) {\n      throw new RangeError(`Invalid timezone`);\n    }\n    const elev = typeof elevation === 'number' && elevation > 0 ? elevation : 0;\n    super(cityName || null, lat, long, elev, tzid);\n    this.il = Boolean(il);\n    this.cc = countryCode;\n    this.geoid = geoid;\n  }\n\n  getIsrael(): boolean {\n    return this.il;\n  }\n\n  getName(): string | null {\n    return this.getLocationName();\n  }\n\n  /**\n   * Returns the location name, up to the first comma\n   */\n  getShortName(): string | null {\n    const name = this.getLocationName();\n    if (!name) return name;\n    const comma = name.indexOf(', ');\n    if (comma === -1) return name;\n    if (this.cc === 'US' && name[comma + 2] === 'D') {\n      if (name[comma + 3] === 'C') {\n        return name.substring(0, comma + 4);\n      } else if (name[comma + 3] === '.' && name[comma + 4] === 'C') {\n        return name.substring(0, comma + 6);\n      }\n    }\n    return name.substring(0, comma);\n  }\n\n  getCountryCode(): string | undefined {\n    return this.cc;\n  }\n\n  getTzid(): string {\n    return this.getTimeZone();\n  }\n\n  /**\n   * Gets a 24-hour time formatter (e.g. 07:41 or 20:03) for this location\n   */\n  getTimeFormatter(): Intl.DateTimeFormat {\n    return getFormatter(this.getTimeZone());\n  }\n\n  getGeoId(): string | number | undefined {\n    return this.geoid;\n  }\n\n  /**\n   * Creates a location object from one of 60 \"classic\" Hebcal city names.\n   * The following city names are supported:\n   * 'Ashdod', 'Atlanta', 'Austin', 'Baghdad', 'Beer Sheva',\n   * 'Berlin', 'Baltimore', 'Bogota', 'Boston', 'Budapest',\n   * 'Buenos Aires', 'Buffalo', 'Chicago', 'Cincinnati', 'Cleveland',\n   * 'Dallas', 'Denver', 'Detroit', 'Eilat', 'Gibraltar', 'Haifa',\n   * 'Hawaii', 'Helsinki', 'Houston', 'Jerusalem', 'Johannesburg',\n   * 'Kiev', 'La Paz', 'Livingston', 'Las Vegas', 'London', 'Los Angeles',\n   * 'Marseilles', 'Miami', 'Minneapolis', 'Melbourne', 'Mexico City',\n   * 'Montreal', 'Moscow', 'New York', 'Omaha', 'Ottawa', 'Panama City',\n   * 'Paris', 'Pawtucket', 'Petach Tikvah', 'Philadelphia', 'Phoenix',\n   * 'Pittsburgh', 'Providence', 'Portland', 'Saint Louis', 'Saint Petersburg',\n   * 'San Diego', 'San Francisco', 'Sao Paulo', 'Seattle', 'Sydney',\n   * 'Tel Aviv', 'Tiberias', 'Toronto', 'Vancouver', 'White Plains',\n   * 'Washington DC', 'Worcester'\n   * @param name\n   */\n  static lookup(name: string): Location | undefined {\n    return classicCities.get(name.toLowerCase());\n  }\n\n  toString(): string {\n    return JSON.stringify(this);\n  }\n\n  /**\n   * Converts legacy Hebcal timezone to a standard Olson tzid.\n   * @param tz integer, GMT offset in hours\n   * @param dst 'none', 'eu', 'usa', or 'israel'\n   */\n  static legacyTzToTzid(tz: number, dst: string): string | undefined {\n    tz = +tz;\n    if (dst === 'none') {\n      if (tz === 0) {\n        return 'UTC';\n      } else {\n        const plus = tz > 0 ? '+' : '';\n        return `Etc/GMT${plus}${tz}`;\n      }\n    } else if (tz === 2 && dst === 'israel') {\n      return 'Asia/Jerusalem';\n    } else if (dst === 'eu') {\n      switch (tz) {\n        case -2:\n          return 'Atlantic/Cape_Verde';\n        case -1:\n          return 'Atlantic/Azores';\n        case 0:\n          return 'Europe/London';\n        case 1:\n          return 'Europe/Paris';\n        case 2:\n          return 'Europe/Athens';\n        default:\n          break;\n      }\n    } else if (dst === 'usa') {\n      return ZIPCODES_TZ_MAP[String(tz * -1)];\n    }\n    return undefined;\n  }\n\n  /**\n   * Converts timezone info from Zip-Codes.com to a standard Olson tzid.\n   * @example\n   * Location.getUsaTzid('AZ', 7, 'Y') // 'America/Denver'\n   * @param state two-letter all-caps US state abbreviation like 'CA'\n   * @param tz positive number, 5=America/New_York, 8=America/Los_Angeles\n   * @param dst single char 'Y' or 'N'\n   */\n  static getUsaTzid(state: string, tz: number, dst: string): string {\n    tz = +tz;\n    if (tz === 10 && state === 'AK') {\n      return 'America/Adak';\n    } else if (tz === 7 && state === 'AZ') {\n      return dst === 'Y' ? 'America/Denver' : 'America/Phoenix';\n    } else {\n      return ZIPCODES_TZ_MAP[tz];\n    }\n  }\n\n  /**\n   * Adds a location name for `Location.lookup()` only if the name isn't\n   * already being used. Returns `false` if the name is already taken\n   * and `true` if successfully added.\n   */\n  static addLocation(cityName: string, location: Location): boolean {\n    const name = cityName.toLowerCase();\n    if (classicCities.has(name)) {\n      return false;\n    }\n    classicCities.set(name, location);\n    return true;\n  }\n}\n\nfor (const city of classicCities0) {\n  const location = new Location(\n    city[2],\n    city[3],\n    city[1] === 'IL',\n    city[4],\n    city[0],\n    city[1],\n    undefined,\n    city[5]\n  );\n  Location.addLocation(city[0], location);\n}\n"],"names":[],"mappings":"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"}
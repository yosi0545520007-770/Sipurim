{"version":3,"file":"omer.js","sources":["../../../src/omer.ts"],"sourcesContent":["import {HDate, Locale, gematriya} from '@hebcal/hdate';\nimport {Event, flags} from './event';\nimport './locale'; // Adds Hebrew and Ashkenazic translations\n\n/**\n * Language for counting the Omer can be English or Hebrew.\n * Lang for the Sefira can be English, Hebrew, or Hebrew in Sephardic transliteration.\n */\nexport type OmerLang = 'en' | 'he' | 'translit';\n\nconst sefirot = {\n  en: {\n    infix: 'within ',\n    infix26: 'within ',\n    words: [\n      '',\n      'Lovingkindness',\n      'Might',\n      'Beauty',\n      'Eternity',\n      'Splendor',\n      'Foundation',\n      'Majesty',\n    ],\n    pfxWords: null,\n  },\n  he: {\n    infix: null,\n    infix26: null,\n    words: [\n      '',\n      'חֶֽסֶד',\n      'גְּבוּרָה',\n      'תִּפְאֶֽרֶת',\n      'נֶּֽצַח',\n      'הוֹד',\n      'יְּסוֹד',\n      'מַלְכוּת',\n    ],\n    pfxWords: [\n      '',\n      'שֶׁבְּחֶֽסֶד',\n      'שֶׁבִּגְבוּרָה',\n      'שֶׁבְּתִפְאֶֽרֶת',\n      'שֶׁבְּנֶֽצַח',\n      'שֶׁבְּהוֹד',\n      'שֶׁבִּיְסוֹד',\n      'שֶׁבְּמַלְכוּת',\n    ],\n  },\n  translit: {\n    infix: \"sheb'\",\n    infix26: 'shebi',\n    words: [\n      '',\n      'Chesed',\n      'Gevurah',\n      'Tiferet',\n      'Netzach',\n      'Hod',\n      'Yesod',\n      'Malkhut',\n    ],\n    pfxWords: null,\n  },\n} as const;\n\nfunction checkDay(omerDay: number): void {\n  if (omerDay < 1 || omerDay > 49) {\n    throw new RangeError(`Invalid Omer day ${omerDay}`);\n  }\n}\n\nfunction getWeeks(omerDay: number): number[] {\n  const weekNum: number = Math.floor((omerDay - 1) / 7) + 1;\n  const daysWithinWeeks: number = omerDay % 7 || 7;\n  return [weekNum, daysWithinWeeks];\n}\n\nfunction omerTodayIsEn(omerDay: number): string {\n  const [weekNumber, daysWithinWeeks]: number[] = getWeeks(omerDay);\n\n  const totalDaysStr: string = omerDay === 1 ? 'day' : 'days';\n  let str = `Today is ${omerDay} ${totalDaysStr}`;\n\n  if (weekNumber > 1 || omerDay === 7) {\n    const day7: boolean = daysWithinWeeks === 7;\n    const numWeeks: number = day7 ? weekNumber : weekNumber - 1;\n    const weeksStr: string = numWeeks === 1 ? 'week' : 'weeks';\n    str += `, which is ${numWeeks} ${weeksStr}`;\n    if (!day7) {\n      const daysStr: string = daysWithinWeeks === 1 ? 'day' : 'days';\n      str += ` and ${daysWithinWeeks} ${daysStr}`;\n    }\n  }\n  return str + ' of the Omer';\n}\n\n// adapted from pip hdate package (GPL)\n// https://github.com/py-libhdate/py-libhdate/blob/master/hdate/date.py\n\nconst tens = ['', 'עֲשָׂרָה', 'עֶשְׂרִים', 'שְׁלוֹשִׁים', 'אַרְבָּעִים'];\nconst ones = [\n  '',\n  'אֶחָד',\n  'שְׁנַיִם',\n  'שְׁלוֹשָׁה',\n  'אַרְבָּעָה',\n  'חֲמִשָּׁה',\n  'שִׁשָּׁה',\n  'שִׁבְעָה',\n  'שְׁמוֹנָה',\n  'תִּשְׁעָה',\n];\n\nconst shnei = 'שְׁנֵי';\nconst yamim = 'יָמִים';\nconst shneiYamim = shnei + ' ' + yamim;\nconst shavuot = 'שָׁבוּעוֹת';\nconst yom = 'יוֹם';\nconst yomEchad = yom + ' ' + ones[1];\nconst asar = 'עָשָׂר';\n\nfunction omerTodayIsHe(omerDay: number): string {\n  const ten: number = Math.floor(omerDay / 10);\n  const one: number = omerDay % 10;\n  let str = 'הַיּוֹם ';\n  if (omerDay === 11) {\n    str += 'אַחַד ' + asar;\n  } else if (omerDay === 12) {\n    str += 'שְׁנֵים ' + asar;\n  } else if (12 < omerDay && omerDay < 20) {\n    str += ones[one] + ' ' + asar;\n  } else if (omerDay > 9) {\n    str += ones[one];\n    if (one) {\n      str += ' ';\n      str += ten === 3 ? 'וּ' : 'וְ';\n    }\n  }\n  if (omerDay > 2) {\n    if (omerDay > 20 || omerDay === 10 || omerDay === 20) {\n      str += tens[ten];\n    }\n    if (omerDay < 11) {\n      str += ones[one] + ' ' + yamim + ' ';\n    } else {\n      str += ' ' + yom + ' ';\n    }\n  } else if (omerDay === 1) {\n    str += yomEchad + ' ';\n  } else {\n    // omer == 2\n    str += shneiYamim + ' ';\n  }\n  if (omerDay > 6) {\n    str = str.trim(); // remove trailing space before comma\n    str += ', שֶׁהֵם ';\n    const weeks: number = Math.floor(omerDay / 7);\n    const days: number = omerDay % 7;\n    if (weeks > 2) {\n      str += ones[weeks] + ' ' + shavuot + ' ';\n    } else if (weeks === 1) {\n      str += 'שָׁבֽוּעַ' + ' ' + ones[1] + ' ';\n    } else {\n      // weeks == 2\n      str += shnei + ' ' + shavuot + ' ';\n    }\n    if (days) {\n      if (days === 2 || days === 3) {\n        str += 'וּ';\n      } else if (days === 5) {\n        str += 'וַ';\n      } else {\n        str += 'וְ';\n      }\n      if (days > 2) {\n        str += ones[days] + ' ' + yamim + ' ';\n      } else if (days === 1) {\n        str += yomEchad + ' ';\n      } else {\n        // days == 2\n        str += shneiYamim + ' ';\n      }\n    }\n  }\n  str += 'לָעֽוֹמֶר';\n  return str.normalize();\n}\n\n/** Represents a day 1-49 of counting the Omer from Pesach to Shavuot */\nexport class OmerEvent extends Event {\n  private readonly weekNumber: number;\n  private readonly daysWithinWeeks: number;\n  readonly omer: number;\n  emoji?: string;\n\n  /**\n   * @param date\n   * @param omerDay\n   */\n  constructor(date: HDate, omerDay: number) {\n    super(date, `Omer ${omerDay}`, flags.OMER_COUNT);\n    checkDay(omerDay);\n    this.weekNumber = Math.floor((omerDay - 1) / 7) + 1;\n    this.daysWithinWeeks = omerDay % 7 || 7;\n    this.omer = omerDay;\n  }\n\n  /**\n   * Returns the sefira. For example, on day 8:\n   *  * חֶֽסֶד שֶׁבִּגְבוּרָה\n   *  * Chesed shebiGevurah\n   *  * Lovingkindness within Might\n   * @param lang `en` (English), `he` (Hebrew with nikud), or `translit` (Hebrew in Sephardic transliteration)\n   * @returns a string such as `Lovingkindness within Might` or `חֶֽסֶד שֶׁבִּגְבוּרָה`\n   */\n  sefira(lang: OmerLang = 'en'): string {\n    if (lang !== 'he' && lang !== 'translit') {\n      lang = 'en';\n    }\n    const [weekNum, daysWithinWeeks]: number[] = getWeeks(this.omer);\n    const config = sefirot[lang as OmerLang];\n    const pfxWords = config.pfxWords;\n    const words = config.words;\n    const week = pfxWords ? pfxWords[weekNum] : words[weekNum];\n    const dayWithinWeek = words[daysWithinWeeks];\n    const infix = pfxWords\n      ? ''\n      : weekNum === 2 || weekNum === 6\n        ? config.infix26\n        : config.infix;\n    return (dayWithinWeek + ' ' + infix + week).normalize();\n  }\n  /**\n   * @param [locale] Optional locale name (defaults to active locale).\n   */\n  render(locale?: string): string {\n    locale = locale ?? Locale.getLocaleName();\n    if (typeof locale === 'string') {\n      locale = locale.toLowerCase();\n    }\n    const isHebrewLocale =\n      locale === 'he' || locale === 'he-x-nonikud' || locale === 'h';\n    const omer = this.omer;\n    const nth = isHebrewLocale ? gematriya(omer) : Locale.ordinal(omer, locale);\n    return nth + ' ' + Locale.gettext('day of the Omer', locale);\n  }\n  /**\n   * Returns translation of \"Omer day 22\" without ordinal numbers.\n   * @param [locale] Optional locale name (defaults to active locale).\n   */\n  renderBrief(locale?: string): string {\n    return (\n      Locale.gettext('Omer', locale) +\n      ' ' +\n      Locale.gettext('day', locale) +\n      ' ' +\n      this.omer\n    );\n  }\n  /**\n   * Returns an emoji number symbol with a circle, for example `㊲`\n   *  from the “Enclosed CJK Letters and Months” block of the Unicode standard\n   * @returns a single Unicode character from `①` through `㊾`\n   */\n  getEmoji(): string {\n    if (typeof this.emoji === 'string') return this.emoji;\n    let codePoint: number;\n    const omerDay = this.omer;\n    if (omerDay <= 20) {\n      codePoint = 9312 + omerDay - 1;\n    } else if (omerDay <= 35) {\n      // between 21 and 35 inclusive\n      codePoint = 12881 + omerDay - 21;\n    } else {\n      // between 36 and 49 inclusive\n      codePoint = 12977 + omerDay - 36;\n    }\n    return String.fromCodePoint(codePoint);\n  }\n\n  getWeeks(): number {\n    const day7 = this.daysWithinWeeks === 7;\n    return day7 ? this.weekNumber : this.weekNumber - 1;\n  }\n\n  getDaysWithinWeeks(): number {\n    return this.daysWithinWeeks;\n  }\n  /**\n   * Returns a sentence with that evening's omer count\n   * @returns a string such as `Today is 10 days, which is 1 week and 3 days of the Omer`\n   *  or `הַיוֹם עֲשָׂרָה יָמִים, שְׁהֵם שָׁבוּעַ אֶחָד וְשְׁלוֹשָׁה יָמִים לָעוֹמֶר`\n   */\n  getTodayIs(locale: string): string {\n    locale = locale ?? Locale.getLocaleName();\n    if (typeof locale === 'string') {\n      locale = locale.toLowerCase();\n    }\n    const isHebrew = locale === 'he' || locale === 'he-x-nonikud';\n    const str = isHebrew ? omerTodayIsHe(this.omer) : omerTodayIsEn(this.omer);\n    if (locale === 'he-x-nonikud') {\n      return Locale.hebrewStripNikkud(str);\n    }\n    return str;\n  }\n\n  url(): string {\n    return `https://www.hebcal.com/omer/${this.getDate().getFullYear()}/${this.omer}`;\n  }\n}\n"],"names":[],"mappings":"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"}
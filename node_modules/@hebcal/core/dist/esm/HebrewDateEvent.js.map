{"version":3,"file":"HebrewDateEvent.js","sources":["../../../src/HebrewDateEvent.ts"],"sourcesContent":["import {HDate, gematriya, months, Locale} from '@hebcal/hdate';\nimport {Event, flags} from './event';\nimport './locale'; // Adds Hebrew and Ashkenazic translations\n\n/** Daily Hebrew date (\"11th of Sivan, 5780\") */\nexport class HebrewDateEvent extends Event {\n  /**\n   * @param date\n   */\n  constructor(date: HDate) {\n    super(date, date.toString(), flags.HEBREW_DATE);\n  }\n  /**\n   * @param [locale] Optional locale name (defaults to active locale).\n   * @example\n   * import {HDate, HebrewDateEvent, months} from '@hebcal/core';\n   *\n   * const hd = new HDate(15, months.CHESHVAN, 5769);\n   * const ev = new HebrewDateEvent(hd);\n   * console.log(ev.render('en')); // '15th of Cheshvan, 5769'\n   * console.log(ev.render('he')); // 'ט״ו חֶשְׁוָן תשס״ט'\n   */\n  render(locale?: string): string {\n    const locale1 = locale?.toLowerCase();\n    const locale0 = locale1 ?? Locale.getLocaleName();\n    const hd = this.getDate();\n    switch (locale0) {\n      case 'h':\n      case 'he':\n        return hd.renderGematriya(false);\n      case 'he-x-nonikud':\n        return hd.renderGematriya(true);\n      default:\n        return hd.render(locale0, true);\n    }\n  }\n  /**\n   * @private\n   * @param locale\n   */\n  private renderBriefHebrew(locale: string): string {\n    const hd = this.getDate();\n    const dd = hd.getDate();\n    const mm = Locale.gettext(hd.getMonthName(), locale);\n    return gematriya(dd) + ' ' + mm;\n  }\n  /**\n   * @param [locale] Optional locale name (defaults to active locale).\n   * @example\n   * import {HDate, HebrewDateEvent, months} from '@hebcal/core';\n   *\n   * const hd = new HDate(15, months.CHESHVAN, 5769);\n   * const ev = new HebrewDateEvent(hd);\n   * console.log(ev.renderBrief()); // '15th of Cheshvan'\n   * console.log(ev.renderBrief('he')); // 'ט״ו חֶשְׁוָן'\n   */\n  renderBrief(locale?: string): string {\n    const locale1 = locale?.toLowerCase();\n    const locale0 = locale1 ?? Locale.getLocaleName();\n    const hd = this.getDate();\n    if (hd.getMonth() === months.TISHREI && hd.getDate() === 1) {\n      return this.render(locale0);\n    }\n    switch (locale0) {\n      case 'h':\n      case 'he':\n      case 'he-x-nonikud':\n        return this.renderBriefHebrew(locale0);\n      default:\n        return hd.render(locale0, false);\n    }\n  }\n}\n"],"names":[],"mappings":";;;;;AAIA;AACM,MAAO,eAAgB,SAAQ,KAAK,CAAA;AACxC;;AAEG;AACH,IAAA,WAAA,CAAY,IAAW,EAAA;AACrB,QAAA,KAAK,CAAC,IAAI,EAAE,IAAI,CAAC,QAAQ,EAAE,EAAE,KAAK,CAAC,WAAW,CAAC;IACjD;AACA;;;;;;;;;AASG;AACH,IAAA,MAAM,CAAC,MAAe,EAAA;QACpB,MAAM,OAAO,GAAG,MAAM,KAAA,IAAA,IAAN,MAAM,uBAAN,MAAM,CAAE,WAAW,EAAE;AACrC,QAAA,MAAM,OAAO,GAAG,OAAO,KAAA,IAAA,IAAP,OAAO,KAAA,MAAA,GAAP,OAAO,GAAI,MAAM,CAAC,aAAa,EAAE;AACjD,QAAA,MAAM,EAAE,GAAG,IAAI,CAAC,OAAO,EAAE;QACzB,QAAQ,OAAO;AACb,YAAA,KAAK,GAAG;AACR,YAAA,KAAK,IAAI;AACP,gBAAA,OAAO,EAAE,CAAC,eAAe,CAAC,KAAK,CAAC;AAClC,YAAA,KAAK,cAAc;AACjB,gBAAA,OAAO,EAAE,CAAC,eAAe,CAAC,IAAI,CAAC;AACjC,YAAA;gBACE,OAAO,EAAE,CAAC,MAAM,CAAC,OAAO,EAAE,IAAI,CAAC;;IAErC;AACA;;;AAGG;AACK,IAAA,iBAAiB,CAAC,MAAc,EAAA;AACtC,QAAA,MAAM,EAAE,GAAG,IAAI,CAAC,OAAO,EAAE;AACzB,QAAA,MAAM,EAAE,GAAG,EAAE,CAAC,OAAO,EAAE;AACvB,QAAA,MAAM,EAAE,GAAG,MAAM,CAAC,OAAO,CAAC,EAAE,CAAC,YAAY,EAAE,EAAE,MAAM,CAAC;QACpD,OAAO,SAAS,CAAC,EAAE,CAAC,GAAG,GAAG,GAAG,EAAE;IACjC;AACA;;;;;;;;;AASG;AACH,IAAA,WAAW,CAAC,MAAe,EAAA;QACzB,MAAM,OAAO,GAAG,MAAM,KAAA,IAAA,IAAN,MAAM,uBAAN,MAAM,CAAE,WAAW,EAAE;AACrC,QAAA,MAAM,OAAO,GAAG,OAAO,KAAA,IAAA,IAAP,OAAO,KAAA,MAAA,GAAP,OAAO,GAAI,MAAM,CAAC,aAAa,EAAE;AACjD,QAAA,MAAM,EAAE,GAAG,IAAI,CAAC,OAAO,EAAE;AACzB,QAAA,IAAI,EAAE,CAAC,QAAQ,EAAE,KAAK,MAAM,CAAC,OAAO,IAAI,EAAE,CAAC,OAAO,EAAE,KAAK,CAAC,EAAE;AAC1D,YAAA,OAAO,IAAI,CAAC,MAAM,CAAC,OAAO,CAAC;QAC7B;QACA,QAAQ,OAAO;AACb,YAAA,KAAK,GAAG;AACR,YAAA,KAAK,IAAI;AACT,YAAA,KAAK,cAAc;AACjB,gBAAA,OAAO,IAAI,CAAC,iBAAiB,CAAC,OAAO,CAAC;AACxC,YAAA;gBACE,OAAO,EAAE,CAAC,MAAM,CAAC,OAAO,EAAE,KAAK,CAAC;;IAEtC;AACD;;;;"}
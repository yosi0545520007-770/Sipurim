{"version":3,"file":"bundle.min.js","sources":["../src/pkgVersion.ts","../node_modules/@hebcal/hdate/dist/esm/greg.js","../node_modules/@hebcal/hdate/dist/esm/gregNamespace.js","../node_modules/@hebcal/hdate/dist/esm/hdateBase.js","../node_modules/@hebcal/hdate/dist/esm/anniversary.js","../node_modules/@hebcal/hdate/dist/esm/gematriya.js","../node_modules/@hebcal/hdate/dist/esm/pad.js","../node_modules/@hebcal/hdate/dist/esm/dateFormat.js","../node_modules/@hebcal/hdate/dist/esm/ashkenazi.po.js","../node_modules/@hebcal/hdate/dist/esm/he.po.js","../node_modules/@hebcal/hdate/dist/esm/locale.js","../node_modules/@hebcal/hdate/dist/esm/hdate.js","../src/ashkenazi.po.ts","../src/he.po.ts","../src/locale.ts","../src/he-x-NoNikud.po.ts","../src/event.ts","../src/HebrewDateEvent.ts","../node_modules/core-js/internals/global-this.js","../node_modules/core-js/internals/fails.js","../node_modules/core-js/internals/descriptors.js","../node_modules/core-js/internals/function-bind-native.js","../node_modules/core-js/internals/function-call.js","../node_modules/core-js/internals/create-property-descriptor.js","../node_modules/core-js/internals/function-uncurry-this.js","../node_modules/core-js/internals/indexed-object.js","../node_modules/core-js/internals/classof-raw.js","../node_modules/core-js/internals/is-null-or-undefined.js","../node_modules/core-js/internals/require-object-coercible.js","../node_modules/core-js/internals/to-indexed-object.js","../node_modules/core-js/internals/is-callable.js","../node_modules/core-js/internals/is-object.js","../node_modules/core-js/internals/get-built-in.js","../node_modules/core-js/internals/environment-v8-version.js","../node_modules/core-js/internals/environment-user-agent.js","../node_modules/core-js/internals/symbol-constructor-detection.js","../node_modules/core-js/internals/use-symbol-as-uid.js","../node_modules/core-js/internals/is-symbol.js","../node_modules/core-js/internals/object-is-prototype-of.js","../node_modules/core-js/internals/try-to-string.js","../node_modules/core-js/internals/a-callable.js","../node_modules/core-js/internals/get-method.js","../node_modules/core-js/internals/ordinary-to-primitive.js","../node_modules/core-js/internals/define-global-property.js","../node_modules/core-js/internals/shared-store.js","../node_modules/core-js/internals/is-pure.js","../node_modules/core-js/internals/shared.js","../node_modules/core-js/internals/to-object.js","../node_modules/core-js/internals/has-own-property.js","../node_modules/core-js/internals/uid.js","../node_modules/core-js/internals/well-known-symbol.js","../node_modules/core-js/internals/to-primitive.js","../node_modules/core-js/internals/to-property-key.js","../node_modules/core-js/internals/document-create-element.js","../node_modules/core-js/internals/ie8-dom-define.js","../node_modules/core-js/internals/object-get-own-property-descriptor.js","../node_modules/core-js/internals/object-property-is-enumerable.js","../node_modules/core-js/internals/v8-prototype-define-bug.js","../node_modules/core-js/internals/an-object.js","../node_modules/core-js/internals/object-define-property.js","../node_modules/core-js/internals/create-non-enumerable-property.js","../node_modules/core-js/internals/inspect-source.js","../node_modules/core-js/internals/shared-key.js","../node_modules/core-js/internals/hidden-keys.js","../node_modules/core-js/internals/internal-state.js","../node_modules/core-js/internals/weak-map-basic-detection.js","../node_modules/core-js/internals/make-built-in.js","../node_modules/core-js/internals/function-name.js","../node_modules/core-js/internals/define-built-in.js","../node_modules/core-js/internals/to-integer-or-infinity.js","../node_modules/core-js/internals/math-trunc.js","../node_modules/core-js/internals/to-absolute-index.js","../node_modules/core-js/internals/to-length.js","../node_modules/core-js/internals/length-of-array-like.js","../node_modules/core-js/internals/array-includes.js","../node_modules/core-js/internals/object-keys-internal.js","../node_modules/core-js/internals/enum-bug-keys.js","../node_modules/core-js/internals/own-keys.js","../node_modules/core-js/internals/object-get-own-property-names.js","../node_modules/core-js/internals/object-get-own-property-symbols.js","../node_modules/core-js/internals/copy-constructor-properties.js","../node_modules/core-js/internals/export.js","../node_modules/core-js/internals/is-forced.js","../node_modules/core-js/internals/object-keys.js","../node_modules/core-js/internals/html.js","../node_modules/core-js/internals/object-create.js","../node_modules/core-js/internals/object-define-properties.js","../node_modules/core-js/internals/add-to-unscopables.js","../node_modules/temporal-polyfill/chunks/internal.js","../node_modules/core-js/modules/es.array.includes.js","../node_modules/temporal-polyfill/chunks/classApi.js","../node_modules/@hebcal/noaa/dist/index.js","../node_modules/temporal-polyfill/global.esm.js","../src/location.ts","../src/zmanim.ts","../node_modules/quick-lru/index.js","../src/modern.ts","../src/parshaName.ts","../src/sedra.ts","../src/staticHolidays.ts","../src/HolidayEvent.ts","../src/YomKippurKatanEvent.ts","../src/holidays.ts","../src/isAssurBemlacha.ts","../src/reformatTimeStr.ts","../src/TimedEvent.ts","../src/candles.ts","../src/molad.ts","../node_modules/@hebcal/hdate/dist/esm/molad.js","../src/omer.ts","../src/ParshaEvent.ts","../src/MevarchimChodeshEvent.ts","../src/DailyLearning.ts","../src/tachanun.ts","../src/getStartAndEnd.ts","../src/calendar.ts","../src/hebcal.ts","../src/hallel.ts","../src/parshaYear.ts"],"sourcesContent":["/** DO NOT EDIT THIS AUTO-GENERATED FILE! */\nexport const version = '5.10.1';\n","/*! @hebcal/hdate v0.14.2, distributed under GPLv2 https://www.gnu.org/licenses/gpl-2.0.txt */\n/* eslint-disable @typescript-eslint/no-namespace, no-inner-declarations */\n/** @private */\nconst lengths = [0, 31, 28, 31, 30, 31, 30, 31, 31, 30, 31, 30, 31];\n/** @private */\nconst monthLengths = [lengths, lengths.slice()];\nmonthLengths[1][2] = 29;\n/**\n * @private\n */\nfunction mod(x, y) {\n    return x - y * Math.floor(x / y);\n}\n/**\n * @private\n */\nfunction quotient(x, y) {\n    return Math.floor(x / y);\n}\n/**\n * @private\n * @param abs - R.D. number of days\n */\nfunction yearFromFixed(abs) {\n    const l0 = abs - 1;\n    const n400 = quotient(l0, 146097);\n    const d1 = mod(l0, 146097);\n    const n100 = quotient(d1, 36524);\n    const d2 = mod(d1, 36524);\n    const n4 = quotient(d2, 1461);\n    const d3 = mod(d2, 1461);\n    const n1 = quotient(d3, 365);\n    const year = 400 * n400 + 100 * n100 + 4 * n4 + n1;\n    return n100 !== 4 && n1 !== 4 ? year + 1 : year;\n}\n/*\nconst ABS_14SEP1752 = 639797;\nconst ABS_2SEP1752 = 639785;\n*/\n/*\n * Formerly in namespace, now top-level\n */\n/**\n * Returns true if the Gregorian year is a leap year\n * @param year Gregorian year\n */\nfunction isGregLeapYear(year) {\n    return !(year % 4) && (!!(year % 100) || !(year % 400));\n}\n/**\n * Number of days in the Gregorian month for given year\n * @param month Gregorian month (1=January, 12=December)\n * @param year Gregorian year\n */\nfunction daysInGregMonth(month, year) {\n    // 1 based months\n    return monthLengths[+isGregLeapYear(year)][month];\n}\n/**\n * Returns true if the object is a Javascript Date\n */\nfunction isDate(obj) {\n    // eslint-disable-next-line no-prototype-builtins\n    return typeof obj === 'object' && Date.prototype.isPrototypeOf(obj);\n}\n/**\n * @private\n * @param year\n * @param month (1-12)\n * @param day (1-31)\n */\nfunction toFixed(year, month, day) {\n    const py = year - 1;\n    return (365 * py +\n        quotient(py, 4) -\n        quotient(py, 100) +\n        quotient(py, 400) +\n        quotient(367 * month - 362, 12) +\n        (month <= 2 ? 0 : isGregLeapYear(year) ? -1 : -2) +\n        day);\n}\n/**\n * Converts Gregorian date to absolute R.D. (Rata Die) days\n * @param date Gregorian date\n */\nfunction greg2abs(date) {\n    if (!isDate(date)) {\n        throw new TypeError(`not a Date: ${date}`);\n    }\n    else if (isNaN(date.getTime())) {\n        throw new RangeError('Invalid Date');\n    }\n    const abs = toFixed(date.getFullYear(), date.getMonth() + 1, date.getDate());\n    /*\n      if (abs < ABS_14SEP1752 && abs > ABS_2SEP1752) {\n        throw new RangeError(`Invalid Date: ${date}`);\n      }\n      */\n    return abs;\n}\n/**\n * Converts from Rata Die (R.D. number) to Gregorian date.\n * See the footnote on page 384 of ``Calendrical Calculations, Part II:\n * Three Historical Calendars'' by E. M. Reingold,  N. Dershowitz, and S. M.\n * Clamen, Software--Practice and Experience, Volume 23, Number 4\n * (April, 1993), pages 383-404 for an explanation.\n *\n * Note that this function returns the daytime portion of the date.\n * For example, the 15th of Cheshvan 5769 began at sundown on\n * 12 November 2008 and continues through 13 November 2008. This\n * function would return only the date 13 November 2008.\n * @param abs - R.D. number of days\n * @example\n * const abs = hebrew2abs(5769, months.CHESHVAN, 15);\n * const date = abs2greg(abs); // 13 November 2008\n * const year = date.getFullYear(); // 2008\n * const monthNum = date.getMonth() + 1; // 11\n * const day = date.getDate(); // 13\n */\nfunction abs2greg(abs) {\n    if (typeof abs !== 'number' || isNaN(abs)) {\n        throw new TypeError(`not a Number: ${abs}`);\n    }\n    abs = Math.trunc(abs);\n    /*\n      if (abs < ABS_14SEP1752 && abs > ABS_2SEP1752) {\n        throw new RangeError(`Invalid Date: ${abs}`);\n      }\n      */\n    const year = yearFromFixed(abs);\n    const priorDays = abs - toFixed(year, 1, 1);\n    const correction = abs < toFixed(year, 3, 1) ? 0 : isGregLeapYear(year) ? 1 : 2;\n    const month = quotient(12 * (priorDays + correction) + 373, 367);\n    const day = abs - toFixed(year, month, 1) + 1;\n    const dt = new Date(year, month - 1, day);\n    if (year < 100 && year >= 0) {\n        dt.setFullYear(year);\n    }\n    return dt;\n}\n\nexport { abs2greg, daysInGregMonth, greg2abs, isDate, isGregLeapYear };\n//# sourceMappingURL=greg.js.map\n","/*! @hebcal/hdate v0.14.2, distributed under GPLv2 https://www.gnu.org/licenses/gpl-2.0.txt */\nimport { abs2greg, daysInGregMonth, greg2abs, isDate, isGregLeapYear } from './greg.js';\n\n/* eslint-disable @typescript-eslint/no-explicit-any, @typescript-eslint/no-namespace */\n/**\n * Gregorian date helper functions\n */\nvar greg;\n(function (greg) {\n})(greg || (greg = {}));\ngreg.abs2greg = abs2greg;\ngreg.daysInMonth = daysInGregMonth;\ngreg.greg2abs = greg2abs;\ngreg.isDate = isDate;\ngreg.isLeapYear = isGregLeapYear;\n\nexport { greg };\n//# sourceMappingURL=gregNamespace.js.map\n","/*! @hebcal/hdate v0.14.2, distributed under GPLv2 https://www.gnu.org/licenses/gpl-2.0.txt */\n/*\n * More minimal HDate\n */\nconst NISAN = 1;\nconst IYYAR = 2;\nconst SIVAN = 3;\nconst TAMUZ = 4;\nconst AV = 5;\nconst ELUL = 6;\nconst TISHREI = 7;\nconst CHESHVAN = 8;\nconst KISLEV = 9;\nconst TEVET = 10;\nconst SHVAT = 11;\nconst ADAR_I = 12;\nconst ADAR_II = 13;\n/**\n * Hebrew months of the year (NISAN=1, TISHREI=7)\n * @readonly\n * @enum {number}\n */\nconst months = {\n    /** Nissan / ניסן */\n    NISAN,\n    /** Iyyar / אייר */\n    IYYAR,\n    /** Sivan / סיון */\n    SIVAN,\n    /** Tamuz (sometimes Tammuz) / תמוז */\n    TAMUZ,\n    /** Av / אב */\n    AV,\n    /** Elul / אלול */\n    ELUL,\n    /** Tishrei / תִּשְׁרֵי */\n    TISHREI,\n    /** Cheshvan / חשון */\n    CHESHVAN,\n    /** Kislev / כסלו */\n    KISLEV,\n    /** Tevet / טבת */\n    TEVET,\n    /** Sh'vat / שבט */\n    SHVAT,\n    /** Adar or Adar Rishon / אדר */\n    ADAR_I,\n    /** Adar Sheini (only on leap years) / אדר ב׳ */\n    ADAR_II,\n};\nconst NISAN_STR = 'Nisan';\nconst monthNames0 = [\n    '',\n    NISAN_STR,\n    'Iyyar',\n    'Sivan',\n    'Tamuz',\n    'Av',\n    'Elul',\n    'Tishrei',\n    'Cheshvan',\n    'Kislev',\n    'Tevet',\n    \"Sh'vat\",\n];\n/*\n * Transliterations of Hebrew month names.\n * Regular years are index 0 and leap years are index 1.\n * @private\n */\nconst monthNames = [\n    [...monthNames0, 'Adar', NISAN_STR],\n    [...monthNames0, 'Adar I', 'Adar II', NISAN_STR],\n];\nconst edCache = new Map();\nconst EPOCH = -1373428;\n// Avg year length in the cycle (19 solar years with 235 lunar months)\nconst AVG_HEBYEAR_DAYS = 365.24682220597794;\n/**\n * @private\n */\nfunction assertNumber(n, name) {\n    if (typeof n !== 'number' || isNaN(n)) {\n        throw new TypeError(`param '${name}' not a number: ${n}`);\n    }\n}\n/**\n * Converts Hebrew date to R.D. (Rata Die) fixed days.\n * R.D. 1 is the imaginary date Monday, January 1, 1 on the Gregorian\n * Calendar.\n * @param year Hebrew year\n * @param month Hebrew month\n * @param day Hebrew date (1-30)\n * @example\n * const abs = hebrew2abs(5769, months.CHESHVAN, 15);\n */\nfunction hebrew2abs(year, month, day) {\n    assertNumber(year, 'year');\n    assertNumber(month, 'month');\n    assertNumber(day, 'day');\n    if (year < 1) {\n        throw new RangeError(`hebrew2abs: invalid year ${year}`);\n    }\n    let tempabs = day;\n    if (month < TISHREI) {\n        for (let m = TISHREI; m <= monthsInYear(year); m++) {\n            tempabs += daysInMonth(m, year);\n        }\n        for (let m = NISAN; m < month; m++) {\n            tempabs += daysInMonth(m, year);\n        }\n    }\n    else {\n        for (let m = TISHREI; m < month; m++) {\n            tempabs += daysInMonth(m, year);\n        }\n    }\n    return EPOCH + elapsedDays(year) + tempabs - 1;\n}\n/**\n * Converts Hebrew date to R.D. (Rata Die) fixed days.\n * R.D. 1 is the imaginary date Monday, January 1, 1 on the Gregorian\n * Calendar.\n */\nfunction hd2abs(hdate) {\n    return hebrew2abs(hdate.yy, hdate.mm, hdate.dd);\n}\n/**\n * @private\n */\nfunction newYear(year) {\n    return EPOCH + elapsedDays(year);\n}\n/**\n * Converts absolute R.D. days to Hebrew date\n * @param abs absolute R.D. days\n */\nfunction abs2hebrew(abs) {\n    assertNumber(abs, 'abs');\n    abs = Math.trunc(abs);\n    if (abs <= EPOCH) {\n        throw new RangeError(`abs2hebrew: ${abs} is before epoch`);\n    }\n    // first, quickly approximate year\n    let year = Math.floor((abs - EPOCH) / AVG_HEBYEAR_DAYS);\n    while (newYear(year) <= abs) {\n        ++year;\n    }\n    --year;\n    let month = abs < hebrew2abs(year, 1, 1) ? 7 : 1;\n    while (abs > hebrew2abs(year, month, daysInMonth(month, year))) {\n        ++month;\n    }\n    const day = 1 + abs - hebrew2abs(year, month, 1);\n    return { yy: year, mm: month, dd: day };\n}\n/**\n * Returns true if Hebrew year is a leap year\n * @param year Hebrew year\n */\nfunction isLeapYear(year) {\n    return (1 + year * 7) % 19 < 7;\n}\n/**\n * Number of months in this Hebrew year (either 12 or 13 depending on leap year)\n * @param year Hebrew year\n */\nfunction monthsInYear(year) {\n    return 12 + +isLeapYear(year); // boolean is cast to 1 or 0\n}\n/**\n * Number of days in Hebrew month in a given year (29 or 30)\n * @param month Hebrew month (e.g. months.TISHREI)\n * @param year Hebrew year\n */\nfunction daysInMonth(month, year) {\n    switch (month) {\n        case IYYAR:\n        case TAMUZ:\n        case ELUL:\n        case TEVET:\n        case ADAR_II:\n            return 29;\n    }\n    if ((month === ADAR_I && !isLeapYear(year)) ||\n        (month === CHESHVAN && !longCheshvan(year)) ||\n        (month === KISLEV && shortKislev(year))) {\n        return 29;\n    }\n    else {\n        return 30;\n    }\n}\n/**\n * Returns a transliterated string name of Hebrew month in year,\n * for example 'Elul' or 'Cheshvan'.\n * @param month Hebrew month (e.g. months.TISHREI)\n * @param year Hebrew year\n */\nfunction getMonthName(month, year) {\n    assertNumber(month, 'month');\n    assertNumber(year, 'year');\n    if (month < 1 || month > 14) {\n        throw new TypeError(`bad monthNum: ${month}`);\n    }\n    return monthNames[+isLeapYear(year)][month];\n}\n/**\n * Days from sunday prior to start of Hebrew calendar to mean\n * conjunction of Tishrei in Hebrew YEAR\n * @param year Hebrew year\n */\nfunction elapsedDays(year) {\n    const n = edCache.get(year);\n    if (typeof n === 'number') {\n        return n;\n    }\n    const elapsed = elapsedDays0(year);\n    edCache.set(year, elapsed);\n    return elapsed;\n}\n/**\n * Days from sunday prior to start of Hebrew calendar to mean\n * conjunction of Tishrei in Hebrew YEAR\n * @private\n * @param year Hebrew year\n */\nfunction elapsedDays0(year) {\n    const prevYear = year - 1;\n    const mElapsed = 235 * Math.floor(prevYear / 19) + // Months in complete 19 year lunar (Metonic) cycles so far\n        12 * (prevYear % 19) + // Regular months in this cycle\n        Math.floor(((prevYear % 19) * 7 + 1) / 19); // Leap months this cycle\n    const pElapsed = 204 + 793 * (mElapsed % 1080);\n    const hElapsed = 5 +\n        12 * mElapsed +\n        793 * Math.floor(mElapsed / 1080) +\n        Math.floor(pElapsed / 1080);\n    const parts = (pElapsed % 1080) + 1080 * (hElapsed % 24);\n    const day = 1 + 29 * mElapsed + Math.floor(hElapsed / 24);\n    let altDay = day;\n    if (parts >= 19440 ||\n        (2 === day % 7 && parts >= 9924 && !isLeapYear(year)) ||\n        (1 === day % 7 && parts >= 16789 && isLeapYear(prevYear))) {\n        altDay++;\n    }\n    if (altDay % 7 === 0 || altDay % 7 === 3 || altDay % 7 === 5) {\n        return altDay + 1;\n    }\n    else {\n        return altDay;\n    }\n}\n/**\n * Number of days in the hebrew YEAR.\n * A common Hebrew calendar year can have a length of 353, 354 or 355 days\n * A leap Hebrew calendar year can have a length of 383, 384 or 385 days\n * @param year Hebrew year\n */\nfunction daysInYear(year) {\n    return elapsedDays(year + 1) - elapsedDays(year);\n}\n/**\n * true if Cheshvan is long in Hebrew year\n * @param year Hebrew year\n */\nfunction longCheshvan(year) {\n    return daysInYear(year) % 10 === 5;\n}\n/**\n * true if Kislev is short in Hebrew year\n * @param year Hebrew year\n */\nfunction shortKislev(year) {\n    return daysInYear(year) % 10 === 3;\n}\n/**\n * Converts Hebrew month string name to numeric\n * @param monthName monthName\n */\nfunction monthFromName(monthName) {\n    if (typeof monthName === 'number') {\n        if (isNaN(monthName) || monthName < 1 || monthName > 14) {\n            throw new RangeError(`bad monthName: ${monthName}`);\n        }\n        return monthName;\n    }\n    let c = monthName.trim().toLowerCase();\n    // If Hebrew month starts with a bet (for example `בתמוז`) then ignore it\n    if (c[0] === 'ב') {\n        c = c.substring(1);\n    }\n    /*\n    the Hebrew months are unique to their second letter\n    N         Nisan  (November?)\n    I         Iyyar\n    E        Elul\n    C        Cheshvan\n    K        Kislev\n    1        1Adar\n    2        2Adar\n    Si Sh     Sivan, Shvat\n    Ta Ti Te Tamuz, Tishrei, Tevet\n    Av Ad    Av, Adar\n  \n    אב אד אי אל   אב אדר אייר אלול\n    ח            חשון\n    ט            טבת\n    כ            כסלו\n    נ            ניסן\n    ס            סיון\n    ש            שבט\n    תמ תש        תמוז תשרי\n    */\n    switch (c[0]) {\n        case 'n':\n        case 'נ':\n            if (c[1] === 'o') {\n                break; /* this catches \"november\" */\n            }\n            return NISAN;\n        case 'i':\n            return IYYAR;\n        case 'e':\n            return ELUL;\n        case 'c':\n        case 'ח':\n            return CHESHVAN;\n        case 'k':\n        case 'כ':\n            return KISLEV;\n        case 's':\n            switch (c[1]) {\n                case 'i':\n                    return SIVAN;\n                case 'h':\n                    return SHVAT;\n            }\n            break;\n        case 't':\n            switch (c[1]) {\n                case 'a':\n                    return TAMUZ;\n                case 'i':\n                    return TISHREI;\n                case 'e':\n                    return TEVET;\n            }\n            break;\n        case 'a':\n            switch (c[1]) {\n                case 'v':\n                    return AV;\n                case 'd':\n                    if (/(1|[^i]i|a|א)$/i.test(monthName)) {\n                        return ADAR_I;\n                    }\n                    return ADAR_II; // else assume sheini\n            }\n            break;\n        case 'ס':\n            return SIVAN;\n        case 'ט':\n            return TEVET;\n        case 'ש':\n            return SHVAT;\n        case 'א':\n            switch (c[1]) {\n                case 'ב':\n                    return AV;\n                case 'ד':\n                    if (/(1|[^i]i|a|א)$/i.test(monthName)) {\n                        return ADAR_I;\n                    }\n                    return ADAR_II; // else assume sheini\n                case 'י':\n                    return IYYAR;\n                case 'ל':\n                    return ELUL;\n            }\n            break;\n        case 'ת':\n            switch (c[1]) {\n                case 'מ':\n                    return TAMUZ;\n                case 'ש':\n                    return TISHREI;\n            }\n            break;\n    }\n    throw new RangeError(`bad monthName: ${monthName}`);\n}\n\nexport { abs2hebrew, daysInMonth, daysInYear, elapsedDays, getMonthName, hd2abs, hebrew2abs, isLeapYear, longCheshvan, monthFromName, months, monthsInYear, shortKislev };\n//# sourceMappingURL=hdateBase.js.map\n","/*! @hebcal/hdate v0.14.2, distributed under GPLv2 https://www.gnu.org/licenses/gpl-2.0.txt */\nimport { hebrew2abs, longCheshvan, abs2hebrew, shortKislev, monthsInYear, isLeapYear, months } from './hdateBase.js';\nimport { abs2greg, isDate, greg2abs } from './greg.js';\n\nconst NISAN = months.NISAN;\nconst CHESHVAN = months.CHESHVAN;\nconst KISLEV = months.KISLEV;\nconst TEVET = months.TEVET;\nconst SHVAT = months.SHVAT;\nconst ADAR_I = months.ADAR_I;\nconst ADAR_II = months.ADAR_II;\n/**\n * Returns true if the object is a SimpleHebrewDate\n * @private\n */\nfunction isSimpleHebrewDate(obj) {\n    return (typeof obj === 'object' &&\n        obj !== null &&\n        typeof obj.yy === 'number' &&\n        typeof obj.mm === 'number' &&\n        typeof obj.dd === 'number');\n}\n/**\n * @private\n */\nfunction toSimpleHebrewDate(obj) {\n    if (isSimpleHebrewDate(obj)) {\n        return obj;\n    }\n    else if (isDate(obj)) {\n        const abs = greg2abs(obj);\n        return abs2hebrew(abs);\n    }\n    else {\n        // typeof obj === 'number'\n        return abs2hebrew(obj);\n    }\n}\n/**\n * Calculates yahrzeit.\n * `hyear` must be after original `date` of death.\n * Returns `undefined` when requested year preceeds or is same as original year.\n *\n * Hebcal uses the algorithm defined in \"Calendrical Calculations\"\n * by Edward M. Reingold and Nachum Dershowitz.\n *\n * The customary anniversary date of a death is more complicated and depends\n * also on the character of the year in which the first anniversary occurs.\n * There are several cases:\n *\n * * If the date of death is Marcheshvan 30, the anniversary in general depends\n *   on the first anniversary; if that first anniversary was not Marcheshvan 30,\n *   use the day before Kislev 1.\n * * If the date of death is Kislev 30, the anniversary in general again depends\n *   on the first anniversary — if that was not Kislev 30, use the day before\n *   Tevet 1.\n * * If the date of death is Adar II, the anniversary is the same day in the\n *   last month of the Hebrew year (Adar or Adar II).\n * * If the date of death is Adar I 30, the anniversary in a Hebrew year that\n *   is not a leap year (in which Adar only has 29 days) is the last day in\n *   Shevat.\n * * In all other cases, use the normal (that is, same month number) anniversary\n *   of the date of death. [Calendrical Calculations p. 113]\n * @example\n * import {getYahrzeit} from '@hebcal/hdate';\n * const dt = new Date(2014, 2, 2); // '2014-03-02' == '30 Adar I 5774'\n * const anniversary = getYahrzeit(5780, dt); // '2/25/2020' == '30 Sh\\'vat 5780'\n * @param hyear Hebrew year\n * @param date Gregorian or Hebrew date of death\n * @returns anniversary occurring in `hyear`\n */\nfunction getYahrzeit(hyear, date) {\n    const hd = getYahrzeitHD(hyear, date);\n    if (typeof hd === 'undefined') {\n        return hd;\n    }\n    return abs2greg(hebrew2abs(hd.yy, hd.mm, hd.dd));\n}\nfunction getYahrzeitHD(hyear, date) {\n    let hDeath = toSimpleHebrewDate(date);\n    if (hyear <= hDeath.yy) {\n        // Hebrew year ${hyear} occurs on or before original date in ${hDeath.yy}\n        return undefined;\n    }\n    if (hDeath.mm === CHESHVAN &&\n        hDeath.dd === 30 &&\n        !longCheshvan(hDeath.yy + 1)) {\n        // If it's Heshvan 30 it depends on the first anniversary;\n        // if that was not Heshvan 30, use the day before Kislev 1.\n        hDeath = abs2hebrew(hebrew2abs(hyear, KISLEV, 1) - 1);\n    }\n    else if (hDeath.mm === KISLEV &&\n        hDeath.dd === 30 &&\n        shortKislev(hDeath.yy + 1)) {\n        // If it's Kislev 30 it depends on the first anniversary;\n        // if that was not Kislev 30, use the day before Teveth 1.\n        hDeath = abs2hebrew(hebrew2abs(hyear, TEVET, 1) - 1);\n    }\n    else if (hDeath.mm === ADAR_II) {\n        // If it's Adar II, use the same day in last month of year (Adar or Adar II).\n        hDeath.mm = monthsInYear(hyear);\n    }\n    else if (hDeath.mm === ADAR_I && hDeath.dd === 30 && !isLeapYear(hyear)) {\n        // If it's the 30th in Adar I and year is not a leap year\n        // (so Adar has only 29 days), use the last day in Shevat.\n        hDeath.dd = 30;\n        hDeath.mm = SHVAT;\n    }\n    // In all other cases, use the normal anniversary of the date of death.\n    // advance day to rosh chodesh if needed\n    if (hDeath.mm === CHESHVAN && hDeath.dd === 30 && !longCheshvan(hyear)) {\n        hDeath.mm = KISLEV;\n        hDeath.dd = 1;\n    }\n    else if (hDeath.mm === KISLEV && hDeath.dd === 30 && shortKislev(hyear)) {\n        hDeath.mm = TEVET;\n        hDeath.dd = 1;\n    }\n    hDeath.yy = hyear;\n    return hDeath;\n}\n/**\n * Calculates a birthday or anniversary (non-yahrzeit).\n * `hyear` must be after original `date` of anniversary.\n * Returns `undefined` when requested year preceeds or is same as original year.\n *\n * Hebcal uses the algorithm defined in \"Calendrical Calculations\"\n * by Edward M. Reingold and Nachum Dershowitz.\n *\n * The birthday of someone born in Adar of an ordinary year or Adar II of\n * a leap year is also always in the last month of the year, be that Adar\n * or Adar II. The birthday in an ordinary year of someone born during the\n * first 29 days of Adar I in a leap year is on the corresponding day of Adar;\n * in a leap year, the birthday occurs in Adar I, as expected.\n *\n * Someone born on the thirtieth day of Marcheshvan, Kislev, or Adar I\n * has his birthday postponed until the first of the following month in\n * years where that day does not occur. [Calendrical Calculations p. 111]\n * @example\n * import {getBirthdayOrAnniversary} from '@hebcal/hdate';\n * const dt = new Date(2014, 2, 2); // '2014-03-02' == '30 Adar I 5774'\n * const anniversary = getBirthdayOrAnniversary(5780, dt); // '3/26/2020' == '1 Nisan 5780'\n * @param hyear Hebrew year\n * @param date Gregorian or Hebrew date of event\n * @returns anniversary occurring in `hyear`\n */\nfunction getBirthdayOrAnniversary(hyear, date) {\n    const hd = getBirthdayHD(hyear, date);\n    if (typeof hd === 'undefined') {\n        return hd;\n    }\n    return abs2greg(hebrew2abs(hd.yy, hd.mm, hd.dd));\n}\nfunction getBirthdayHD(hyear, date) {\n    const orig = toSimpleHebrewDate(date);\n    const origYear = orig.yy;\n    if (hyear === origYear) {\n        return orig;\n    }\n    else if (hyear < origYear) {\n        // Hebrew year ${hyear} occurs on or before original date in ${origYear}\n        return undefined;\n    }\n    const isOrigLeap = isLeapYear(origYear);\n    let month = orig.mm;\n    let day = orig.dd;\n    if ((month === ADAR_I && !isOrigLeap) || (month === ADAR_II && isOrigLeap)) {\n        month = monthsInYear(hyear);\n    }\n    else if (month === CHESHVAN && day === 30 && !longCheshvan(hyear)) {\n        month = KISLEV;\n        day = 1;\n    }\n    else if (month === KISLEV && day === 30 && shortKislev(hyear)) {\n        month = TEVET;\n        day = 1;\n    }\n    else if (month === ADAR_I &&\n        day === 30 &&\n        isOrigLeap &&\n        !isLeapYear(hyear)) {\n        month = NISAN;\n        day = 1;\n    }\n    return { yy: hyear, mm: month, dd: day };\n}\n\nexport { getBirthdayHD, getBirthdayOrAnniversary, getYahrzeit, getYahrzeitHD };\n//# sourceMappingURL=anniversary.js.map\n","/*! @hebcal/hdate v0.14.2, distributed under GPLv2 https://www.gnu.org/licenses/gpl-2.0.txt */\nconst GERESH = '׳';\nconst GERSHAYIM = '״';\nconst heb2num = {\n    א: 1,\n    ב: 2,\n    ג: 3,\n    ד: 4,\n    ה: 5,\n    ו: 6,\n    ז: 7,\n    ח: 8,\n    ט: 9,\n    י: 10,\n    כ: 20,\n    ל: 30,\n    מ: 40,\n    נ: 50,\n    ס: 60,\n    ע: 70,\n    פ: 80,\n    צ: 90,\n    ק: 100,\n    ר: 200,\n    ש: 300,\n    ת: 400,\n};\nconst num2heb = {};\nfor (const [key, val] of Object.entries(heb2num)) {\n    num2heb[val] = key;\n}\nfunction num2digits(num) {\n    const digits = [];\n    while (num > 0) {\n        if (num === 15 || num === 16) {\n            digits.push(9);\n            digits.push(num - 9);\n            break;\n        }\n        let incr = 100;\n        let i;\n        for (i = 400; i > num; i -= incr) {\n            if (i === incr) {\n                incr = incr / 10;\n            }\n        }\n        digits.push(i);\n        num -= i;\n    }\n    return digits;\n}\n/**\n * Converts a numerical value to a string of Hebrew letters.\n *\n * When specifying years of the Hebrew calendar in the present millennium,\n * we omit the thousands (which is presently 5 [ה]).\n * @example\n * gematriya(5774) // 'תשע״ד' - cropped to 774\n * gematriya(25) // 'כ״ה'\n * gematriya(60) // 'ס׳'\n * gematriya(3761) // 'ג׳תשס״א'\n * gematriya(1123) // 'א׳קכ״ג'\n */\nfunction gematriya(num) {\n    const num1 = parseInt(num, 10);\n    if (!num1 || num1 < 0) {\n        throw new TypeError(`invalid number: ${num}`);\n    }\n    let str = '';\n    const thousands = Math.floor(num1 / 1000);\n    if (thousands > 0 && thousands !== 5) {\n        const tdigits = num2digits(thousands);\n        for (const tdig of tdigits) {\n            str += num2heb[tdig];\n        }\n        str += GERESH;\n    }\n    const digits = num2digits(num1 % 1000);\n    if (digits.length === 1) {\n        return str + num2heb[digits[0]] + GERESH;\n    }\n    for (let i = 0; i < digits.length; i++) {\n        if (i + 1 === digits.length) {\n            str += GERSHAYIM;\n        }\n        str += num2heb[digits[i]];\n    }\n    return str;\n}\n/**\n * Converts a string of Hebrew letters to a numerical value.\n *\n * Only considers the value of Hebrew letters `א` through `ת`.\n * Ignores final Hebrew letters such as `ך` (kaf sofit) or `ם` (mem sofit)\n * and vowels (nekudot).\n */\nfunction gematriyaStrToNum(str) {\n    let num = 0;\n    const gereshIdx = str.indexOf(GERESH);\n    if (gereshIdx !== -1 && gereshIdx !== str.length - 1) {\n        const thousands = str.substring(0, gereshIdx);\n        num += gematriyaStrToNum(thousands) * 1000;\n        str = str.substring(gereshIdx);\n    }\n    for (const ch of str) {\n        const n = heb2num[ch];\n        if (typeof n === 'number') {\n            num += n;\n        }\n    }\n    return num;\n}\n\nexport { gematriya, gematriyaStrToNum };\n//# sourceMappingURL=gematriya.js.map\n","/*! @hebcal/hdate v0.14.2, distributed under GPLv2 https://www.gnu.org/licenses/gpl-2.0.txt */\n/**\n * Formats a number with leading zeros so the resulting string is 4 digits long.\n * Similar to `string.padStart(4, '0')` but will also format\n * negative numbers similar to how the JavaScript date formats\n * negative year numbers (e.g. `-37` is formatted as `-000037`).\n */\nfunction pad4(num) {\n    if (num < 0) {\n        return '-00' + pad4(-num);\n    }\n    else if (num < 10) {\n        return '000' + num;\n    }\n    else if (num < 100) {\n        return '00' + num;\n    }\n    else if (num < 1000) {\n        return '0' + num;\n    }\n    return String(num);\n}\n/**\n * Formats a number with leading zeros so the resulting string is 2 digits long.\n * Similar to `string.padStart(2, '0')`.\n */\nfunction pad2(num) {\n    if (num >= 0 && num < 10) {\n        return '0' + num;\n    }\n    return String(num);\n}\n\nexport { pad2, pad4 };\n//# sourceMappingURL=pad.js.map\n","/*! @hebcal/hdate v0.14.2, distributed under GPLv2 https://www.gnu.org/licenses/gpl-2.0.txt */\nimport { pad4, pad2 } from './pad.js';\n\nconst _formatters = new Map();\n/**\n * @private\n */\nfunction getFormatter(tzid) {\n    const fmt = _formatters.get(tzid);\n    if (fmt)\n        return fmt;\n    const f = new Intl.DateTimeFormat('en-US', {\n        year: 'numeric',\n        month: '2-digit',\n        day: '2-digit',\n        hour: '2-digit',\n        minute: '2-digit',\n        second: '2-digit',\n        hour12: false,\n        timeZone: tzid,\n    });\n    _formatters.set(tzid, f);\n    return f;\n}\nconst dateFormatRegex = /^(\\d+).(\\d+).(\\d+),?\\s+(\\d+).(\\d+).(\\d+)/;\n/**\n * Returns a string similar to `Date.toISOString()` but in the\n * timezone `tzid`. Contrary to the typical meaning of `Z` at the end\n * of the string, this is not actually a UTC date.\n */\nfunction getPseudoISO(tzid, date) {\n    const str = getFormatter(tzid).format(date);\n    const m = dateFormatRegex.exec(str);\n    if (m === null) {\n        throw new Error(`Unable to parse formatted string: ${str}`);\n    }\n    let hour = m[4];\n    if (hour === '24') {\n        hour = '00';\n    }\n    m[3] = pad4(parseInt(m[3], 10));\n    return `${m[3]}-${m[1]}-${m[2]}T${hour}:${m[5]}:${m[6]}Z`;\n}\n/**\n * Returns number of minutes `tzid` is offset from UTC on date `date`.\n */\nfunction getTimezoneOffset(tzid, date) {\n    const utcStr = getPseudoISO('UTC', date);\n    const localStr = getPseudoISO(tzid, date);\n    const diffMs = new Date(utcStr).getTime() - new Date(localStr).getTime();\n    return Math.ceil(diffMs / 1000 / 60);\n}\n/**\n * Returns YYYY-MM-DD in the local timezone\n */\nfunction isoDateString(dt) {\n    return (pad4(dt.getFullYear()) +\n        '-' +\n        pad2(dt.getMonth() + 1) +\n        '-' +\n        pad2(dt.getDate()));\n}\n\nexport { getPseudoISO, getTimezoneOffset, isoDateString };\n//# sourceMappingURL=dateFormat.js.map\n","/*! @hebcal/hdate v0.14.2, distributed under GPLv2 https://www.gnu.org/licenses/gpl-2.0.txt */\nvar poAshkenazi = { \"headers\": { \"plural-forms\": \"nplurals=2; plural=(n > 1);\", \"language\": \"en_CA@ashkenazi\" }, \"contexts\": { \"\": { \"Tevet\": [\"Teves\"] } } };\n\nexport { poAshkenazi as default };\n//# sourceMappingURL=ashkenazi.po.js.map\n","/*! @hebcal/hdate v0.14.2, distributed under GPLv2 https://www.gnu.org/licenses/gpl-2.0.txt */\nvar poHe = { \"headers\": { \"plural-forms\": \"nplurals=2; plural=(n > 1);\", \"language\": \"he\" }, \"contexts\": { \"\": { \"Adar\": [\"אַדָר\"], \"Adar I\": [\"אַדָר א׳\"], \"Adar II\": [\"אַדָר ב׳\"], \"Av\": [\"אָב\"], \"Cheshvan\": [\"חֶשְׁוָן\"], \"Elul\": [\"אֱלוּל\"], \"Iyyar\": [\"אִיָיר\"], \"Kislev\": [\"כִּסְלֵו\"], \"Nisan\": [\"נִיסָן\"], \"Sh'vat\": [\"שְׁבָט\"], \"Sivan\": [\"סִיוָן\"], \"Tamuz\": [\"תַּמּוּז\"], \"Tevet\": [\"טֵבֵת\"], \"Tishrei\": [\"תִּשְׁרֵי\"] } } };\n\nexport { poHe as default };\n//# sourceMappingURL=he.po.js.map\n","/*! @hebcal/hdate v0.14.2, distributed under GPLv2 https://www.gnu.org/licenses/gpl-2.0.txt */\nimport poAshkenazi from './ashkenazi.po.js';\nimport poHe from './he.po.js';\n\nconst noopLocale = {\n    headers: { 'plural-forms': 'nplurals=2; plural=(n!=1);' },\n    contexts: { '': {} },\n};\nconst alias = {\n    h: 'he',\n    a: 'ashkenazi',\n    s: 'en',\n    '': 'en',\n};\n/** @private */\nconst locales = new Map();\n/** @private */\nlet activeLocale;\n/** @private */\nlet activeName;\n/** @private */\nfunction getEnOrdinal(n) {\n    const s = ['th', 'st', 'nd', 'rd'];\n    const v = n % 100;\n    return n + (s[(v - 20) % 10] || s[v] || s[0]);\n}\n/** @private */\nfunction checkLocale(locale) {\n    if (typeof locale !== 'string') {\n        throw new TypeError(`Invalid locale name: ${locale}`);\n    }\n    return locale.toLowerCase();\n}\n/** @private */\nfunction getExistingLocale(locale) {\n    const locale1 = checkLocale(locale);\n    const loc = locales.get(locale1);\n    if (!loc) {\n        throw new RangeError(`Locale '${locale}' not found`);\n    }\n    return loc;\n}\n/**\n * A locale in Hebcal is used for translations/transliterations of\n * holidays. `@hebcal/hdate` supports four locales by default\n * * `en` - default, Sephardic transliterations (e.g. \"Shabbat\")\n * * `ashkenazi` - Ashkenazi transliterations (e.g. \"Shabbos\")\n * * `he` - Hebrew (e.g. \"שַׁבָּת\")\n * * `he-x-NoNikud` - Hebrew without nikud (e.g. \"שבת\")\n */\nclass Locale {\n    /**\n     * Returns translation only if `locale` offers a non-empty translation for `id`.\n     * Otherwise, returns `undefined`.\n     * @param id Message ID to translate\n     * @param [locale] Optional locale name (i.e: `'he'`, `'fr'`). Defaults to active locale.\n     */\n    static lookupTranslation(id, locale) {\n        const loc = (typeof locale === 'string' && locales.get(locale.toLowerCase())) ||\n            activeLocale;\n        const array = loc[id];\n        if ((array === null || array === void 0 ? void 0 : array.length) && array[0].length) {\n            return array[0];\n        }\n        return undefined;\n    }\n    /**\n     * By default, if no translation was found, returns `id`.\n     * @param id Message ID to translate\n     * @param [locale] Optional locale name (i.e: `'he'`, `'fr'`). Defaults to active locale.\n     */\n    static gettext(id, locale) {\n        const text = this.lookupTranslation(id, locale);\n        if (typeof text === 'undefined') {\n            return id;\n        }\n        return text;\n    }\n    /**\n     * Register locale translations.\n     * @param locale Locale name (i.e.: `'he'`, `'fr'`)\n     * @param data parsed data from a `.po` file.\n     */\n    static addLocale(locale, data) {\n        locale = checkLocale(locale);\n        if (typeof data.contexts !== 'object' ||\n            typeof data.contexts[''] !== 'object') {\n            throw new TypeError(`Locale '${locale}' invalid compact format`);\n        }\n        locales.set(locale, data.contexts['']);\n    }\n    /**\n     * Adds a translation to `locale`, replacing any previous translation.\n     * @param locale Locale name (i.e: `'he'`, `'fr'`).\n     * @param id Message ID to translate\n     * @param translation Translation text\n     */\n    static addTranslation(locale, id, translation) {\n        const loc = getExistingLocale(locale);\n        if (typeof id !== 'string' || id.length === 0) {\n            throw new TypeError(`Invalid id string: ${id}`);\n        }\n        const isArray = Array.isArray(translation);\n        if (isArray) {\n            const t0 = translation[0];\n            if (typeof t0 !== 'string' || t0.length === 0) {\n                throw new TypeError(`Invalid translation array: ${translation}`);\n            }\n        }\n        else if (typeof translation !== 'string') {\n            throw new TypeError(`Invalid translation string: ${translation}`);\n        }\n        loc[id] = isArray ? translation : [translation];\n    }\n    /**\n     * Adds multiple translations to `locale`, replacing any previous translations.\n     * @param locale Locale name (i.e: `'he'`, `'fr'`).\n     * @param data parsed data from a `.po` file.\n     */\n    static addTranslations(locale, data) {\n        const loc = getExistingLocale(locale);\n        if (typeof data.contexts !== 'object' ||\n            typeof data.contexts[''] !== 'object') {\n            throw new TypeError(`Locale '${locale}' invalid compact format`);\n        }\n        const ctx = data.contexts[''];\n        Object.assign(loc, ctx);\n    }\n    /**\n     * Activates a locale. Throws an error if the locale has not been previously added.\n     * After setting the locale to be used, all strings marked for translations\n     * will be represented by the corresponding translation in the specified locale.\n     * @param locale Locale name (i.e: `'he'`, `'fr'`)\n     * @deprecated\n     */\n    static useLocale(locale) {\n        const locale0 = checkLocale(locale);\n        const obj = getExistingLocale(locale0);\n        activeName = alias[locale0] || locale0;\n        activeLocale = obj;\n        return activeLocale;\n    }\n    /**\n     * Returns the name of the active locale (i.e. 'he', 'ashkenazi', 'fr')\n     * @deprecated\n     */\n    static getLocaleName() {\n        return activeName;\n    }\n    /**\n     * Returns the names of registered locales\n     */\n    static getLocaleNames() {\n        const keys = Array.from(locales.keys());\n        return keys.sort((a, b) => a.localeCompare(b));\n    }\n    /**\n     * Renders a number in ordinal, such as 1st, 2nd or 3rd\n     * @param [locale] Optional locale name (i.e: `'he'`, `'fr'`). Defaults to active locale.\n     */\n    static ordinal(n, locale) {\n        const locale1 = locale === null || locale === void 0 ? void 0 : locale.toLowerCase();\n        const locale0 = locale1 || activeName;\n        if (!locale0) {\n            return getEnOrdinal(n);\n        }\n        switch (locale0) {\n            case 'en':\n            case 's':\n            case 'a':\n                return getEnOrdinal(n);\n            case 'es':\n                return n + 'º';\n            case 'h':\n            case 'he':\n            case 'he-x-nonikud':\n                return String(n);\n        }\n        if (locale0.startsWith('ashkenazi')) {\n            return getEnOrdinal(n);\n        }\n        return n + '.';\n    }\n    /**\n     * Removes nekudot from Hebrew string\n     */\n    static hebrewStripNikkud(str) {\n        const a = str.normalize();\n        // now strip out niqqud and trope\n        return a.replace(/[\\u0590-\\u05bd]/g, '').replace(/[\\u05bf-\\u05c7]/g, '');\n    }\n}\nLocale.addLocale('en', noopLocale);\nLocale.addLocale('s', noopLocale);\nLocale.addLocale('', noopLocale);\nLocale.useLocale('en');\n/* Ashkenazic transliterations */\nLocale.addLocale('ashkenazi', poAshkenazi);\nLocale.addLocale('a', poAshkenazi);\n/* Hebrew with nikkud */\nLocale.addLocale('he', poHe);\nLocale.addLocale('h', poHe);\n/* Hebrew without nikkud */\nconst heStrs = poHe.contexts[''];\nconst heNoNikud = {};\nfor (const [key, val] of Object.entries(heStrs)) {\n    heNoNikud[key] = [Locale.hebrewStripNikkud(val[0])];\n}\nconst poHeNoNikud = {\n    headers: poHe.headers,\n    contexts: { '': heNoNikud },\n};\nLocale.addLocale('he-x-NoNikud', poHeNoNikud);\n\nexport { Locale };\n//# sourceMappingURL=locale.js.map\n","/*! @hebcal/hdate v0.14.2, distributed under GPLv2 https://www.gnu.org/licenses/gpl-2.0.txt */\nimport { abs2hebrew, isLeapYear, monthsInYear, daysInMonth, hebrew2abs, getMonthName, daysInYear, longCheshvan, shortKislev, monthFromName, months } from './hdateBase.js';\nimport { isDate, greg2abs, abs2greg } from './greg.js';\nimport { gematriya, gematriyaStrToNum } from './gematriya.js';\nimport { Locale } from './locale.js';\n\n/*\n    Hebcal - A Jewish Calendar Generator\n    Copyright (c) 1994-2020 Danny Sadinoff\n    Portions copyright Eyal Schachter and Michael J. Radwin\n\n    https://github.com/hebcal/hebcal-es6\n\n    This program is free software; you can redistribute it and/or\n    modify it under the terms of the GNU General Public License\n    as published by the Free Software Foundation; either version 2\n    of the License, or (at your option) any later version.\n\n    This program is distributed in the hope that it will be useful,\n    but WITHOUT ANY WARRANTY; without even the implied warranty of\n    MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n    GNU General Public License for more details.\n\n    You should have received a copy of the GNU General Public License\n    along with this program. If not, see <http://www.gnu.org/licenses/>.\n */\nfunction mod(x, y) {\n    return x - y * Math.floor(x / y);\n}\nfunction isSimpleHebrewDate(obj) {\n    return obj.yy !== undefined;\n}\nconst UNITS_DAY = 'day';\nconst UNITS_WEEK = 'week';\nconst UNITS_MONTH = 'month';\nconst UNITS_YEAR = 'year';\n/**\n * A `HDate` represents a Hebrew calendar date.\n *\n * An instance of this class encapsulates a date in the Hebrew calendar system.\n * It consists of a year, month, and day, without any associated time or location data.\n * The Hebrew calendar is a lunisolar calendar, meaning it is based on both lunar and solar cycles.\n *\n * A Hebrew date internally stores three numbers:\n * - year: The Hebrew year (1-9999). Counted from the traditional Hebrew date of creation (3761 BCE in the Gregorian calendar)\n * - month: The Hebrew month (1-13). Month 1 is Nisan, month 7 is Tishrei. There are 12 months in a regular year and 13 months in a leap year.\n * - day: The day of the month (1-30)\n *\n * This class uses Rata Die to convert between the Hebrew and Gregorian calendars.\n *\n * To calculate times of day, use `Zmanim` class from `@hebcal/core`\n * @see {@link https://en.wikipedia.org/wiki/Rata_Die | Rata Die}\n * @see {@link https://hebcal.github.io/api/core/classes/Zmanim.html | Zmanim}\n */\nclass HDate {\n    /**\n     * Create a Hebrew date. There are 3 basic forms for the `HDate()` constructor.\n     *\n     * 1. No parameters - represents the current Hebrew date at time of instantiation\n     * 2. One parameter\n     *    * `Date` - represents the Hebrew date corresponding to the Gregorian date using\n     *       local time. Hours, minutes, seconds and milliseconds are ignored.\n     *    * `HDate` - clones a copy of the given Hebrew date\n     *    * `number` - Converts absolute R.D. days to Hebrew date.\n     *       R.D. 1 == the imaginary date January 1, 1 (Gregorian)\n     * 3. Three parameters: Hebrew day, Hebrew month, Hebrew year. Hebrew day should\n     *    be a number between 1-30, Hebrew month can be a number or string, and\n     *    Hebrew year is always a number.\n     * @example\n     * import {HDate, months} from '@hebcal/hdate';\n     *\n     * const hd1 = new HDate();\n     * const hd2 = new HDate(new Date(2008, 10, 13));\n     * const hd3 = new HDate(15, 'Cheshvan', 5769);\n     * const hd4 = new HDate(15, months.CHESHVAN, 5769);\n     * const hd5 = new HDate(733359); // ==> 15 Cheshvan 5769\n     * const monthName = 'אייר';\n     * const hd6 = new HDate(5, monthName, 5773);\n     * @param [day] - Day of month (1-30) if a `number`.\n     *   If a `Date` is specified, represents the Hebrew date corresponding to the\n     *   Gregorian date using local time.\n     *   If an `HDate` is specified, clones a copy of the given Hebrew date.\n     * @param [month] - Hebrew month of year (1=NISAN, 7=TISHREI)\n     * @param [year] - Hebrew year\n     */\n    constructor(day, month, year) {\n        if (arguments.length === 2 || arguments.length > 3) {\n            throw new TypeError('HDate constructor requires 0, 1 or 3 arguments');\n        }\n        if (arguments.length === 3) {\n            // Hebrew day, Hebrew month, Hebrew year\n            this.dd = this.mm = 1;\n            const yy = typeof year === 'string' ? parseInt(year, 10) : year;\n            if (isNaN(yy)) {\n                throw new TypeError(`HDate called with bad year: ${year}`);\n            }\n            this.yy = yy;\n            setMonth(this, month); // will throw if we can't parse\n            const dd = typeof day === 'string' ? parseInt(day, 10) : day;\n            if (isNaN(dd)) {\n                throw new TypeError(`HDate called with bad day: ${day}`);\n            }\n            setDate(this, dd);\n        }\n        else {\n            // 0 arguments\n            if (typeof day === 'undefined' || day === null) {\n                day = new Date();\n            }\n            // 1 argument\n            const abs0 = typeof day === 'number' && !isNaN(day)\n                ? day\n                : isDate(day)\n                    ? greg2abs(day)\n                    : isSimpleHebrewDate(day)\n                        ? day\n                        : null;\n            if (abs0 === null) {\n                throw new TypeError(`HDate called with bad arg: ${day}`);\n            }\n            const isNumber = typeof abs0 === 'number';\n            const d = isNumber ? abs2hebrew(abs0) : abs0;\n            this.yy = d.yy;\n            this.mm = d.mm;\n            this.dd = d.dd;\n            if (isNumber) {\n                this.rd = abs0;\n            }\n        }\n    }\n    /**\n     * Returns the Hebrew year of this Hebrew date\n     * @returns an integer >= 1\n     * @example\n     * const hd = new HDate(new Date(2008, 10, 13)); // 15 Cheshvan 5769\n     * hd.getFullYear(); // 5769\n     */\n    getFullYear() {\n        return this.yy;\n    }\n    /**\n     * Returns `true` if this Hebrew date occurs during a Hebrew leap year\n     * @example\n     * const hd = new HDate(new Date(2008, 10, 13)); // 15 Cheshvan 5769\n     * hd.isLeapYear(); // false\n     */\n    isLeapYear() {\n        return isLeapYear(this.yy);\n    }\n    /**\n     * Returns the Hebrew month (1=NISAN, 7=TISHREI) of this Hebrew date\n     * @returns an integer 1-13\n     * @example\n     * const hd = new HDate(new Date(2008, 10, 13)); // 15 Cheshvan 5769\n     * hd.getMonth(); // 8\n     */\n    getMonth() {\n        return this.mm;\n    }\n    /**\n     * The Tishrei-based month of this Hebrew date. 1 is Tishrei, 7 is Nisan, 13 is Elul in a leap year\n     * @returns an integer 1-13\n     * @example\n     * const hd = new HDate(new Date(2008, 10, 13)); // 15 Cheshvan 5769\n     * hd.getTishreiMonth(); // 2\n     */\n    getTishreiMonth() {\n        const nummonths = monthsInYear(this.getFullYear());\n        return (this.getMonth() + nummonths - 6) % nummonths || nummonths;\n    }\n    /**\n     * Number of days in the month of this Hebrew date (29 or 30)\n     * @returns an integer 29-30\n     * @example\n     * const hd = new HDate(new Date(2008, 10, 13)); // 15 Cheshvan 5769\n     * hd.daysInMonth(); // 29\n     */\n    daysInMonth() {\n        return daysInMonth(this.getMonth(), this.getFullYear());\n    }\n    /**\n     * Gets the day within the month (1-30)\n     * @returns an integer 1-30\n     * @example\n     * const hd = new HDate(new Date(2008, 10, 13)); // 15 Cheshvan 5769\n     * hd.getDate(); // 15\n     */\n    getDate() {\n        return this.dd;\n    }\n    /**\n     * Returns the day of the week for this Hebrew date,\n     * where 0 represents Sunday, 1 represents Monday, 6 represents Saturday.\n     *\n     * For the day of the month, see `getDate()`\n     * @returns an integer 0-6\n     * @example\n     * const hd = new HDate(new Date(2008, 10, 13)); // 15 Cheshvan 5769\n     * hd.getDate(); // 4\n     */\n    getDay() {\n        return mod(this.abs(), 7);\n    }\n    /**\n     * Converts this Hebrew date to the corresponding Gregorian date.\n     *\n     * The returned `Date` object will be in the local (i.e. host system) time zone.\n     * Hours, minutes, seconds and milliseconds will all be zero.\n     *\n     * Note that this function returns the daytime portion of the date.\n     * For example, the 15th of Cheshvan 5769 began at sundown on\n     * 12 November 2008 and continues through 13 November 2008. This\n     * function would return only the date 13 November 2008.\n     * @example\n     * const hd = new HDate(15, 'Cheshvan', 5769);\n     * const date = hd.greg(); // 13 November 2008\n     * const year = date.getFullYear(); // 2008\n     * const monthNum = date.getMonth() + 1; // 11\n     * const day = date.getDate(); // 13\n     */\n    greg() {\n        return abs2greg(this.abs());\n    }\n    /**\n     * Converts from Hebrew date representation to R.D. (Rata Die) fixed days.\n     * R.D. 1 is the imaginary date Monday, January 1, 1 (Gregorian).\n     * Note also that R.D. = Julian Date − 1,721,424.5\n     * @see {@link https://en.wikipedia.org/wiki/Rata_Die | Rata Die}\n     * @example\n     * const hd = new HDate(15, 'Cheshvan', 5769);\n     * hd.abs(); // 733359\n     */\n    abs() {\n        if (typeof this.rd !== 'number') {\n            this.rd = hebrew2abs(this.yy, this.mm, this.dd);\n        }\n        return this.rd;\n    }\n    /**\n     * Converts Hebrew date to R.D. (Rata Die) fixed days.\n     * R.D. 1 is the imaginary date Monday, January 1, 1 on the Gregorian\n     * Calendar.\n     * @param year Hebrew year\n     * @param month Hebrew month (1=NISAN, 7=TISHREI)\n     * @param day Hebrew date (1-30)\n     * @example\n     * import {HDate, months} from '@hebcal/hdate';\n     * HDate.hebrew2abs(5769, months.CHESHVAN, 15); // 733359\n     */\n    static hebrew2abs(year, month, day) {\n        return hebrew2abs(year, month, day);\n    }\n    /**\n     * Returns a transliterated Hebrew month name, e.g. `'Elul'` or `'Cheshvan'`.\n     * @example\n     * const hd = new HDate(new Date(2008, 10, 13)); // 15 Cheshvan 5769\n     * hd.getMonthName(); // 'Cheshvan'\n     */\n    getMonthName() {\n        return getMonthName(this.getMonth(), this.getFullYear());\n    }\n    /**\n     * Renders this Hebrew date as a translated or transliterated string,\n     * including ordinal e.g. `'15th of Cheshvan, 5769'`.\n     * @example\n     * import {HDate, months} from '@hebcal/hdate';\n     *\n     * const hd = new HDate(15, months.CHESHVAN, 5769);\n     * console.log(hd.render('en')); // '15th of Cheshvan, 5769'\n     * console.log(hd.render('he')); // '15 חֶשְׁוָן, 5769'\n     * console.log(hd.render('en', false)); // '15th of Cheshvan'\n     * console.log(hd.render('he', false)); // '15 חֶשְׁוָן'\n     * @param [locale] Optional locale name (defaults to active locale).\n     * @param [showYear=true] Display year (defaults to true).\n     * @see {@link Locale}\n     */\n    render(locale, showYear = true) {\n        const locale0 = locale || Locale.getLocaleName();\n        const day = this.getDate();\n        const monthName0 = Locale.gettext(this.getMonthName(), locale0);\n        const monthName = monthName0.replace(/'/g, '’');\n        const nth = Locale.ordinal(day, locale0);\n        const dayOf = getDayOfTranslation(locale0);\n        const dateStr = `${nth}${dayOf} ${monthName}`;\n        if (showYear) {\n            const fullYear = this.getFullYear();\n            return `${dateStr}, ${fullYear}`;\n        }\n        else {\n            return dateStr;\n        }\n    }\n    /**\n     * Renders this Hebrew date in Hebrew gematriya, regardless of locale.\n     * @example\n     * import {HDate, months} from '@hebcal/hdate';\n     * const hd = new HDate(15, months.CHESHVAN, 5769);\n     * hd.renderGematriya(); // 'ט״ו חֶשְׁוָן תשס״ט'\n     * hd.renderGematriya(true); // 'ט״ו חשון תשס״ט'\n     */\n    renderGematriya(suppressNikud = false) {\n        const d = this.getDate();\n        const locale = suppressNikud ? 'he-x-NoNikud' : 'he';\n        const m = Locale.gettext(this.getMonthName(), locale);\n        const y = this.getFullYear();\n        return gematriya(d) + ' ' + m + ' ' + gematriya(y);\n    }\n    /**\n     * Returns an `HDate` corresponding to the specified day of week\n     * **before** this Hebrew date\n     * @example\n     * new HDate(new Date('Wednesday February 19, 2014')).before(6).greg() // Sat Feb 15 2014\n     * @param dayOfWeek day of week: Sunday=0, Saturday=6\n     */\n    before(dayOfWeek) {\n        return onOrBefore(dayOfWeek, this, -1);\n    }\n    /**\n     * Returns an `HDate` corresponding to the specified day of week\n     * **on or before** this Hebrew date\n     * @example\n     * new HDate(new Date('Wednesday February 19, 2014')).onOrBefore(6).greg() // Sat Feb 15 2014\n     * new HDate(new Date('Saturday February 22, 2014')).onOrBefore(6).greg() // Sat Feb 22 2014\n     * new HDate(new Date('Sunday February 23, 2014')).onOrBefore(6).greg() // Sat Feb 22 2014\n     * @param dayOfWeek day of week: Sunday=0, Saturday=6\n     */\n    onOrBefore(dayOfWeek) {\n        return onOrBefore(dayOfWeek, this, 0);\n    }\n    /**\n     * Returns an `HDate` corresponding to the specified day of week\n     * **nearest** to this Hebrew date\n     * @example\n     * new HDate(new Date('Wednesday February 19, 2014')).nearest(6).greg() // Sat Feb 22 2014\n     * new HDate(new Date('Tuesday February 18, 2014')).nearest(6).greg() // Sat Feb 15 2014\n     * @param dayOfWeek day of week: Sunday=0, Saturday=6\n     */\n    nearest(dayOfWeek) {\n        return onOrBefore(dayOfWeek, this, 3);\n    }\n    /**\n     * Returns an `HDate` corresponding to the specified day of week\n     * **on or after** this Hebrew date\n     * @example\n     * new HDate(new Date('Wednesday February 19, 2014')).onOrAfter(6).greg() // Sat Feb 22 2014\n     * new HDate(new Date('Saturday February 22, 2014')).onOrAfter(6).greg() // Sat Feb 22 2014\n     * new HDate(new Date('Sunday February 23, 2014')).onOrAfter(6).greg() // Sat Mar 01 2014\n     * @param dayOfWeek day of week: Sunday=0, Saturday=6\n     */\n    onOrAfter(dayOfWeek) {\n        return onOrBefore(dayOfWeek, this, 6);\n    }\n    /**\n     * Returns an `HDate` corresponding to the specified day of week\n     * **after** this Hebrew date\n     * @example\n     * new HDate(new Date('Wednesday February 19, 2014')).after(6).greg() // Sat Feb 22 2014\n     * new HDate(new Date('Saturday February 22, 2014')).after(6).greg() // Sat Mar 01 2014\n     * new HDate(new Date('Sunday February 23, 2014')).after(6).greg() // Sat Mar 01 2014\n     * @param dayOfWeek day of week: Sunday=0, Saturday=6\n     */\n    after(dayOfWeek) {\n        return onOrBefore(dayOfWeek, this, 7);\n    }\n    /**\n     * Returns the next Hebrew date\n     * @example\n     * const hd = new HDate(new Date(2008, 10, 13)); // 15 Cheshvan 5769\n     * hd.next(); // '16 Cheshvan 5769'\n     */\n    next() {\n        return new HDate(this.abs() + 1);\n    }\n    /**\n     * Returns the previous Hebrew date\n     * @example\n     * const hd = new HDate(new Date(2008, 10, 13)); // 15 Cheshvan 5769\n     * hd.prev(); // '14 Cheshvan 5769'\n     */\n    prev() {\n        return new HDate(this.abs() - 1);\n    }\n    /**\n     * Returns a cloned `HDate` object with a specified amount of time added\n     *\n     * Units are case insensitive, and support plural and short forms.\n     * Note, short forms are case sensitive.\n     *\n     * | Unit | Shorthand | Description\n     * | --- | --- | --- |\n     * | `day` | `d` | days |\n     * | `week` | `w` | weeks |\n     * | `month` | `M` | months |\n     * | `year` | `y` | years |\n     */\n    add(amount, units = 'd') {\n        amount =\n            typeof amount === 'string' ? parseInt(amount, 10) : amount;\n        if (!amount) {\n            return new HDate(this);\n        }\n        units = standardizeUnits(units);\n        if (units === UNITS_DAY) {\n            return new HDate(this.abs() + amount);\n        }\n        else if (units === UNITS_WEEK) {\n            return new HDate(this.abs() + 7 * amount);\n        }\n        else if (units === UNITS_YEAR) {\n            return new HDate(this.getDate(), this.getMonth(), this.getFullYear() + amount);\n        }\n        else {\n            // units === UNITS_MONTH\n            let hd = new HDate(this);\n            const sign = amount > 0 ? 1 : -1;\n            amount = Math.abs(amount);\n            for (let i = 0; i < amount; i++) {\n                hd = new HDate(hd.abs() + sign * hd.daysInMonth());\n            }\n            return hd;\n        }\n    }\n    /**\n     * Returns a cloned `HDate` object with a specified amount of time subracted\n     *\n     * Units are case insensitive, and support plural and short forms.\n     * Note, short forms are case sensitive.\n     *\n     * | Unit | Shorthand | Description\n     * | --- | --- | --- |\n     * | `day` | `d` | days |\n     * | `week` | `w` | weeks |\n     * | `month` | `M` | months |\n     * | `year` | `y` | years |\n     * @example\n     * import {HDate, months} from '@hebcal/hdate';\n     *\n     * const hd1 = new HDate(15, months.CHESHVAN, 5769);\n     * const hd2 = hd1.add(1, 'weeks'); // 7 Kislev 5769\n     * const hd3 = hd1.add(-3, 'M'); // 30 Av 5768\n     */\n    subtract(amount, units = 'd') {\n        return this.add(amount * -1, units);\n    }\n    /**\n     * Returns the difference in days between the two given HDates.\n     *\n     * The result is positive if `this` date is comes chronologically\n     * after the `other` date, and negative\n     * if the order of the two dates is reversed.\n     *\n     * The result is zero if the two dates are identical.\n     * @example\n     * import {HDate, months} from '@hebcal/hdate';\n     *\n     * const hd1 = new HDate(25, months.KISLEV, 5770);\n     * const hd2 = new HDate(15, months.CHESHVAN, 5769);\n     * const days = hd1.deltaDays(hd2); // 394\n     * @param other Hebrew date to compare\n     */\n    deltaDays(other) {\n        return this.abs() - other.abs();\n    }\n    /**\n     * Compares this Hebrew date to another date, returning `true` if the dates match.\n     * @param other Hebrew date to compare\n     * @example\n     * const hd1 = new HDate(new Date(2008, 10, 13));\n     * const hd2 = new HDate(15, 'Cheshvan', 5769);\n     * hd1.isSameDate(hd2); // true\n     */\n    isSameDate(other) {\n        return this.yy === other.yy && this.mm === other.mm && this.dd === other.dd;\n    }\n    /**\n     * Returns a string representation of this Hebrew date using English transliterations\n     * @example\n     * const hd = new HDate(new Date(2008, 10, 13)); // 15 Cheshvan 5769\n     * hd.toString(); // '15 Cheshvan 5769'\n     */\n    toString() {\n        const day = this.getDate();\n        const fullYear = this.getFullYear();\n        const monthName = this.getMonthName();\n        return `${day} ${monthName} ${fullYear}`;\n    }\n    /**\n     * Returns true if Hebrew year is a leap year\n     * @param year Hebrew year\n     * @example\n     * HDate.isLeapYear(5783); // false\n     * HDate.isLeapYear(5784); // true\n     */\n    static isLeapYear(year) {\n        return isLeapYear(year);\n    }\n    /**\n     * Number of months in this Hebrew year (either 12 or 13 depending on leap year)\n     * @param year Hebrew year\n     * @example\n     * HDate.monthsInYear(5783); // 12\n     * HDate.monthsInYear(5784); // 13\n     */\n    static monthsInYear(year) {\n        return monthsInYear(year);\n    }\n    /**\n     * Number of days in Hebrew month in a given year (29 or 30)\n     * @param month Hebrew month (e.g. months.TISHREI)\n     * @param year Hebrew year\n     * @example\n     * import {HDate, months} from '@hebcal/hdate';\n     * HDate.daysInMonth(months.CHESHVAN, 5769); // 29\n     */\n    static daysInMonth(month, year) {\n        return daysInMonth(month, year);\n    }\n    /**\n     * Returns a transliterated string name of Hebrew month in year,\n     * for example 'Elul' or 'Cheshvan'.\n     * @param month Hebrew month (e.g. months.TISHREI)\n     * @param year Hebrew year\n     * @example\n     * import {HDate, months} from '@hebcal/hdate';\n     * HDate.getMonthName(months.CHESHVAN, 5769); // 'Cheshvan'\n     */\n    static getMonthName(month, year) {\n        return getMonthName(month, year);\n    }\n    /**\n     * Returns the Hebrew month number (NISAN=1, TISHREI=7)\n     * @param month A number, or Hebrew month name string\n     * @example\n     * import {HDate, months} from '@hebcal/hdate';\n     * HDate.monthNum(months.CHESHVAN); // 8\n     * HDate.monthNum('Cheshvan'); // 8\n     * HDate.monthNum('חשון'); // 8\n     */\n    static monthNum(month) {\n        if (typeof month === 'number') {\n            if (isNaN(month) || month > 14) {\n                throw new RangeError(`bad monthNum: ${month}`);\n            }\n            return month;\n        }\n        return month.charCodeAt(0) >= 48 && month.charCodeAt(0) <= 57 /* number */\n            ? parseInt(month, 10)\n            : HDate.monthFromName(month);\n    }\n    /**\n     * Number of days in the Hebrew year.\n     * Regular years can have 353, 354, or 355 days.\n     * Leap years can have 383, 384, or 385 days.\n     * @param year Hebrew year\n     * @example\n     * HDate.daysInYear(5783); // 355\n     * HDate.daysInYear(5784); // 383\n     */\n    static daysInYear(year) {\n        return daysInYear(year);\n    }\n    /**\n     * true if Cheshvan is long in Hebrew year\n     * @param year Hebrew year\n     * @example\n     * HDate.longCheshvan(5783); // true\n     * HDate.longCheshvan(5784); // false\n     */\n    static longCheshvan(year) {\n        return longCheshvan(year);\n    }\n    /**\n     * true if Kislev is short in Hebrew year\n     * @param year Hebrew year\n     * @example\n     * HDate.shortKislev(5783); // false\n     * HDate.shortKislev(5784); // true\n     */\n    static shortKislev(year) {\n        return shortKislev(year);\n    }\n    /**\n     * Converts Hebrew month string name to numeric\n     * @example\n     * import {HDate, months} from '@hebcal/hdate';\n     * HDate.monthFromName(months.CHESHVAN); // 8\n     * HDate.monthFromName('Cheshvan'); // 8\n     * HDate.monthFromName('חשון'); // 8\n     */\n    static monthFromName(monthName) {\n        if (typeof monthName === 'number') {\n            if (isNaN(monthName) || monthName < 1 || monthName > 14) {\n                throw new RangeError(`bad monthName: ${monthName}`);\n            }\n            return monthName;\n        }\n        const name = Locale.hebrewStripNikkud(monthName);\n        return monthFromName(name);\n    }\n    /**\n     * Convenience function for determining the R.D. date\n     * near a specified R.D. date, corresponding to the specified day of week.\n     *\n     * Note: Applying this function to d+6 gives us the `dayOfWeek` on or after an\n     * absolute day d. Similarly, applying it to d+3 gives the `dayOfWeek` nearest to\n     * absolute date d, applying it to d-1 gives the `dayOfWeek` previous to absolute\n     * date d, and applying it to d+7 gives the `dayOfWeek` following absolute date d.\n     * @param dayOfWeek day of week: Sunday=0, Saturday=6\n     */\n    static dayOnOrBefore(dayOfWeek, absdate) {\n        return absdate - ((absdate - dayOfWeek) % 7);\n    }\n    /**\n     * Tests if the object is an instance of `HDate`\n     * @example\n     * HDate.isHDate(new HDate()); // true\n     * HDate.isHDate(new Date()); // false\n     * HDate.isHDate(null); // false\n     * HDate.isHDate(12345); // false\n     * HDate.isHDate('15 Cheshvan 5769'); // false\n     */\n    static isHDate(obj) {\n        return (obj !== null &&\n            typeof obj === 'object' &&\n            typeof obj.yy === 'number' &&\n            typeof obj.mm === 'number' &&\n            typeof obj.dd === 'number' &&\n            typeof obj.greg === 'function' &&\n            typeof obj.abs === 'function');\n    }\n    /**\n     * Construct a new instance of `HDate` from a Gematriya-formatted string\n     * @example\n     * HDate.fromGematriyaString('כ״ז בְּתַמּוּז תשפ״ג') // 27 Tamuz 5783\n     * HDate.fromGematriyaString('כ׳ סיון תש״ד') // 20 Sivan 5704\n     * HDate.fromGematriyaString('ה׳ אִיָיר תש״ח') // 5 Iyyar 5708\n     */\n    static fromGematriyaString(str, currentThousands = 5000) {\n        const parts = str.split(' ').filter(x => x.length !== 0);\n        const numParts = parts.length;\n        if (numParts !== 3 && numParts !== 4) {\n            throw new RangeError(`cannot parse gematriya str: \"${str}\"`);\n        }\n        const day = gematriyaStrToNum(parts[0]);\n        const monthStr = numParts === 3 ? parts[1] : parts[1] + ' ' + parts[2];\n        const month = HDate.monthFromName(monthStr);\n        const yearStr = numParts === 3 ? parts[2] : parts[3];\n        let year = gematriyaStrToNum(yearStr);\n        if (year < 1000) {\n            year += currentThousands;\n        }\n        return new HDate(day, month, year);\n    }\n}\nfunction standardizeUnits(units) {\n    switch (units) {\n        case 'd':\n            return UNITS_DAY;\n        case 'w':\n            return UNITS_WEEK;\n        case 'M':\n            return UNITS_MONTH;\n        case 'y':\n            return UNITS_YEAR;\n    }\n    const str = String(units || '')\n        .toLowerCase()\n        .replace(/s$/, '');\n    switch (str) {\n        case UNITS_DAY:\n        case UNITS_WEEK:\n        case UNITS_MONTH:\n        case UNITS_YEAR:\n            return str;\n    }\n    throw new TypeError(`Invalid units '${units}'`);\n}\nfunction getDayOfTranslation(locale) {\n    switch (locale) {\n        case 'en':\n        case 's':\n        case 'a':\n        case 'ashkenazi':\n            return ' of';\n    }\n    const ofStr = Locale.lookupTranslation('of', locale);\n    if (ofStr) {\n        return ' ' + ofStr;\n    }\n    if (locale.startsWith('ashkenazi')) {\n        return ' of';\n    }\n    return '';\n}\n/**\n * Sets the day of the month of the date. Returns the object it was called upon\n * @private\n * @param month A number, or Hebrew month name string\n */\nfunction setMonth(hd, month) {\n    hd.mm = HDate.monthNum(month);\n    fix(hd);\n    return hd;\n}\nfunction setDate(hd, date) {\n    hd.dd = date;\n    fix(hd);\n    return hd;\n}\nfunction fix(hd) {\n    fixMonth(hd);\n    fixDate(hd);\n}\nfunction fixDate(hd) {\n    if (hd.dd < 1) {\n        if (hd.mm === months.TISHREI) {\n            hd.yy -= 1;\n        }\n        hd.dd += daysInMonth(hd.mm, hd.yy);\n        hd.mm -= 1;\n        fix(hd);\n    }\n    if (hd.dd > daysInMonth(hd.mm, hd.yy)) {\n        if (hd.mm === months.ELUL) {\n            hd.yy += 1;\n        }\n        hd.dd -= daysInMonth(hd.mm, hd.yy);\n        if (hd.mm === monthsInYear(hd.yy)) {\n            hd.mm = 1; // rollover to NISAN\n        }\n        else {\n            hd.mm += 1;\n        }\n        fix(hd);\n    }\n    fixMonth(hd);\n}\nfunction fixMonth(hd) {\n    if (hd.mm === months.ADAR_II && !hd.isLeapYear()) {\n        hd.mm -= 1; // to Adar I\n        fix(hd);\n    }\n    else if (hd.mm < 1) {\n        hd.mm += monthsInYear(hd.yy);\n        hd.yy -= 1;\n        fix(hd);\n    }\n    else if (hd.mm > monthsInYear(hd.yy)) {\n        hd.mm -= monthsInYear(hd.yy);\n        hd.yy += 1;\n        fix(hd);\n    }\n    delete hd.rd;\n}\nfunction onOrBefore(day, t, offset) {\n    return new HDate(HDate.dayOnOrBefore(day, t.abs() + offset));\n}\n\nexport { HDate };\n//# sourceMappingURL=hdate.js.map\n","export default {\"headers\":{\"plural-forms\":\"nplurals=2; plural=(n > 1);\",\"language\":\"en_CA@ashkenazi\"},\"contexts\":{\"\":{\"Shabbat\":[\"Shabbos\"],\"Achrei Mot\":[\"Achrei Mos\"],\"Bechukotai\":[\"Bechukosai\"],\"Beha'alotcha\":[\"Beha’aloscha\"],\"Bereshit\":[\"Bereshis\"],\"Chukat\":[\"Chukas\"],\"Erev Shavuot\":[\"Erev Shavuos\"],\"Erev Sukkot\":[\"Erev Sukkos\"],\"Ki Tavo\":[\"Ki Savo\"],\"Ki Teitzei\":[\"Ki Seitzei\"],\"Ki Tisa\":[\"Ki Sisa\"],\"Matot\":[\"Matos\"],\"Purim Katan\":[\"Purim Koton\"],\"Shabbat Chazon\":[\"Shabbos Chazon\"],\"Shabbat HaChodesh\":[\"Shabbos HaChodesh\"],\"Shabbat HaGadol\":[\"Shabbos HaGadol\"],\"Shabbat Nachamu\":[\"Shabbos Nachamu\"],\"Shabbat Parah\":[\"Shabbos Parah\"],\"Shabbat Shekalim\":[\"Shabbos Shekalim\"],\"Shabbat Shuva\":[\"Shabbos Shuvah\"],\"Shabbat Zachor\":[\"Shabbos Zachor\"],\"Shavuot\":[\"Shavuos\"],\"Shavuot I\":[\"Shavuos I\"],\"Shavuot II\":[\"Shavuos II\"],\"Shemot\":[\"Shemos\"],\"Shmini Atzeret\":[\"Shmini Atzeres\"],\"Simchat Torah\":[\"Simchas Torah\"],\"Sukkot\":[\"Sukkos\"],\"Sukkot I\":[\"Sukkos I\"],\"Sukkot II\":[\"Sukkos II\"],\"Sukkot II (CH''M)\":[\"Sukkos II (CH’’M)\"],\"Sukkot III (CH''M)\":[\"Sukkos III (CH’’M)\"],\"Sukkot IV (CH''M)\":[\"Sukkos IV (CH’’M)\"],\"Sukkot V (CH''M)\":[\"Sukkos V (CH’’M)\"],\"Sukkot VI (CH''M)\":[\"Sukkos VI (CH’’M)\"],\"Sukkot VII (Hoshana Raba)\":[\"Sukkos VII (Hoshana Raba)\"],\"Ta'anit Bechorot\":[\"Ta’anis Bechoros\"],\"Ta'anit Esther\":[\"Ta’anis Esther\"],\"Toldot\":[\"Toldos\"],\"Vaetchanan\":[\"Vaeschanan\"],\"Yitro\":[\"Yisro\"],\"Vezot Haberakhah\":[\"Vezos Haberakhah\"],\"Parashat\":[\"Parshas\"],\"Leil Selichot\":[\"Leil Selichos\"],\"Shabbat Mevarchim Chodesh\":[\"Shabbos Mevorchim Chodesh\"],\"Shabbat Shirah\":[\"Shabbos Shirah\"],\"Asara B'Tevet\":[\"Asara B’Teves\"],\"Alot HaShachar\":[\"Alos HaShachar\"],\"Kriat Shema, sof zeman\":[\"Krias Shema, sof zman\"],\"Tefilah, sof zeman\":[\"Tefilah, sof zman\"],\"Kriat Shema, sof zeman (MGA)\":[\"Krias Shema, sof zman (MGA)\"],\"Tefilah, sof zeman (MGA)\":[\"Tefilah, sof zman (MGA)\"],\"Chatzot HaLailah\":[\"Chatzos HaLailah\"],\"Chatzot hayom\":[\"Chatzos\"],\"Tzeit HaKochavim\":[\"Tzeis HaKochavim\"],\"Birkat Hachamah\":[\"Birkas Hachamah\"],\"Shushan Purim Katan\":[\"Shushan Purim Koton\"]}}}","export default {\"headers\":{\"plural-forms\":\"nplurals=2; plural=(n > 1);\",\"language\":\"he_IL\"},\"contexts\":{\"\":{\"Shabbat\":[\"שַׁבָּת\"],\"Parashat\":[\"פָּרָשַׁת\"],\"Achrei Mot\":[\"אַחֲרֵי מוֹת\"],\"Balak\":[\"בָּלָק\"],\"Bamidbar\":[\"בְּמִדְבַּר\"],\"Bechukotai\":[\"בְּחֻקֹּתַי\"],\"Beha'alotcha\":[\"בְּהַעֲלֹתְךָ\"],\"Behar\":[\"בְּהַר\"],\"Bereshit\":[\"בְּרֵאשִׁית\"],\"Beshalach\":[\"בְּשַׁלַּח\"],\"Bo\":[\"בֹּא\"],\"Chayei Sara\":[\"חַיֵּי שָֹרָה\"],\"Chukat\":[\"חֻקַּת\"],\"Devarim\":[\"דְּבָרִים\"],\"Eikev\":[\"עֵקֶב\"],\"Emor\":[\"אֱמוֹר\"],\"Ha'azinu\":[\"הַאֲזִינוּ\"],\"Kedoshim\":[\"קְדשִׁים\"],\"Ki Tavo\":[\"כִּי־תָבוֹא\"],\"Ki Teitzei\":[\"כִּי־תֵצֵא\"],\"Ki Tisa\":[\"כִּי תִשָּׂא\"],\"Korach\":[\"קֹרַח\"],\"Lech-Lecha\":[\"לֶךְ־לְךָ\"],\"Masei\":[\"מַסְעֵי\"],\"Matot\":[\"מַטּוֹת\"],\"Metzora\":[\"מְצֹרָע\"],\"Miketz\":[\"מִקֵּץ\"],\"Mishpatim\":[\"מִשְׁפָּטִים\"],\"Nasso\":[\"נָשׂא\"],\"Nitzavim\":[\"נִצָּבִים\"],\"Noach\":[\"נֹחַ\"],\"Pekudei\":[\"פְקוּדֵי\"],\"Pinchas\":[\"פִּינְחָס\"],\"Re'eh\":[\"רְאֵה\"],\"Sh'lach\":[\"שְׁלַח־לְךָ\"],\"Shemot\":[\"שְׁמוֹת\"],\"Shmini\":[\"שְּׁמִינִי\"],\"Shoftim\":[\"שׁוֹפְטִים\"],\"Tazria\":[\"תַזְרִיעַ\"],\"Terumah\":[\"תְּרוּמָה\"],\"Tetzaveh\":[\"תְּצַוֶּה\"],\"Toldot\":[\"תּוֹלְדוֹת\"],\"Tzav\":[\"צַו\"],\"Vaera\":[\"וָאֵרָא\"],\"Vaetchanan\":[\"וָאֶתְחַנַּן\"],\"Vayakhel\":[\"וַיַּקְהֵל\"],\"Vayechi\":[\"וַיְחִי\"],\"Vayeilech\":[\"וַיֵּלֶךְ\"],\"Vayera\":[\"וַיֵּרָא\"],\"Vayeshev\":[\"וַיֵּשֶׁב\"],\"Vayetzei\":[\"וַיֵּצֵא\"],\"Vayigash\":[\"וַיִּגַּשׁ\"],\"Vayikra\":[\"וַיִּקְרָא\"],\"Vayishlach\":[\"וַיִּשְׁלַח\"],\"Vezot Haberakhah\":[\"וְזֹאת הַבְּרָכָה\"],\"Yitro\":[\"יִתְרוֹ\"],\"Asara B'Tevet\":[\"עֲשָׂרָה בְּטֵבֵת\"],\"Candle lighting\":[\"הַדְלָקַת נֵרוֹת\"],\"Chanukah\":[\"חֲנוּכָּה\"],\"Chanukah: 1 Candle\":[\"חֲנוּכָּה: א׳ נֵר\"],\"Chanukah: 2 Candles\":[\"חֲנוּכָּה: ב׳ נֵרוֹת\"],\"Chanukah: 3 Candles\":[\"חֲנוּכָּה: ג׳ נֵרוֹת\"],\"Chanukah: 4 Candles\":[\"חֲנוּכָּה: ד׳ נֵרוֹת\"],\"Chanukah: 5 Candles\":[\"חֲנוּכָּה: ה׳ נֵרוֹת\"],\"Chanukah: 6 Candles\":[\"חֲנוּכָּה: ו׳ נֵרוֹת\"],\"Chanukah: 7 Candles\":[\"חֲנוּכָּה: ז׳ נֵרוֹת\"],\"Chanukah: 8 Candles\":[\"חֲנוּכָּה: ח׳ נֵרוֹת\"],\"Chanukah: 8th Day\":[\"חֲנוּכָּה: יוֹם ח׳\"],\"Days of the Omer\":[\"סְפִירַת הָעוֹמֶר\"],\"Omer\":[\"עוֹמֶר\"],\"day of the Omer\":[\"בָּעוֹמֶר\"],\"Erev Pesach\":[\"עֶרֶב פֶּסַח\"],\"Erev Purim\":[\"עֶרֶב פּוּרִים\"],\"Erev Rosh Hashana\":[\"עֶרֶב רֹאשׁ הַשָּׁנָה\"],\"Erev Shavuot\":[\"עֶרֶב שָׁבוּעוֹת\"],\"Erev Simchat Torah\":[\"עֶרֶב שִׂמְחַת תּוֹרָה\"],\"Erev Sukkot\":[\"עֶרֶב סוּכּוֹת\"],\"Erev Tish'a B'Av\":[\"עֶרֶב תִּשְׁעָה בְּאָב\"],\"Erev Yom Kippur\":[\"עֶרֶב יוֹם כִּפּוּר\"],\"Havdalah\":[\"הַבְדָּלָה\"],\"Lag BaOmer\":[\"ל״ג בָּעוֹמֶר\"],\"Leil Selichot\":[\"סְלִיחוֹת\"],\"Pesach\":[\"פֶּסַח\"],\"Pesach I\":[\"פֶּסַח א׳\"],\"Pesach II\":[\"פֶּסַח ב׳\"],\"Pesach II (CH''M)\":[\"פֶּסַח ב׳ (חוה״מ)\"],\"Pesach III (CH''M)\":[\"פֶּסַח ג׳ (חוה״מ)\"],\"Pesach IV (CH''M)\":[\"פֶּסַח ד׳ (חוה״מ)\"],\"Pesach Sheni\":[\"פֶּסַח שֵׁנִי\"],\"Pesach V (CH''M)\":[\"פֶּסַח ה׳ (חוה״מ)\"],\"Pesach VI (CH''M)\":[\"פֶּסַח ו׳ (חוה״מ)\"],\"Pesach VII\":[\"פֶּסַח ז׳\"],\"Pesach VIII\":[\"פֶּסַח ח׳\"],\"Purim\":[\"פּוּרִים\"],\"Purim Katan\":[\"פּוּרִים קָטָן\"],\"Rosh Chodesh %s\":[\"רֹאשׁ חוֹדֶשׁ %s\"],\"Rosh Chodesh\":[\"רֹאשׁ חוֹדֶשׁ\"],\"Rosh Hashana\":[\"רֹאשׁ הַשָּׁנָה\"],\"Rosh Hashana I\":[\"רֹאשׁ הַשָּׁנָה א׳\"],\"Rosh Hashana II\":[\"רֹאשׁ הַשָּׁנָה ב׳\"],\"Shabbat Chazon\":[\"שַׁבַּת חֲזוֹן\"],\"Shabbat HaChodesh\":[\"שַׁבַּת הַחֹדֶשׁ\"],\"Shabbat HaGadol\":[\"שַׁבַּת הַגָּדוֹל\"],\"Shabbat Nachamu\":[\"שַׁבַּת נַחֲמוּ\"],\"Shabbat Parah\":[\"שַׁבַּת פָּרָה\"],\"Shabbat Shekalim\":[\"שַׁבַּת שְׁקָלִים\"],\"Shabbat Shuva\":[\"שַׁבַּת שׁוּבָה\"],\"Shabbat Zachor\":[\"שַׁבַּת זָכוֹר\"],\"Shavuot\":[\"שָׁבוּעוֹת\"],\"Shavuot I\":[\"שָׁבוּעוֹת א׳\"],\"Shavuot II\":[\"שָׁבוּעוֹת ב׳\"],\"Shmini Atzeret\":[\"שְׁמִינִי עֲצֶרֶת\"],\"Shushan Purim\":[\"שׁוּשָׁן פּוּרִים\"],\"Sigd\":[\"חַג הַסִּיגְד\"],\"Simchat Torah\":[\"שִׂמְחַת תּוֹרָה\"],\"Sukkot\":[\"סוּכּוֹת\"],\"Sukkot I\":[\"סוּכּוֹת א׳\"],\"Sukkot II\":[\"סוּכּוֹת ב׳\"],\"Sukkot II (CH''M)\":[\"סוּכּוֹת ב׳ (חוה״מ)\"],\"Sukkot III (CH''M)\":[\"סוּכּוֹת ג׳ (חוה״מ)\"],\"Sukkot IV (CH''M)\":[\"סוּכּוֹת ד׳ (חוה״מ)\"],\"Sukkot V (CH''M)\":[\"סוּכּוֹת ה׳ (חוה״מ)\"],\"Sukkot VI (CH''M)\":[\"סוּכּוֹת ו׳ (חוה״מ)\"],\"Sukkot VII (Hoshana Raba)\":[\"סוּכּוֹת ז׳ (הוֹשַׁעְנָא רַבָּה)\"],\"Ta'anit Bechorot\":[\"תַּעֲנִית בְּכוֹרוֹת\"],\"Ta'anit Esther\":[\"תַּעֲנִית אֶסְתֵּר\"],\"Tish'a B'Av\":[\"תִּשְׁעָה בְּאָב\"],\"Tu B'Av\":[\"ט״וּ בְּאָב\"],\"Tu BiShvat\":[\"ט״וּ בִּשְׁבָט\"],\"Tu B'Shvat\":[\"ט״וּ בִּשְׁבָט\"],\"Tzom Gedaliah\":[\"צוֹם גְּדַלְיָה\"],\"Tzom Tammuz\":[\"צוֹם י״ז בְּתַמּוּז\"],\"Yom HaAtzma'ut\":[\"יוֹם הָעַצְמָאוּת\"],\"Yom HaShoah\":[\"יוֹם הַשּׁוֹאָה\"],\"Yom HaZikaron\":[\"יוֹם הַזִּכָּרוֹן\"],\"Yom Kippur\":[\"יוֹם כִּפּוּר\"],\"Yom Yerushalayim\":[\"יוֹם יְרוּשָׁלַיִם\"],\"Yom HaAliyah\":[\"יוֹם הַעֲלִיָּה\"],\"Yom HaAliyah School Observance\":[\"שְׁמִירָת בֵּית הַסֵפֶר לְיוֹם הַעֲלִיָּה\"],\"Rosh Chodesh Adar\":[\"רֹאשׁ חוֹדֶשׁ אֲדָר\"],\"Rosh Chodesh Adar I\":[\"רֹאשׁ חוֹדֶשׁ אֲדָר א׳\"],\"Rosh Chodesh Adar II\":[\"רֹאשׁ חוֹדֶשׁ אֲדָר ב׳\"],\"Rosh Chodesh Av\":[\"רֹאשׁ חוֹדֶשׁ אָב\"],\"Rosh Chodesh Cheshvan\":[\"רֹאשׁ חוֹדֶשׁ חֶשְׁוָן\"],\"Rosh Chodesh Elul\":[\"רֹאשׁ חוֹדֶשׁ אֱלוּל\"],\"Rosh Chodesh Iyyar\":[\"רֹאשׁ חוֹדֶשׁ אִיָּיר\"],\"Rosh Chodesh Kislev\":[\"רֹאשׁ חוֹדֶשׁ כִּסְלֵו\"],\"Rosh Chodesh Nisan\":[\"רֹאשׁ חוֹדֶשׁ נִיסָן\"],\"Rosh Chodesh Sh'vat\":[\"רֹאשׁ חוֹדֶשׁ שְׁבָט\"],\"Rosh Chodesh Sivan\":[\"רֹאשׁ חוֹדֶשׁ סִיוָן\"],\"Rosh Chodesh Tamuz\":[\"רֹאשׁ חוֹדֶשׁ תַּמּוּז\"],\"Rosh Chodesh Tevet\":[\"רֹאשׁ חוֹדֶשׁ טֵבֵת\"],\"min\":[\"דַּקּוֹת\"],\"Fast begins\":[\"תְּחִילַּת הַצוֹם\"],\"Fast ends\":[\"סִיּוּם הַצוֹם\"],\"Rosh Hashana LaBehemot\":[\"רֹאשׁ הַשָּׁנָה לְמַעְשַׂר בְּהֵמָה\"],\"Tish'a B'Av (observed)\":[\"(תִּשְׁעָה בְּאָב (נִדְחָה\"],\"Shabbat Mevarchim Chodesh\":[\"שַׁבַּת מְבָרְכִים חוֹדֶשׁ\"],\"Shabbat Shirah\":[\"שַׁבַּת שִׁירָה\"],\"Lovingkindness\":[\"חֶסֶד\"],\"Might\":[\"גְּבוּרָה\"],\"Beauty\":[\"תִּפְאֶרֶת\"],\"Eternity\":[\"נֶּצַח\"],\"Splendor\":[\"הוֹד\"],\"Foundation\":[\"יְּסוֹד\"],\"Majesty\":[\"מַּלְכוּת\"],\"day\":[\"יוֹם\"],\"Yom Kippur Katan\":[\"יוֹם כִּפּוּר קָטָן\"],\"Yizkor\":[\"יִזְכּוֹר\"],\"Family Day\":[\"יוֹם הַמִּשׁפָּחָה\"],\"Yitzhak Rabin Memorial Day\":[\"יוֹם הַזִּכָּרוֹן לְיִצְחָק רַבִּין\"],\"Jabotinsky Day\":[\"יוֹם זַ׳בּוֹטִינְסְקִי\"],\"Herzl Day\":[\"יוֹם הֵרְצְל\"],\"Ben-Gurion Day\":[\"יוֹם בן־גוריון\"],\"Hebrew Language Day\":[\"יוֹם הַשָׂפָה הַעִברִית\"],\"Birkat Hachamah\":[\"בִּרְכַּת הַחַמָּה\"],\"Shushan Purim Katan\":[\"שׁוּשָׁן פּוּרִים קָטָן\"],\"Purim Meshulash\":[\"פּוּרִים מְשׁוּלָּשׁ\"],\"Chag HaBanot\":[\"חַג הַבָּנוֹת\"],\"Molad\":[\"מוֹלָד הָלְּבָנָה\"],\"chalakim\":[\"חֲלָקִים\"]}}}","import {Locale, LocaleData, StringArrayMap} from '@hebcal/hdate';\nimport poAshkenazi from './ashkenazi.po';\nimport poHe from './he.po';\nimport noNikudOverride from './he-x-NoNikud.po';\n\nexport {Locale};\n\nLocale.addTranslations('he', poHe);\nLocale.addTranslations('h', poHe);\nLocale.addTranslations('ashkenazi', poAshkenazi);\nLocale.addTranslations('a', poAshkenazi);\n\n/* Hebrew without nikkud */\nconst heStrs = poHe.contexts[''];\nconst heNoNikud: StringArrayMap = {};\nfor (const [key, val] of Object.entries(heStrs)) {\n  heNoNikud[key] = [Locale.hebrewStripNikkud(val[0])];\n}\nconst poHeNoNikud: LocaleData = {\n  headers: poHe.headers,\n  contexts: {'': heNoNikud},\n} as const;\nLocale.addTranslations('he-x-NoNikud', poHeNoNikud);\nLocale.addTranslations('he-x-NoNikud', noNikudOverride);\n","export default {\"headers\":{\"plural-forms\":\"nplurals=2; plural=(n != 1);\",\"language\":\"he-x-NoNikud\"},\"contexts\":{\"\":{\"Korach\":[\"קורח\"],\"Chukat\":[\"חוקת\"]}}}","import {HDate, Locale} from '@hebcal/hdate';\nimport './locale'; // Adds Hebrew and Ashkenazic translations\n\n/**\n * Holiday flags for Event. These flags are typically\n * combined using bitwise arithmetic to form a mask.\n * @readonly\n * @enum {number}\n */\nexport const flags = {\n  /** Chag, yontiff, yom tov */\n  CHAG: 0x000001,\n  /** Light candles 18 minutes before sundown */\n  LIGHT_CANDLES: 0x000002,\n  /** End of holiday (end of Yom Tov)  */\n  YOM_TOV_ENDS: 0x000004,\n  /** Observed only in the Diaspora (chutz l'aretz)  */\n  CHUL_ONLY: 0x000008,\n  /** Observed only in Israel */\n  IL_ONLY: 0x000010,\n  /** Light candles in the evening at Tzeit time (3 small stars) */\n  LIGHT_CANDLES_TZEIS: 0x000020,\n  /** Candle-lighting for Chanukah */\n  CHANUKAH_CANDLES: 0x000040,\n  /** Rosh Chodesh, beginning of a new Hebrew month */\n  ROSH_CHODESH: 0x000080,\n  /** Minor fasts like Tzom Tammuz, Ta'anit Esther, ... */\n  MINOR_FAST: 0x000100,\n  /** Shabbat Shekalim, Zachor, ... */\n  SPECIAL_SHABBAT: 0x000200,\n  /** Weekly sedrot on Saturdays */\n  PARSHA_HASHAVUA: 0x000400,\n  /** Daily page of Talmud (Bavli) */\n  DAF_YOMI: 0x000800,\n  /** Days of the Omer */\n  OMER_COUNT: 0x001000,\n  /** Yom HaShoah, Yom HaAtzma'ut, ... */\n  MODERN_HOLIDAY: 0x002000,\n  /** Yom Kippur and Tish'a B'Av */\n  MAJOR_FAST: 0x004000,\n  /** On the Saturday before Rosh Chodesh */\n  SHABBAT_MEVARCHIM: 0x008000,\n  /** Molad */\n  MOLAD: 0x010000,\n  /** Yahrzeit or Hebrew Anniversary */\n  USER_EVENT: 0x020000,\n  /** Daily Hebrew date (\"11th of Sivan, 5780\") */\n  HEBREW_DATE: 0x040000,\n  /** A holiday that's not major, modern, rosh chodesh, or a fast day */\n  MINOR_HOLIDAY: 0x080000,\n  /** Evening before a major or minor holiday */\n  EREV: 0x100000,\n  /** Chol haMoed, intermediate days of Pesach or Sukkot */\n  CHOL_HAMOED: 0x200000,\n  /** Mishna Yomi */\n  MISHNA_YOMI: 0x400000,\n  /** Yom Kippur Katan, minor day of atonement on the day preceeding each Rosh Chodesh */\n  YOM_KIPPUR_KATAN: 0x800000,\n  /** Daily page of Jerusalem Talmud (Yerushalmi) */\n  YERUSHALMI_YOMI: 0x1000000,\n  /** Nach Yomi */\n  NACH_YOMI: 0x2000000,\n  /** Daily Learning */\n  DAILY_LEARNING: 0x4000000,\n  /** Yizkor */\n  YIZKOR: 0x8000000,\n} as const;\n\nconst flagToCategory = [\n  [flags.MAJOR_FAST, 'holiday', 'major', 'fast'],\n  [flags.CHANUKAH_CANDLES, 'holiday', 'major'],\n  [flags.HEBREW_DATE, 'hebdate'],\n  [flags.MINOR_FAST, 'holiday', 'fast'],\n  [flags.MINOR_HOLIDAY, 'holiday', 'minor'],\n  [flags.MODERN_HOLIDAY, 'holiday', 'modern'],\n  [flags.MOLAD, 'molad'],\n  [flags.OMER_COUNT, 'omer'],\n  [flags.PARSHA_HASHAVUA, 'parashat'], // backwards-compat\n  [flags.ROSH_CHODESH, 'roshchodesh'],\n  [flags.SHABBAT_MEVARCHIM, 'mevarchim'],\n  [flags.SPECIAL_SHABBAT, 'holiday', 'shabbat'],\n  [flags.USER_EVENT, 'user'],\n  [flags.YIZKOR, 'yizkor'],\n] as const;\n\n/**\n * Represents an Event with a title, date, and flags.\n *\n * Events are used to represent holidays, candle-lighting times,\n * Torah readings, and more.\n *\n * To get the title of the event a language other than English\n * with Sephardic transliterations, use the `render()` method.\n */\nexport class Event {\n  /** Hebrew date of this event */\n  readonly date: HDate;\n  /**\n   * Untranslated title of this event. Note that these description\n   * strings are always in English and will remain stable across releases.\n   * To get the title of the event in another language, use the\n   * `render()` method.\n   */\n  readonly desc: string;\n  /** Bitmask of optional event flags. See {@link flags} */\n  readonly mask: number;\n  /** Optional emoji character such as ✡️, 🕯️, 🕎, 🕍, 🌒 */\n  emoji?: string;\n  /** Optional longer description or memo text */\n  memo?: string;\n  /** Alarms are used by iCalendar feeds */\n  alarm?: Date | string | boolean;\n  /**\n   * Constructs Event\n   * @param date Hebrew date event occurs\n   * @param desc Description (not translated)\n   * @param [mask=0] optional bitmask of holiday flags (see {@link flags})\n   * @param [attrs={}] optional additional attributes (e.g. `eventTimeStr`, `cholHaMoedDay`)\n   */\n  constructor(date: HDate, desc: string, mask = 0, attrs?: object) {\n    if (!HDate.isHDate(date)) {\n      throw new TypeError(`Invalid Event date: ${date}`);\n    } else if (typeof desc !== 'string') {\n      throw new TypeError(`Invalid Event description: ${desc}`);\n    }\n    this.date = date;\n    this.desc = desc;\n    this.mask = +mask;\n    if (typeof attrs === 'object' && attrs !== null) {\n      Object.assign(this, attrs);\n    }\n  }\n  /**\n   * Hebrew date of this event\n   */\n  getDate(): HDate {\n    return this.date;\n  }\n  /**\n   * Untranslated title of this event. Note that these description\n   * strings are always in English and will remain stable across releases.\n   * To get the title of the event in another language, use the\n   * `render()` method.\n   */\n  getDesc(): string {\n    return this.desc;\n  }\n  /**\n   * Bitmask of optional event flags. See {@link flags}\n   */\n  getFlags(): number {\n    return this.mask;\n  }\n  /**\n   * Returns (translated) description of this event\n   * @example\n   * const ev = new Event(new HDate(6, 'Sivan', 5749), 'Shavuot', flags.CHAG);\n   * ev.render('en'); // 'Shavuot'\n   * ev.render('he'); // 'שָׁבוּעוֹת'\n   * ev.render('ashkenazi'); // 'Shavuos'\n   * @param [locale] Optional locale name (defaults to active locale).\n   */\n  render(locale?: string): string {\n    return Locale.gettext(this.desc, locale);\n  }\n  /**\n   * Returns a brief (translated) description of this event.\n   * For most events, this is the same as render(). For some events, it procudes\n   * a shorter text (e.g. without a time or added description).\n   * @param [locale] Optional locale name (defaults to active locale).\n   */\n  renderBrief(locale?: string): string {\n    return this.render(locale);\n  }\n  /**\n   * Optional holiday-specific Emoji or `null`.\n   */\n  getEmoji(): string | null {\n    return this.emoji || null;\n  }\n  /**\n   * Returns a simplified (untranslated) description for this event. For example,\n   * the `HolidayEvent` class supports\n   * \"Erev Pesach\" => \"Pesach\", and \"Sukkot III (CH''M)\" => \"Sukkot\".\n   * For many holidays the basename and the event description are the same.\n   */\n  basename(): string {\n    return this.getDesc();\n  }\n  /**\n   * Returns a URL to hebcal.com or sefaria.org for more detail on the event.\n   * Returns `undefined` for events with no detail page.\n   */\n  url(): string | undefined {\n    return undefined;\n  }\n  /**\n   * Is this event observed in Israel?\n   * @example\n   * const ev1 = new Event(new HDate(7, 'Sivan', 5749), 'Shavuot II', flags.CHAG | flags.CHUL_ONLY);\n   * ev1.observedInIsrael(); // false\n   * const ev2 = new Event(new HDate(26, 'Kislev', 5749), 'Chanukah: 3 Candles', 0);\n   * ev2.observedInIsrael(); // true\n   */\n  observedInIsrael(): boolean {\n    return !(this.mask & flags.CHUL_ONLY);\n  }\n  /**\n   * Is this event observed in the Diaspora?\n   * @example\n   * const ev1 = new Event(new HDate(7, 'Sivan', 5749), 'Shavuot II', flags.CHAG | flags.CHUL_ONLY);\n   * ev1.observedInDiaspora(); // true\n   * const ev2 = new Event(new HDate(26, 'Kislev', 5749), 'Chanukah: 3 Candles', 0);\n   * ev2.observedInDiaspora(); // true\n   */\n  observedInDiaspora(): boolean {\n    return !(this.mask & flags.IL_ONLY);\n  }\n  /**\n   * Is this event observed in Israel/Diaspora?\n   * @example\n   * const ev1 = new Event(new HDate(7, 'Sivan', 5749), 'Shavuot II', flags.CHAG | flags.CHUL_ONLY);\n   * ev1.observedIn(false); // true\n   * ev1.observedIn(true); // false\n   * const ev2 = new Event(new HDate(26, 'Kislev', 5749), 'Chanukah: 3 Candles', 0);\n   * ev2.observedIn(false); // true\n   * ev2.observedIn(true); // true\n   * @param il\n   */\n  observedIn(il: boolean): boolean {\n    return il ? this.observedInIsrael() : this.observedInDiaspora();\n  }\n  /**\n   * Makes a clone of this Event object\n   * @deprecated\n   */\n  clone(): Event {\n    const ev = new Event(this.date, this.desc, this.mask);\n    // overwrite all enumerable properties\n    Object.assign(ev, this);\n    return ev;\n  }\n  /**\n   * Returns a list of event categories\n   */\n  getCategories(): string[] {\n    const mask = this.getFlags();\n    for (const attrs of flagToCategory) {\n      const attr0 = attrs[0] as number;\n      if (mask & attr0) {\n        return attrs.slice(1) as string[];\n      }\n    }\n    return ['unknown'];\n  }\n}\n","import {HDate, gematriya, months, Locale} from '@hebcal/hdate';\nimport {Event, flags} from './event';\nimport './locale'; // Adds Hebrew and Ashkenazic translations\n\n/** Daily Hebrew date (\"11th of Sivan, 5780\") */\nexport class HebrewDateEvent extends Event {\n  /**\n   * @param date\n   */\n  constructor(date: HDate) {\n    super(date, date.toString(), flags.HEBREW_DATE);\n  }\n  /**\n   * @param [locale] Optional locale name (defaults to active locale).\n   * @example\n   * import {HDate, HebrewDateEvent, months} from '@hebcal/core';\n   *\n   * const hd = new HDate(15, months.CHESHVAN, 5769);\n   * const ev = new HebrewDateEvent(hd);\n   * console.log(ev.render('en')); // '15th of Cheshvan, 5769'\n   * console.log(ev.render('he')); // 'ט״ו חֶשְׁוָן תשס״ט'\n   */\n  render(locale?: string): string {\n    const locale1 = locale?.toLowerCase();\n    const locale0 = locale1 ?? Locale.getLocaleName();\n    const hd = this.getDate();\n    switch (locale0) {\n      case 'h':\n      case 'he':\n        return hd.renderGematriya(false);\n      case 'he-x-nonikud':\n        return hd.renderGematriya(true);\n      default:\n        return hd.render(locale0, true);\n    }\n  }\n  /**\n   * @private\n   * @param locale\n   */\n  private renderBriefHebrew(locale: string): string {\n    const hd = this.getDate();\n    const dd = hd.getDate();\n    const mm = Locale.gettext(hd.getMonthName(), locale);\n    return gematriya(dd) + ' ' + mm;\n  }\n  /**\n   * @param [locale] Optional locale name (defaults to active locale).\n   * @example\n   * import {HDate, HebrewDateEvent, months} from '@hebcal/core';\n   *\n   * const hd = new HDate(15, months.CHESHVAN, 5769);\n   * const ev = new HebrewDateEvent(hd);\n   * console.log(ev.renderBrief()); // '15th of Cheshvan'\n   * console.log(ev.renderBrief('he')); // 'ט״ו חֶשְׁוָן'\n   */\n  renderBrief(locale?: string): string {\n    const locale1 = locale?.toLowerCase();\n    const locale0 = locale1 ?? Locale.getLocaleName();\n    const hd = this.getDate();\n    if (hd.getMonth() === months.TISHREI && hd.getDate() === 1) {\n      return this.render(locale0);\n    }\n    switch (locale0) {\n      case 'h':\n      case 'he':\n      case 'he-x-nonikud':\n        return this.renderBriefHebrew(locale0);\n      default:\n        return hd.render(locale0, false);\n    }\n  }\n}\n","'use strict';\nvar check = function (it) {\n  return it && it.Math === Math && it;\n};\n\n// https://github.com/zloirock/core-js/issues/86#issuecomment-115759028\nmodule.exports =\n  // eslint-disable-next-line es/no-global-this -- safe\n  check(typeof globalThis == 'object' && globalThis) ||\n  check(typeof window == 'object' && window) ||\n  // eslint-disable-next-line no-restricted-globals -- safe\n  check(typeof self == 'object' && self) ||\n  check(typeof global == 'object' && global) ||\n  check(typeof this == 'object' && this) ||\n  // eslint-disable-next-line no-new-func -- fallback\n  (function () { return this; })() || Function('return this')();\n","'use strict';\nmodule.exports = function (exec) {\n  try {\n    return !!exec();\n  } catch (error) {\n    return true;\n  }\n};\n","'use strict';\nvar fails = require('../internals/fails');\n\n// Detect IE8's incomplete defineProperty implementation\nmodule.exports = !fails(function () {\n  // eslint-disable-next-line es/no-object-defineproperty -- required for testing\n  return Object.defineProperty({}, 1, { get: function () { return 7; } })[1] !== 7;\n});\n","'use strict';\nvar fails = require('../internals/fails');\n\nmodule.exports = !fails(function () {\n  // eslint-disable-next-line es/no-function-prototype-bind -- safe\n  var test = (function () { /* empty */ }).bind();\n  // eslint-disable-next-line no-prototype-builtins -- safe\n  return typeof test != 'function' || test.hasOwnProperty('prototype');\n});\n","'use strict';\nvar NATIVE_BIND = require('../internals/function-bind-native');\n\nvar call = Function.prototype.call;\n// eslint-disable-next-line es/no-function-prototype-bind -- safe\nmodule.exports = NATIVE_BIND ? call.bind(call) : function () {\n  return call.apply(call, arguments);\n};\n","'use strict';\nmodule.exports = function (bitmap, value) {\n  return {\n    enumerable: !(bitmap & 1),\n    configurable: !(bitmap & 2),\n    writable: !(bitmap & 4),\n    value: value\n  };\n};\n","'use strict';\nvar NATIVE_BIND = require('../internals/function-bind-native');\n\nvar FunctionPrototype = Function.prototype;\nvar call = FunctionPrototype.call;\n// eslint-disable-next-line es/no-function-prototype-bind -- safe\nvar uncurryThisWithBind = NATIVE_BIND && FunctionPrototype.bind.bind(call, call);\n\nmodule.exports = NATIVE_BIND ? uncurryThisWithBind : function (fn) {\n  return function () {\n    return call.apply(fn, arguments);\n  };\n};\n","'use strict';\nvar uncurryThis = require('../internals/function-uncurry-this');\nvar fails = require('../internals/fails');\nvar classof = require('../internals/classof-raw');\n\nvar $Object = Object;\nvar split = uncurryThis(''.split);\n\n// fallback for non-array-like ES3 and non-enumerable old V8 strings\nmodule.exports = fails(function () {\n  // throws an error in rhino, see https://github.com/mozilla/rhino/issues/346\n  // eslint-disable-next-line no-prototype-builtins -- safe\n  return !$Object('z').propertyIsEnumerable(0);\n}) ? function (it) {\n  return classof(it) === 'String' ? split(it, '') : $Object(it);\n} : $Object;\n","'use strict';\nvar uncurryThis = require('../internals/function-uncurry-this');\n\nvar toString = uncurryThis({}.toString);\nvar stringSlice = uncurryThis(''.slice);\n\nmodule.exports = function (it) {\n  return stringSlice(toString(it), 8, -1);\n};\n","'use strict';\n// we can't use just `it == null` since of `document.all` special case\n// https://tc39.es/ecma262/#sec-IsHTMLDDA-internal-slot-aec\nmodule.exports = function (it) {\n  return it === null || it === undefined;\n};\n","'use strict';\nvar isNullOrUndefined = require('../internals/is-null-or-undefined');\n\nvar $TypeError = TypeError;\n\n// `RequireObjectCoercible` abstract operation\n// https://tc39.es/ecma262/#sec-requireobjectcoercible\nmodule.exports = function (it) {\n  if (isNullOrUndefined(it)) throw new $TypeError(\"Can't call method on \" + it);\n  return it;\n};\n","'use strict';\n// toObject with fallback for non-array-like ES3 strings\nvar IndexedObject = require('../internals/indexed-object');\nvar requireObjectCoercible = require('../internals/require-object-coercible');\n\nmodule.exports = function (it) {\n  return IndexedObject(requireObjectCoercible(it));\n};\n","'use strict';\n// https://tc39.es/ecma262/#sec-IsHTMLDDA-internal-slot\nvar documentAll = typeof document == 'object' && document.all;\n\n// `IsCallable` abstract operation\n// https://tc39.es/ecma262/#sec-iscallable\n// eslint-disable-next-line unicorn/no-typeof-undefined -- required for testing\nmodule.exports = typeof documentAll == 'undefined' && documentAll !== undefined ? function (argument) {\n  return typeof argument == 'function' || argument === documentAll;\n} : function (argument) {\n  return typeof argument == 'function';\n};\n","'use strict';\nvar isCallable = require('../internals/is-callable');\n\nmodule.exports = function (it) {\n  return typeof it == 'object' ? it !== null : isCallable(it);\n};\n","'use strict';\nvar globalThis = require('../internals/global-this');\nvar isCallable = require('../internals/is-callable');\n\nvar aFunction = function (argument) {\n  return isCallable(argument) ? argument : undefined;\n};\n\nmodule.exports = function (namespace, method) {\n  return arguments.length < 2 ? aFunction(globalThis[namespace]) : globalThis[namespace] && globalThis[namespace][method];\n};\n","'use strict';\nvar globalThis = require('../internals/global-this');\nvar userAgent = require('../internals/environment-user-agent');\n\nvar process = globalThis.process;\nvar Deno = globalThis.Deno;\nvar versions = process && process.versions || Deno && Deno.version;\nvar v8 = versions && versions.v8;\nvar match, version;\n\nif (v8) {\n  match = v8.split('.');\n  // in old Chrome, versions of V8 isn't V8 = Chrome / 10\n  // but their correct versions are not interesting for us\n  version = match[0] > 0 && match[0] < 4 ? 1 : +(match[0] + match[1]);\n}\n\n// BrowserFS NodeJS `process` polyfill incorrectly set `.v8` to `0.0`\n// so check `userAgent` even if `.v8` exists, but 0\nif (!version && userAgent) {\n  match = userAgent.match(/Edge\\/(\\d+)/);\n  if (!match || match[1] >= 74) {\n    match = userAgent.match(/Chrome\\/(\\d+)/);\n    if (match) version = +match[1];\n  }\n}\n\nmodule.exports = version;\n","'use strict';\nvar globalThis = require('../internals/global-this');\n\nvar navigator = globalThis.navigator;\nvar userAgent = navigator && navigator.userAgent;\n\nmodule.exports = userAgent ? String(userAgent) : '';\n","'use strict';\n/* eslint-disable es/no-symbol -- required for testing */\nvar V8_VERSION = require('../internals/environment-v8-version');\nvar fails = require('../internals/fails');\nvar globalThis = require('../internals/global-this');\n\nvar $String = globalThis.String;\n\n// eslint-disable-next-line es/no-object-getownpropertysymbols -- required for testing\nmodule.exports = !!Object.getOwnPropertySymbols && !fails(function () {\n  var symbol = Symbol('symbol detection');\n  // Chrome 38 Symbol has incorrect toString conversion\n  // `get-own-property-symbols` polyfill symbols converted to object are not Symbol instances\n  // nb: Do not call `String` directly to avoid this being optimized out to `symbol+''` which will,\n  // of course, fail.\n  return !$String(symbol) || !(Object(symbol) instanceof Symbol) ||\n    // Chrome 38-40 symbols are not inherited from DOM collections prototypes to instances\n    !Symbol.sham && V8_VERSION && V8_VERSION < 41;\n});\n","'use strict';\n/* eslint-disable es/no-symbol -- required for testing */\nvar NATIVE_SYMBOL = require('../internals/symbol-constructor-detection');\n\nmodule.exports = NATIVE_SYMBOL &&\n  !Symbol.sham &&\n  typeof Symbol.iterator == 'symbol';\n","'use strict';\nvar getBuiltIn = require('../internals/get-built-in');\nvar isCallable = require('../internals/is-callable');\nvar isPrototypeOf = require('../internals/object-is-prototype-of');\nvar USE_SYMBOL_AS_UID = require('../internals/use-symbol-as-uid');\n\nvar $Object = Object;\n\nmodule.exports = USE_SYMBOL_AS_UID ? function (it) {\n  return typeof it == 'symbol';\n} : function (it) {\n  var $Symbol = getBuiltIn('Symbol');\n  return isCallable($Symbol) && isPrototypeOf($Symbol.prototype, $Object(it));\n};\n","'use strict';\nvar uncurryThis = require('../internals/function-uncurry-this');\n\nmodule.exports = uncurryThis({}.isPrototypeOf);\n","'use strict';\nvar $String = String;\n\nmodule.exports = function (argument) {\n  try {\n    return $String(argument);\n  } catch (error) {\n    return 'Object';\n  }\n};\n","'use strict';\nvar isCallable = require('../internals/is-callable');\nvar tryToString = require('../internals/try-to-string');\n\nvar $TypeError = TypeError;\n\n// `Assert: IsCallable(argument) is true`\nmodule.exports = function (argument) {\n  if (isCallable(argument)) return argument;\n  throw new $TypeError(tryToString(argument) + ' is not a function');\n};\n","'use strict';\nvar aCallable = require('../internals/a-callable');\nvar isNullOrUndefined = require('../internals/is-null-or-undefined');\n\n// `GetMethod` abstract operation\n// https://tc39.es/ecma262/#sec-getmethod\nmodule.exports = function (V, P) {\n  var func = V[P];\n  return isNullOrUndefined(func) ? undefined : aCallable(func);\n};\n","'use strict';\nvar call = require('../internals/function-call');\nvar isCallable = require('../internals/is-callable');\nvar isObject = require('../internals/is-object');\n\nvar $TypeError = TypeError;\n\n// `OrdinaryToPrimitive` abstract operation\n// https://tc39.es/ecma262/#sec-ordinarytoprimitive\nmodule.exports = function (input, pref) {\n  var fn, val;\n  if (pref === 'string' && isCallable(fn = input.toString) && !isObject(val = call(fn, input))) return val;\n  if (isCallable(fn = input.valueOf) && !isObject(val = call(fn, input))) return val;\n  if (pref !== 'string' && isCallable(fn = input.toString) && !isObject(val = call(fn, input))) return val;\n  throw new $TypeError(\"Can't convert object to primitive value\");\n};\n","'use strict';\nvar globalThis = require('../internals/global-this');\n\n// eslint-disable-next-line es/no-object-defineproperty -- safe\nvar defineProperty = Object.defineProperty;\n\nmodule.exports = function (key, value) {\n  try {\n    defineProperty(globalThis, key, { value: value, configurable: true, writable: true });\n  } catch (error) {\n    globalThis[key] = value;\n  } return value;\n};\n","'use strict';\nvar IS_PURE = require('../internals/is-pure');\nvar globalThis = require('../internals/global-this');\nvar defineGlobalProperty = require('../internals/define-global-property');\n\nvar SHARED = '__core-js_shared__';\nvar store = module.exports = globalThis[SHARED] || defineGlobalProperty(SHARED, {});\n\n(store.versions || (store.versions = [])).push({\n  version: '3.44.0',\n  mode: IS_PURE ? 'pure' : 'global',\n  copyright: '© 2014-2025 Denis Pushkarev (zloirock.ru)',\n  license: 'https://github.com/zloirock/core-js/blob/v3.44.0/LICENSE',\n  source: 'https://github.com/zloirock/core-js'\n});\n","'use strict';\nmodule.exports = false;\n","'use strict';\nvar store = require('../internals/shared-store');\n\nmodule.exports = function (key, value) {\n  return store[key] || (store[key] = value || {});\n};\n","'use strict';\nvar requireObjectCoercible = require('../internals/require-object-coercible');\n\nvar $Object = Object;\n\n// `ToObject` abstract operation\n// https://tc39.es/ecma262/#sec-toobject\nmodule.exports = function (argument) {\n  return $Object(requireObjectCoercible(argument));\n};\n","'use strict';\nvar uncurryThis = require('../internals/function-uncurry-this');\nvar toObject = require('../internals/to-object');\n\nvar hasOwnProperty = uncurryThis({}.hasOwnProperty);\n\n// `HasOwnProperty` abstract operation\n// https://tc39.es/ecma262/#sec-hasownproperty\n// eslint-disable-next-line es/no-object-hasown -- safe\nmodule.exports = Object.hasOwn || function hasOwn(it, key) {\n  return hasOwnProperty(toObject(it), key);\n};\n","'use strict';\nvar uncurryThis = require('../internals/function-uncurry-this');\n\nvar id = 0;\nvar postfix = Math.random();\nvar toString = uncurryThis(1.1.toString);\n\nmodule.exports = function (key) {\n  return 'Symbol(' + (key === undefined ? '' : key) + ')_' + toString(++id + postfix, 36);\n};\n","'use strict';\nvar globalThis = require('../internals/global-this');\nvar shared = require('../internals/shared');\nvar hasOwn = require('../internals/has-own-property');\nvar uid = require('../internals/uid');\nvar NATIVE_SYMBOL = require('../internals/symbol-constructor-detection');\nvar USE_SYMBOL_AS_UID = require('../internals/use-symbol-as-uid');\n\nvar Symbol = globalThis.Symbol;\nvar WellKnownSymbolsStore = shared('wks');\nvar createWellKnownSymbol = USE_SYMBOL_AS_UID ? Symbol['for'] || Symbol : Symbol && Symbol.withoutSetter || uid;\n\nmodule.exports = function (name) {\n  if (!hasOwn(WellKnownSymbolsStore, name)) {\n    WellKnownSymbolsStore[name] = NATIVE_SYMBOL && hasOwn(Symbol, name)\n      ? Symbol[name]\n      : createWellKnownSymbol('Symbol.' + name);\n  } return WellKnownSymbolsStore[name];\n};\n","'use strict';\nvar call = require('../internals/function-call');\nvar isObject = require('../internals/is-object');\nvar isSymbol = require('../internals/is-symbol');\nvar getMethod = require('../internals/get-method');\nvar ordinaryToPrimitive = require('../internals/ordinary-to-primitive');\nvar wellKnownSymbol = require('../internals/well-known-symbol');\n\nvar $TypeError = TypeError;\nvar TO_PRIMITIVE = wellKnownSymbol('toPrimitive');\n\n// `ToPrimitive` abstract operation\n// https://tc39.es/ecma262/#sec-toprimitive\nmodule.exports = function (input, pref) {\n  if (!isObject(input) || isSymbol(input)) return input;\n  var exoticToPrim = getMethod(input, TO_PRIMITIVE);\n  var result;\n  if (exoticToPrim) {\n    if (pref === undefined) pref = 'default';\n    result = call(exoticToPrim, input, pref);\n    if (!isObject(result) || isSymbol(result)) return result;\n    throw new $TypeError(\"Can't convert object to primitive value\");\n  }\n  if (pref === undefined) pref = 'number';\n  return ordinaryToPrimitive(input, pref);\n};\n","'use strict';\nvar toPrimitive = require('../internals/to-primitive');\nvar isSymbol = require('../internals/is-symbol');\n\n// `ToPropertyKey` abstract operation\n// https://tc39.es/ecma262/#sec-topropertykey\nmodule.exports = function (argument) {\n  var key = toPrimitive(argument, 'string');\n  return isSymbol(key) ? key : key + '';\n};\n","'use strict';\nvar globalThis = require('../internals/global-this');\nvar isObject = require('../internals/is-object');\n\nvar document = globalThis.document;\n// typeof document.createElement is 'object' in old IE\nvar EXISTS = isObject(document) && isObject(document.createElement);\n\nmodule.exports = function (it) {\n  return EXISTS ? document.createElement(it) : {};\n};\n","'use strict';\nvar DESCRIPTORS = require('../internals/descriptors');\nvar fails = require('../internals/fails');\nvar createElement = require('../internals/document-create-element');\n\n// Thanks to IE8 for its funny defineProperty\nmodule.exports = !DESCRIPTORS && !fails(function () {\n  // eslint-disable-next-line es/no-object-defineproperty -- required for testing\n  return Object.defineProperty(createElement('div'), 'a', {\n    get: function () { return 7; }\n  }).a !== 7;\n});\n","'use strict';\nvar DESCRIPTORS = require('../internals/descriptors');\nvar call = require('../internals/function-call');\nvar propertyIsEnumerableModule = require('../internals/object-property-is-enumerable');\nvar createPropertyDescriptor = require('../internals/create-property-descriptor');\nvar toIndexedObject = require('../internals/to-indexed-object');\nvar toPropertyKey = require('../internals/to-property-key');\nvar hasOwn = require('../internals/has-own-property');\nvar IE8_DOM_DEFINE = require('../internals/ie8-dom-define');\n\n// eslint-disable-next-line es/no-object-getownpropertydescriptor -- safe\nvar $getOwnPropertyDescriptor = Object.getOwnPropertyDescriptor;\n\n// `Object.getOwnPropertyDescriptor` method\n// https://tc39.es/ecma262/#sec-object.getownpropertydescriptor\nexports.f = DESCRIPTORS ? $getOwnPropertyDescriptor : function getOwnPropertyDescriptor(O, P) {\n  O = toIndexedObject(O);\n  P = toPropertyKey(P);\n  if (IE8_DOM_DEFINE) try {\n    return $getOwnPropertyDescriptor(O, P);\n  } catch (error) { /* empty */ }\n  if (hasOwn(O, P)) return createPropertyDescriptor(!call(propertyIsEnumerableModule.f, O, P), O[P]);\n};\n","'use strict';\nvar $propertyIsEnumerable = {}.propertyIsEnumerable;\n// eslint-disable-next-line es/no-object-getownpropertydescriptor -- safe\nvar getOwnPropertyDescriptor = Object.getOwnPropertyDescriptor;\n\n// Nashorn ~ JDK8 bug\nvar NASHORN_BUG = getOwnPropertyDescriptor && !$propertyIsEnumerable.call({ 1: 2 }, 1);\n\n// `Object.prototype.propertyIsEnumerable` method implementation\n// https://tc39.es/ecma262/#sec-object.prototype.propertyisenumerable\nexports.f = NASHORN_BUG ? function propertyIsEnumerable(V) {\n  var descriptor = getOwnPropertyDescriptor(this, V);\n  return !!descriptor && descriptor.enumerable;\n} : $propertyIsEnumerable;\n","'use strict';\nvar DESCRIPTORS = require('../internals/descriptors');\nvar fails = require('../internals/fails');\n\n// V8 ~ Chrome 36-\n// https://bugs.chromium.org/p/v8/issues/detail?id=3334\nmodule.exports = DESCRIPTORS && fails(function () {\n  // eslint-disable-next-line es/no-object-defineproperty -- required for testing\n  return Object.defineProperty(function () { /* empty */ }, 'prototype', {\n    value: 42,\n    writable: false\n  }).prototype !== 42;\n});\n","'use strict';\nvar isObject = require('../internals/is-object');\n\nvar $String = String;\nvar $TypeError = TypeError;\n\n// `Assert: Type(argument) is Object`\nmodule.exports = function (argument) {\n  if (isObject(argument)) return argument;\n  throw new $TypeError($String(argument) + ' is not an object');\n};\n","'use strict';\nvar DESCRIPTORS = require('../internals/descriptors');\nvar IE8_DOM_DEFINE = require('../internals/ie8-dom-define');\nvar V8_PROTOTYPE_DEFINE_BUG = require('../internals/v8-prototype-define-bug');\nvar anObject = require('../internals/an-object');\nvar toPropertyKey = require('../internals/to-property-key');\n\nvar $TypeError = TypeError;\n// eslint-disable-next-line es/no-object-defineproperty -- safe\nvar $defineProperty = Object.defineProperty;\n// eslint-disable-next-line es/no-object-getownpropertydescriptor -- safe\nvar $getOwnPropertyDescriptor = Object.getOwnPropertyDescriptor;\nvar ENUMERABLE = 'enumerable';\nvar CONFIGURABLE = 'configurable';\nvar WRITABLE = 'writable';\n\n// `Object.defineProperty` method\n// https://tc39.es/ecma262/#sec-object.defineproperty\nexports.f = DESCRIPTORS ? V8_PROTOTYPE_DEFINE_BUG ? function defineProperty(O, P, Attributes) {\n  anObject(O);\n  P = toPropertyKey(P);\n  anObject(Attributes);\n  if (typeof O === 'function' && P === 'prototype' && 'value' in Attributes && WRITABLE in Attributes && !Attributes[WRITABLE]) {\n    var current = $getOwnPropertyDescriptor(O, P);\n    if (current && current[WRITABLE]) {\n      O[P] = Attributes.value;\n      Attributes = {\n        configurable: CONFIGURABLE in Attributes ? Attributes[CONFIGURABLE] : current[CONFIGURABLE],\n        enumerable: ENUMERABLE in Attributes ? Attributes[ENUMERABLE] : current[ENUMERABLE],\n        writable: false\n      };\n    }\n  } return $defineProperty(O, P, Attributes);\n} : $defineProperty : function defineProperty(O, P, Attributes) {\n  anObject(O);\n  P = toPropertyKey(P);\n  anObject(Attributes);\n  if (IE8_DOM_DEFINE) try {\n    return $defineProperty(O, P, Attributes);\n  } catch (error) { /* empty */ }\n  if ('get' in Attributes || 'set' in Attributes) throw new $TypeError('Accessors not supported');\n  if ('value' in Attributes) O[P] = Attributes.value;\n  return O;\n};\n","'use strict';\nvar DESCRIPTORS = require('../internals/descriptors');\nvar definePropertyModule = require('../internals/object-define-property');\nvar createPropertyDescriptor = require('../internals/create-property-descriptor');\n\nmodule.exports = DESCRIPTORS ? function (object, key, value) {\n  return definePropertyModule.f(object, key, createPropertyDescriptor(1, value));\n} : function (object, key, value) {\n  object[key] = value;\n  return object;\n};\n","'use strict';\nvar uncurryThis = require('../internals/function-uncurry-this');\nvar isCallable = require('../internals/is-callable');\nvar store = require('../internals/shared-store');\n\nvar functionToString = uncurryThis(Function.toString);\n\n// this helper broken in `core-js@3.4.1-3.4.4`, so we can't use `shared` helper\nif (!isCallable(store.inspectSource)) {\n  store.inspectSource = function (it) {\n    return functionToString(it);\n  };\n}\n\nmodule.exports = store.inspectSource;\n","'use strict';\nvar shared = require('../internals/shared');\nvar uid = require('../internals/uid');\n\nvar keys = shared('keys');\n\nmodule.exports = function (key) {\n  return keys[key] || (keys[key] = uid(key));\n};\n","'use strict';\nmodule.exports = {};\n","'use strict';\nvar NATIVE_WEAK_MAP = require('../internals/weak-map-basic-detection');\nvar globalThis = require('../internals/global-this');\nvar isObject = require('../internals/is-object');\nvar createNonEnumerableProperty = require('../internals/create-non-enumerable-property');\nvar hasOwn = require('../internals/has-own-property');\nvar shared = require('../internals/shared-store');\nvar sharedKey = require('../internals/shared-key');\nvar hiddenKeys = require('../internals/hidden-keys');\n\nvar OBJECT_ALREADY_INITIALIZED = 'Object already initialized';\nvar TypeError = globalThis.TypeError;\nvar WeakMap = globalThis.WeakMap;\nvar set, get, has;\n\nvar enforce = function (it) {\n  return has(it) ? get(it) : set(it, {});\n};\n\nvar getterFor = function (TYPE) {\n  return function (it) {\n    var state;\n    if (!isObject(it) || (state = get(it)).type !== TYPE) {\n      throw new TypeError('Incompatible receiver, ' + TYPE + ' required');\n    } return state;\n  };\n};\n\nif (NATIVE_WEAK_MAP || shared.state) {\n  var store = shared.state || (shared.state = new WeakMap());\n  /* eslint-disable no-self-assign -- prototype methods protection */\n  store.get = store.get;\n  store.has = store.has;\n  store.set = store.set;\n  /* eslint-enable no-self-assign -- prototype methods protection */\n  set = function (it, metadata) {\n    if (store.has(it)) throw new TypeError(OBJECT_ALREADY_INITIALIZED);\n    metadata.facade = it;\n    store.set(it, metadata);\n    return metadata;\n  };\n  get = function (it) {\n    return store.get(it) || {};\n  };\n  has = function (it) {\n    return store.has(it);\n  };\n} else {\n  var STATE = sharedKey('state');\n  hiddenKeys[STATE] = true;\n  set = function (it, metadata) {\n    if (hasOwn(it, STATE)) throw new TypeError(OBJECT_ALREADY_INITIALIZED);\n    metadata.facade = it;\n    createNonEnumerableProperty(it, STATE, metadata);\n    return metadata;\n  };\n  get = function (it) {\n    return hasOwn(it, STATE) ? it[STATE] : {};\n  };\n  has = function (it) {\n    return hasOwn(it, STATE);\n  };\n}\n\nmodule.exports = {\n  set: set,\n  get: get,\n  has: has,\n  enforce: enforce,\n  getterFor: getterFor\n};\n","'use strict';\nvar globalThis = require('../internals/global-this');\nvar isCallable = require('../internals/is-callable');\n\nvar WeakMap = globalThis.WeakMap;\n\nmodule.exports = isCallable(WeakMap) && /native code/.test(String(WeakMap));\n","'use strict';\nvar uncurryThis = require('../internals/function-uncurry-this');\nvar fails = require('../internals/fails');\nvar isCallable = require('../internals/is-callable');\nvar hasOwn = require('../internals/has-own-property');\nvar DESCRIPTORS = require('../internals/descriptors');\nvar CONFIGURABLE_FUNCTION_NAME = require('../internals/function-name').CONFIGURABLE;\nvar inspectSource = require('../internals/inspect-source');\nvar InternalStateModule = require('../internals/internal-state');\n\nvar enforceInternalState = InternalStateModule.enforce;\nvar getInternalState = InternalStateModule.get;\nvar $String = String;\n// eslint-disable-next-line es/no-object-defineproperty -- safe\nvar defineProperty = Object.defineProperty;\nvar stringSlice = uncurryThis(''.slice);\nvar replace = uncurryThis(''.replace);\nvar join = uncurryThis([].join);\n\nvar CONFIGURABLE_LENGTH = DESCRIPTORS && !fails(function () {\n  return defineProperty(function () { /* empty */ }, 'length', { value: 8 }).length !== 8;\n});\n\nvar TEMPLATE = String(String).split('String');\n\nvar makeBuiltIn = module.exports = function (value, name, options) {\n  if (stringSlice($String(name), 0, 7) === 'Symbol(') {\n    name = '[' + replace($String(name), /^Symbol\\(([^)]*)\\).*$/, '$1') + ']';\n  }\n  if (options && options.getter) name = 'get ' + name;\n  if (options && options.setter) name = 'set ' + name;\n  if (!hasOwn(value, 'name') || (CONFIGURABLE_FUNCTION_NAME && value.name !== name)) {\n    if (DESCRIPTORS) defineProperty(value, 'name', { value: name, configurable: true });\n    else value.name = name;\n  }\n  if (CONFIGURABLE_LENGTH && options && hasOwn(options, 'arity') && value.length !== options.arity) {\n    defineProperty(value, 'length', { value: options.arity });\n  }\n  try {\n    if (options && hasOwn(options, 'constructor') && options.constructor) {\n      if (DESCRIPTORS) defineProperty(value, 'prototype', { writable: false });\n    // in V8 ~ Chrome 53, prototypes of some methods, like `Array.prototype.values`, are non-writable\n    } else if (value.prototype) value.prototype = undefined;\n  } catch (error) { /* empty */ }\n  var state = enforceInternalState(value);\n  if (!hasOwn(state, 'source')) {\n    state.source = join(TEMPLATE, typeof name == 'string' ? name : '');\n  } return value;\n};\n\n// add fake Function#toString for correct work wrapped methods / constructors with methods like LoDash isNative\n// eslint-disable-next-line no-extend-native -- required\nFunction.prototype.toString = makeBuiltIn(function toString() {\n  return isCallable(this) && getInternalState(this).source || inspectSource(this);\n}, 'toString');\n","'use strict';\nvar DESCRIPTORS = require('../internals/descriptors');\nvar hasOwn = require('../internals/has-own-property');\n\nvar FunctionPrototype = Function.prototype;\n// eslint-disable-next-line es/no-object-getownpropertydescriptor -- safe\nvar getDescriptor = DESCRIPTORS && Object.getOwnPropertyDescriptor;\n\nvar EXISTS = hasOwn(FunctionPrototype, 'name');\n// additional protection from minified / mangled / dropped function names\nvar PROPER = EXISTS && (function something() { /* empty */ }).name === 'something';\nvar CONFIGURABLE = EXISTS && (!DESCRIPTORS || (DESCRIPTORS && getDescriptor(FunctionPrototype, 'name').configurable));\n\nmodule.exports = {\n  EXISTS: EXISTS,\n  PROPER: PROPER,\n  CONFIGURABLE: CONFIGURABLE\n};\n","'use strict';\nvar isCallable = require('../internals/is-callable');\nvar definePropertyModule = require('../internals/object-define-property');\nvar makeBuiltIn = require('../internals/make-built-in');\nvar defineGlobalProperty = require('../internals/define-global-property');\n\nmodule.exports = function (O, key, value, options) {\n  if (!options) options = {};\n  var simple = options.enumerable;\n  var name = options.name !== undefined ? options.name : key;\n  if (isCallable(value)) makeBuiltIn(value, name, options);\n  if (options.global) {\n    if (simple) O[key] = value;\n    else defineGlobalProperty(key, value);\n  } else {\n    try {\n      if (!options.unsafe) delete O[key];\n      else if (O[key]) simple = true;\n    } catch (error) { /* empty */ }\n    if (simple) O[key] = value;\n    else definePropertyModule.f(O, key, {\n      value: value,\n      enumerable: false,\n      configurable: !options.nonConfigurable,\n      writable: !options.nonWritable\n    });\n  } return O;\n};\n","'use strict';\nvar trunc = require('../internals/math-trunc');\n\n// `ToIntegerOrInfinity` abstract operation\n// https://tc39.es/ecma262/#sec-tointegerorinfinity\nmodule.exports = function (argument) {\n  var number = +argument;\n  // eslint-disable-next-line no-self-compare -- NaN check\n  return number !== number || number === 0 ? 0 : trunc(number);\n};\n","'use strict';\nvar ceil = Math.ceil;\nvar floor = Math.floor;\n\n// `Math.trunc` method\n// https://tc39.es/ecma262/#sec-math.trunc\n// eslint-disable-next-line es/no-math-trunc -- safe\nmodule.exports = Math.trunc || function trunc(x) {\n  var n = +x;\n  return (n > 0 ? floor : ceil)(n);\n};\n","'use strict';\nvar toIntegerOrInfinity = require('../internals/to-integer-or-infinity');\n\nvar max = Math.max;\nvar min = Math.min;\n\n// Helper for a popular repeating case of the spec:\n// Let integer be ? ToInteger(index).\n// If integer < 0, let result be max((length + integer), 0); else let result be min(integer, length).\nmodule.exports = function (index, length) {\n  var integer = toIntegerOrInfinity(index);\n  return integer < 0 ? max(integer + length, 0) : min(integer, length);\n};\n","'use strict';\nvar toIntegerOrInfinity = require('../internals/to-integer-or-infinity');\n\nvar min = Math.min;\n\n// `ToLength` abstract operation\n// https://tc39.es/ecma262/#sec-tolength\nmodule.exports = function (argument) {\n  var len = toIntegerOrInfinity(argument);\n  return len > 0 ? min(len, 0x1FFFFFFFFFFFFF) : 0; // 2 ** 53 - 1 == 9007199254740991\n};\n","'use strict';\nvar toLength = require('../internals/to-length');\n\n// `LengthOfArrayLike` abstract operation\n// https://tc39.es/ecma262/#sec-lengthofarraylike\nmodule.exports = function (obj) {\n  return toLength(obj.length);\n};\n","'use strict';\nvar toIndexedObject = require('../internals/to-indexed-object');\nvar toAbsoluteIndex = require('../internals/to-absolute-index');\nvar lengthOfArrayLike = require('../internals/length-of-array-like');\n\n// `Array.prototype.{ indexOf, includes }` methods implementation\nvar createMethod = function (IS_INCLUDES) {\n  return function ($this, el, fromIndex) {\n    var O = toIndexedObject($this);\n    var length = lengthOfArrayLike(O);\n    if (length === 0) return !IS_INCLUDES && -1;\n    var index = toAbsoluteIndex(fromIndex, length);\n    var value;\n    // Array#includes uses SameValueZero equality algorithm\n    // eslint-disable-next-line no-self-compare -- NaN check\n    if (IS_INCLUDES && el !== el) while (length > index) {\n      value = O[index++];\n      // eslint-disable-next-line no-self-compare -- NaN check\n      if (value !== value) return true;\n    // Array#indexOf ignores holes, Array#includes - not\n    } else for (;length > index; index++) {\n      if ((IS_INCLUDES || index in O) && O[index] === el) return IS_INCLUDES || index || 0;\n    } return !IS_INCLUDES && -1;\n  };\n};\n\nmodule.exports = {\n  // `Array.prototype.includes` method\n  // https://tc39.es/ecma262/#sec-array.prototype.includes\n  includes: createMethod(true),\n  // `Array.prototype.indexOf` method\n  // https://tc39.es/ecma262/#sec-array.prototype.indexof\n  indexOf: createMethod(false)\n};\n","'use strict';\nvar uncurryThis = require('../internals/function-uncurry-this');\nvar hasOwn = require('../internals/has-own-property');\nvar toIndexedObject = require('../internals/to-indexed-object');\nvar indexOf = require('../internals/array-includes').indexOf;\nvar hiddenKeys = require('../internals/hidden-keys');\n\nvar push = uncurryThis([].push);\n\nmodule.exports = function (object, names) {\n  var O = toIndexedObject(object);\n  var i = 0;\n  var result = [];\n  var key;\n  for (key in O) !hasOwn(hiddenKeys, key) && hasOwn(O, key) && push(result, key);\n  // Don't enum bug & hidden keys\n  while (names.length > i) if (hasOwn(O, key = names[i++])) {\n    ~indexOf(result, key) || push(result, key);\n  }\n  return result;\n};\n","'use strict';\n// IE8- don't enum bug keys\nmodule.exports = [\n  'constructor',\n  'hasOwnProperty',\n  'isPrototypeOf',\n  'propertyIsEnumerable',\n  'toLocaleString',\n  'toString',\n  'valueOf'\n];\n","'use strict';\nvar getBuiltIn = require('../internals/get-built-in');\nvar uncurryThis = require('../internals/function-uncurry-this');\nvar getOwnPropertyNamesModule = require('../internals/object-get-own-property-names');\nvar getOwnPropertySymbolsModule = require('../internals/object-get-own-property-symbols');\nvar anObject = require('../internals/an-object');\n\nvar concat = uncurryThis([].concat);\n\n// all object keys, includes non-enumerable and symbols\nmodule.exports = getBuiltIn('Reflect', 'ownKeys') || function ownKeys(it) {\n  var keys = getOwnPropertyNamesModule.f(anObject(it));\n  var getOwnPropertySymbols = getOwnPropertySymbolsModule.f;\n  return getOwnPropertySymbols ? concat(keys, getOwnPropertySymbols(it)) : keys;\n};\n","'use strict';\nvar internalObjectKeys = require('../internals/object-keys-internal');\nvar enumBugKeys = require('../internals/enum-bug-keys');\n\nvar hiddenKeys = enumBugKeys.concat('length', 'prototype');\n\n// `Object.getOwnPropertyNames` method\n// https://tc39.es/ecma262/#sec-object.getownpropertynames\n// eslint-disable-next-line es/no-object-getownpropertynames -- safe\nexports.f = Object.getOwnPropertyNames || function getOwnPropertyNames(O) {\n  return internalObjectKeys(O, hiddenKeys);\n};\n","'use strict';\n// eslint-disable-next-line es/no-object-getownpropertysymbols -- safe\nexports.f = Object.getOwnPropertySymbols;\n","'use strict';\nvar hasOwn = require('../internals/has-own-property');\nvar ownKeys = require('../internals/own-keys');\nvar getOwnPropertyDescriptorModule = require('../internals/object-get-own-property-descriptor');\nvar definePropertyModule = require('../internals/object-define-property');\n\nmodule.exports = function (target, source, exceptions) {\n  var keys = ownKeys(source);\n  var defineProperty = definePropertyModule.f;\n  var getOwnPropertyDescriptor = getOwnPropertyDescriptorModule.f;\n  for (var i = 0; i < keys.length; i++) {\n    var key = keys[i];\n    if (!hasOwn(target, key) && !(exceptions && hasOwn(exceptions, key))) {\n      defineProperty(target, key, getOwnPropertyDescriptor(source, key));\n    }\n  }\n};\n","'use strict';\nvar globalThis = require('../internals/global-this');\nvar getOwnPropertyDescriptor = require('../internals/object-get-own-property-descriptor').f;\nvar createNonEnumerableProperty = require('../internals/create-non-enumerable-property');\nvar defineBuiltIn = require('../internals/define-built-in');\nvar defineGlobalProperty = require('../internals/define-global-property');\nvar copyConstructorProperties = require('../internals/copy-constructor-properties');\nvar isForced = require('../internals/is-forced');\n\n/*\n  options.target         - name of the target object\n  options.global         - target is the global object\n  options.stat           - export as static methods of target\n  options.proto          - export as prototype methods of target\n  options.real           - real prototype method for the `pure` version\n  options.forced         - export even if the native feature is available\n  options.bind           - bind methods to the target, required for the `pure` version\n  options.wrap           - wrap constructors to preventing global pollution, required for the `pure` version\n  options.unsafe         - use the simple assignment of property instead of delete + defineProperty\n  options.sham           - add a flag to not completely full polyfills\n  options.enumerable     - export as enumerable property\n  options.dontCallGetSet - prevent calling a getter on target\n  options.name           - the .name of the function if it does not match the key\n*/\nmodule.exports = function (options, source) {\n  var TARGET = options.target;\n  var GLOBAL = options.global;\n  var STATIC = options.stat;\n  var FORCED, target, key, targetProperty, sourceProperty, descriptor;\n  if (GLOBAL) {\n    target = globalThis;\n  } else if (STATIC) {\n    target = globalThis[TARGET] || defineGlobalProperty(TARGET, {});\n  } else {\n    target = globalThis[TARGET] && globalThis[TARGET].prototype;\n  }\n  if (target) for (key in source) {\n    sourceProperty = source[key];\n    if (options.dontCallGetSet) {\n      descriptor = getOwnPropertyDescriptor(target, key);\n      targetProperty = descriptor && descriptor.value;\n    } else targetProperty = target[key];\n    FORCED = isForced(GLOBAL ? key : TARGET + (STATIC ? '.' : '#') + key, options.forced);\n    // contained in target\n    if (!FORCED && targetProperty !== undefined) {\n      if (typeof sourceProperty == typeof targetProperty) continue;\n      copyConstructorProperties(sourceProperty, targetProperty);\n    }\n    // add a flag to not completely full polyfills\n    if (options.sham || (targetProperty && targetProperty.sham)) {\n      createNonEnumerableProperty(sourceProperty, 'sham', true);\n    }\n    defineBuiltIn(target, key, sourceProperty, options);\n  }\n};\n","'use strict';\nvar fails = require('../internals/fails');\nvar isCallable = require('../internals/is-callable');\n\nvar replacement = /#|\\.prototype\\./;\n\nvar isForced = function (feature, detection) {\n  var value = data[normalize(feature)];\n  return value === POLYFILL ? true\n    : value === NATIVE ? false\n    : isCallable(detection) ? fails(detection)\n    : !!detection;\n};\n\nvar normalize = isForced.normalize = function (string) {\n  return String(string).replace(replacement, '.').toLowerCase();\n};\n\nvar data = isForced.data = {};\nvar NATIVE = isForced.NATIVE = 'N';\nvar POLYFILL = isForced.POLYFILL = 'P';\n\nmodule.exports = isForced;\n","'use strict';\nvar internalObjectKeys = require('../internals/object-keys-internal');\nvar enumBugKeys = require('../internals/enum-bug-keys');\n\n// `Object.keys` method\n// https://tc39.es/ecma262/#sec-object.keys\n// eslint-disable-next-line es/no-object-keys -- safe\nmodule.exports = Object.keys || function keys(O) {\n  return internalObjectKeys(O, enumBugKeys);\n};\n","'use strict';\nvar getBuiltIn = require('../internals/get-built-in');\n\nmodule.exports = getBuiltIn('document', 'documentElement');\n","'use strict';\n/* global ActiveXObject -- old IE, WSH */\nvar anObject = require('../internals/an-object');\nvar definePropertiesModule = require('../internals/object-define-properties');\nvar enumBugKeys = require('../internals/enum-bug-keys');\nvar hiddenKeys = require('../internals/hidden-keys');\nvar html = require('../internals/html');\nvar documentCreateElement = require('../internals/document-create-element');\nvar sharedKey = require('../internals/shared-key');\n\nvar GT = '>';\nvar LT = '<';\nvar PROTOTYPE = 'prototype';\nvar SCRIPT = 'script';\nvar IE_PROTO = sharedKey('IE_PROTO');\n\nvar EmptyConstructor = function () { /* empty */ };\n\nvar scriptTag = function (content) {\n  return LT + SCRIPT + GT + content + LT + '/' + SCRIPT + GT;\n};\n\n// Create object with fake `null` prototype: use ActiveX Object with cleared prototype\nvar NullProtoObjectViaActiveX = function (activeXDocument) {\n  activeXDocument.write(scriptTag(''));\n  activeXDocument.close();\n  var temp = activeXDocument.parentWindow.Object;\n  // eslint-disable-next-line no-useless-assignment -- avoid memory leak\n  activeXDocument = null;\n  return temp;\n};\n\n// Create object with fake `null` prototype: use iframe Object with cleared prototype\nvar NullProtoObjectViaIFrame = function () {\n  // Thrash, waste and sodomy: IE GC bug\n  var iframe = documentCreateElement('iframe');\n  var JS = 'java' + SCRIPT + ':';\n  var iframeDocument;\n  iframe.style.display = 'none';\n  html.appendChild(iframe);\n  // https://github.com/zloirock/core-js/issues/475\n  iframe.src = String(JS);\n  iframeDocument = iframe.contentWindow.document;\n  iframeDocument.open();\n  iframeDocument.write(scriptTag('document.F=Object'));\n  iframeDocument.close();\n  return iframeDocument.F;\n};\n\n// Check for document.domain and active x support\n// No need to use active x approach when document.domain is not set\n// see https://github.com/es-shims/es5-shim/issues/150\n// variation of https://github.com/kitcambridge/es5-shim/commit/4f738ac066346\n// avoid IE GC bug\nvar activeXDocument;\nvar NullProtoObject = function () {\n  try {\n    activeXDocument = new ActiveXObject('htmlfile');\n  } catch (error) { /* ignore */ }\n  NullProtoObject = typeof document != 'undefined'\n    ? document.domain && activeXDocument\n      ? NullProtoObjectViaActiveX(activeXDocument) // old IE\n      : NullProtoObjectViaIFrame()\n    : NullProtoObjectViaActiveX(activeXDocument); // WSH\n  var length = enumBugKeys.length;\n  while (length--) delete NullProtoObject[PROTOTYPE][enumBugKeys[length]];\n  return NullProtoObject();\n};\n\nhiddenKeys[IE_PROTO] = true;\n\n// `Object.create` method\n// https://tc39.es/ecma262/#sec-object.create\n// eslint-disable-next-line es/no-object-create -- safe\nmodule.exports = Object.create || function create(O, Properties) {\n  var result;\n  if (O !== null) {\n    EmptyConstructor[PROTOTYPE] = anObject(O);\n    result = new EmptyConstructor();\n    EmptyConstructor[PROTOTYPE] = null;\n    // add \"__proto__\" for Object.getPrototypeOf polyfill\n    result[IE_PROTO] = O;\n  } else result = NullProtoObject();\n  return Properties === undefined ? result : definePropertiesModule.f(result, Properties);\n};\n","'use strict';\nvar DESCRIPTORS = require('../internals/descriptors');\nvar V8_PROTOTYPE_DEFINE_BUG = require('../internals/v8-prototype-define-bug');\nvar definePropertyModule = require('../internals/object-define-property');\nvar anObject = require('../internals/an-object');\nvar toIndexedObject = require('../internals/to-indexed-object');\nvar objectKeys = require('../internals/object-keys');\n\n// `Object.defineProperties` method\n// https://tc39.es/ecma262/#sec-object.defineproperties\n// eslint-disable-next-line es/no-object-defineproperties -- safe\nexports.f = DESCRIPTORS && !V8_PROTOTYPE_DEFINE_BUG ? Object.defineProperties : function defineProperties(O, Properties) {\n  anObject(O);\n  var props = toIndexedObject(Properties);\n  var keys = objectKeys(Properties);\n  var length = keys.length;\n  var index = 0;\n  var key;\n  while (length > index) definePropertyModule.f(O, key = keys[index++], props[key]);\n  return O;\n};\n","'use strict';\nvar wellKnownSymbol = require('../internals/well-known-symbol');\nvar create = require('../internals/object-create');\nvar defineProperty = require('../internals/object-define-property').f;\n\nvar UNSCOPABLES = wellKnownSymbol('unscopables');\nvar ArrayPrototype = Array.prototype;\n\n// Array.prototype[@@unscopables]\n// https://tc39.es/ecma262/#sec-array.prototype-@@unscopables\nif (ArrayPrototype[UNSCOPABLES] === undefined) {\n  defineProperty(ArrayPrototype, UNSCOPABLES, {\n    configurable: true,\n    value: create(null)\n  });\n}\n\n// add a key to Array.prototype[@@unscopables]\nmodule.exports = function (key) {\n  ArrayPrototype[UNSCOPABLES][key] = true;\n};\n","function clampProp(e, n, t, o, r) {\n  return clampEntity(n, ((e, n) => {\n    const t = e[n];\n    if (void 0 === t) {\n      throw new TypeError(missingField(n));\n    }\n    return t;\n  })(e, n), t, o, r);\n}\n\nfunction clampEntity(e, n, t, o, r, i) {\n  const a = clampNumber(n, t, o);\n  if (r && n !== a) {\n    throw new RangeError(numberOutOfRange(e, n, t, o, i));\n  }\n  return a;\n}\n\nfunction s(e) {\n  return null !== e && /object|function/.test(typeof e);\n}\n\nfunction on(e, n = Map) {\n  const t = new n;\n  return (n, ...o) => {\n    if (t.has(n)) {\n      return t.get(n);\n    }\n    const r = e(n, ...o);\n    return t.set(n, r), r;\n  };\n}\n\nfunction r(e) {\n  return n({\n    name: e\n  }, 1);\n}\n\nfunction n(n, t) {\n  return e((e => ({\n    value: e,\n    configurable: 1,\n    writable: !t\n  })), n);\n}\n\nfunction t(n) {\n  return e((e => ({\n    get: e,\n    configurable: 1\n  })), n);\n}\n\nfunction o(e) {\n  return {\n    [Symbol.toStringTag]: {\n      value: e,\n      configurable: 1\n    }\n  };\n}\n\nfunction zipProps(e, n) {\n  const t = {};\n  let o = e.length;\n  for (const r of n) {\n    t[e[--o]] = r;\n  }\n  return t;\n}\n\nfunction e(e, n, t) {\n  const o = {};\n  for (const r in n) {\n    o[r] = e(n[r], r, t);\n  }\n  return o;\n}\n\nfunction g(e, n, t) {\n  const o = {};\n  for (let r = 0; r < n.length; r++) {\n    const i = n[r];\n    o[i] = e(i, r, t);\n  }\n  return o;\n}\n\nfunction remapProps(e, n, t) {\n  const o = {};\n  for (let r = 0; r < e.length; r++) {\n    o[n[r]] = t[e[r]];\n  }\n  return o;\n}\n\nfunction nn(e, n) {\n  const t = Object.create(null);\n  for (const o of e) {\n    t[o] = n[o];\n  }\n  return t;\n}\n\nfunction hasAnyPropsByName(e, n) {\n  for (const t of n) {\n    if (t in e) {\n      return 1;\n    }\n  }\n  return 0;\n}\n\nfunction allPropsEqual(e, n, t) {\n  for (const o of e) {\n    if (n[o] !== t[o]) {\n      return 0;\n    }\n  }\n  return 1;\n}\n\nfunction zeroOutProps(e, n, t) {\n  const o = {\n    ...t\n  };\n  for (let t = 0; t < n; t++) {\n    o[e[t]] = 0;\n  }\n  return o;\n}\n\nfunction Pt(e, ...n) {\n  return (...t) => e(...n, ...t);\n}\n\nfunction capitalize(e) {\n  return e[0].toUpperCase() + e.substring(1);\n}\n\nfunction sortStrings(e) {\n  return e.slice().sort();\n}\n\nfunction padNumber(e, n) {\n  return String(n).padStart(e, \"0\");\n}\n\nfunction compareNumbers(e, n) {\n  return Math.sign(e - n);\n}\n\nfunction clampNumber(e, n, t) {\n  return Math.min(Math.max(e, n), t);\n}\n\nfunction divModFloor(e, n) {\n  return [ Math.floor(e / n), modFloor(e, n) ];\n}\n\nfunction modFloor(e, n) {\n  return (e % n + n) % n;\n}\n\nfunction divModTrunc(e, n) {\n  return [ divTrunc(e, n), modTrunc(e, n) ];\n}\n\nfunction divTrunc(e, n) {\n  return Math.trunc(e / n) || 0;\n}\n\nfunction modTrunc(e, n) {\n  return e % n || 0;\n}\n\nfunction hasHalf(e) {\n  return .5 === Math.abs(e % 1);\n}\n\nfunction givenFieldsToBigNano(e, n, t) {\n  let o = 0, r = 0;\n  for (let i = 0; i <= n; i++) {\n    const n = e[t[i]], a = Ao[i], s = Uo / a, [c, u] = divModTrunc(n, s);\n    o += u * a, r += c;\n  }\n  const [i, a] = divModTrunc(o, Uo);\n  return [ r + i, a ];\n}\n\nfunction nanoToGivenFields(e, n, t) {\n  const o = {};\n  for (let r = n; r >= 0; r--) {\n    const n = Ao[r];\n    o[t[r]] = divTrunc(e, n), e = modTrunc(e, n);\n  }\n  return o;\n}\n\nfunction d(e) {\n  if (void 0 !== e) {\n    return m(e);\n  }\n}\n\nfunction P(e) {\n  if (void 0 !== e) {\n    return h(e);\n  }\n}\n\nfunction S(e) {\n  if (void 0 !== e) {\n    return T(e);\n  }\n}\n\nfunction h(e) {\n  return requireNumberIsPositive(T(e));\n}\n\nfunction T(e) {\n  return ze(cr(e));\n}\n\nfunction requirePropDefined(e, n) {\n  if (null == n) {\n    throw new RangeError(missingField(e));\n  }\n  return n;\n}\n\nfunction requireObjectLike(e) {\n  if (!s(e)) {\n    throw new TypeError(oo);\n  }\n  return e;\n}\n\nfunction requireType(e, n, t = e) {\n  if (typeof n !== e) {\n    throw new TypeError(invalidEntity(t, n));\n  }\n  return n;\n}\n\nfunction ze(e, n = \"number\") {\n  if (!Number.isInteger(e)) {\n    throw new RangeError(expectedInteger(n, e));\n  }\n  return e || 0;\n}\n\nfunction requireNumberIsPositive(e, n = \"number\") {\n  if (e <= 0) {\n    throw new RangeError(expectedPositive(n, e));\n  }\n  return e;\n}\n\nfunction toString(e) {\n  if (\"symbol\" == typeof e) {\n    throw new TypeError(no);\n  }\n  return String(e);\n}\n\nfunction toStringViaPrimitive(e, n) {\n  return s(e) ? String(e) : m(e, n);\n}\n\nfunction toBigInt(e) {\n  if (\"string\" == typeof e) {\n    return BigInt(e);\n  }\n  if (\"bigint\" != typeof e) {\n    throw new TypeError(invalidBigInt(e));\n  }\n  return e;\n}\n\nfunction toNumber(e, n = \"number\") {\n  if (\"bigint\" == typeof e) {\n    throw new TypeError(forbiddenBigIntToNumber(n));\n  }\n  if (e = Number(e), !Number.isFinite(e)) {\n    throw new RangeError(expectedFinite(n, e));\n  }\n  return e;\n}\n\nfunction toInteger(e, n) {\n  return Math.trunc(toNumber(e, n)) || 0;\n}\n\nfunction toStrictInteger(e, n) {\n  return ze(toNumber(e, n), n);\n}\n\nfunction toPositiveInteger(e, n) {\n  return requireNumberIsPositive(toInteger(e, n), n);\n}\n\nfunction createBigNano(e, n) {\n  let [t, o] = divModTrunc(n, Uo), r = e + t;\n  const i = Math.sign(r);\n  return i && i === -Math.sign(o) && (r -= i, o += i * Uo), [ r, o ];\n}\n\nfunction addBigNanos(e, n, t = 1) {\n  return createBigNano(e[0] + n[0] * t, e[1] + n[1] * t);\n}\n\nfunction moveBigNano(e, n) {\n  return createBigNano(e[0], e[1] + n);\n}\n\nfunction diffBigNanos(e, n) {\n  return addBigNanos(n, e, -1);\n}\n\nfunction compareBigNanos(e, n) {\n  return compareNumbers(e[0], n[0]) || compareNumbers(e[1], n[1]);\n}\n\nfunction bigNanoOutside(e, n, t) {\n  return -1 === compareBigNanos(e, n) || 1 === compareBigNanos(e, t);\n}\n\nfunction bigIntToBigNano(e, n = 1) {\n  const t = BigInt(Uo / n);\n  return [ Number(e / t), Number(e % t) * n ];\n}\n\nfunction Ge(e, n = 1) {\n  const t = Uo / n, [o, r] = divModTrunc(e, t);\n  return [ o, r * n ];\n}\n\nfunction bigNanoToNumber(e, n = 1, t) {\n  const [o, r] = e, [i, a] = divModTrunc(r, n);\n  return o * (Uo / n) + (i + (t ? a / n : 0));\n}\n\nfunction divModBigNano(e, n, t = divModFloor) {\n  const [o, r] = e, [i, a] = t(r, n);\n  return [ o * (Uo / n) + i, a ];\n}\n\nfunction checkIsoYearMonthInBounds(e) {\n  return clampProp(e, \"isoYear\", wr, Fr, 1), e.isoYear === wr ? clampProp(e, \"isoMonth\", 4, 12, 1) : e.isoYear === Fr && clampProp(e, \"isoMonth\", 1, 9, 1), \n  e;\n}\n\nfunction checkIsoDateInBounds(e) {\n  return checkIsoDateTimeInBounds({\n    ...e,\n    ...Nt,\n    isoHour: 12\n  }), e;\n}\n\nfunction checkIsoDateTimeInBounds(e) {\n  const n = clampProp(e, \"isoYear\", wr, Fr, 1), t = n === wr ? 1 : n === Fr ? -1 : 0;\n  return t && checkEpochNanoInBounds(isoToEpochNano({\n    ...e,\n    isoDay: e.isoDay + t,\n    isoNanosecond: e.isoNanosecond - t\n  })), e;\n}\n\nfunction checkEpochNanoInBounds(e) {\n  if (!e || bigNanoOutside(e, Sr, Er)) {\n    throw new RangeError(Io);\n  }\n  return e;\n}\n\nfunction isoTimeFieldsToNano(e) {\n  return givenFieldsToBigNano(e, 5, w)[1];\n}\n\nfunction nanoToIsoTimeAndDay(e) {\n  const [n, t] = divModFloor(e, Uo);\n  return [ nanoToGivenFields(t, 5, w), n ];\n}\n\nfunction epochNanoToSecMod(e) {\n  return divModBigNano(e, Ro);\n}\n\nfunction isoToEpochMilli(e) {\n  return isoArgsToEpochMilli(e.isoYear, e.isoMonth, e.isoDay, e.isoHour, e.isoMinute, e.isoSecond, e.isoMillisecond);\n}\n\nfunction isoToEpochNano(e) {\n  const n = isoToEpochMilli(e);\n  if (void 0 !== n) {\n    const [t, o] = divModTrunc(n, ko);\n    return [ t, o * Qe + (e.isoMicrosecond || 0) * Yo + (e.isoNanosecond || 0) ];\n  }\n}\n\nfunction isoToEpochNanoWithOffset(e, n) {\n  const [t, o] = nanoToIsoTimeAndDay(isoTimeFieldsToNano(e) - n);\n  return checkEpochNanoInBounds(isoToEpochNano({\n    ...e,\n    isoDay: e.isoDay + o,\n    ...t\n  }));\n}\n\nfunction isoArgsToEpochSec(...e) {\n  return isoArgsToEpochMilli(...e) / Co;\n}\n\nfunction isoArgsToEpochMilli(...e) {\n  const [n, t] = isoToLegacyDate(...e), o = n.valueOf();\n  if (!isNaN(o)) {\n    return o - t * ko;\n  }\n}\n\nfunction isoToLegacyDate(e, n = 1, t = 1, o = 0, r = 0, i = 0, a = 0) {\n  const s = e === wr ? 1 : e === Fr ? -1 : 0, c = new Date;\n  return c.setUTCHours(o, r, i, a), c.setUTCFullYear(e, n - 1, t + s), [ c, s ];\n}\n\nfunction epochNanoToIso(e, n) {\n  let [t, o] = moveBigNano(e, n);\n  o < 0 && (o += Uo, t -= 1);\n  const [r, i] = divModFloor(o, Qe), [a, s] = divModFloor(i, Yo);\n  return epochMilliToIso(t * ko + r, a, s);\n}\n\nfunction epochMilliToIso(e, n = 0, t = 0) {\n  const o = Math.ceil(Math.max(0, Math.abs(e) - Pr) / ko) * Math.sign(e), r = new Date(e - o * ko);\n  return zipProps(Tr, [ r.getUTCFullYear(), r.getUTCMonth() + 1, r.getUTCDate() + o, r.getUTCHours(), r.getUTCMinutes(), r.getUTCSeconds(), r.getUTCMilliseconds(), n, t ]);\n}\n\nfunction hashIntlFormatParts(e, n) {\n  if (n < -Pr) {\n    throw new RangeError(Io);\n  }\n  const t = e.formatToParts(n), o = {};\n  for (const e of t) {\n    o[e.type] = e.value;\n  }\n  return o;\n}\n\nfunction computeIsoDateParts(e) {\n  return [ e.isoYear, e.isoMonth, e.isoDay ];\n}\n\nfunction computeIsoMonthCodeParts(e, n) {\n  return [ n, 0 ];\n}\n\nfunction computeIsoMonthsInYear() {\n  return kr;\n}\n\nfunction computeIsoDaysInMonth(e, n) {\n  switch (n) {\n   case 2:\n    return computeIsoInLeapYear(e) ? 29 : 28;\n\n   case 4:\n   case 6:\n   case 9:\n   case 11:\n    return 30;\n  }\n  return 31;\n}\n\nfunction computeIsoDaysInYear(e) {\n  return computeIsoInLeapYear(e) ? 366 : 365;\n}\n\nfunction computeIsoInLeapYear(e) {\n  return e % 4 == 0 && (e % 100 != 0 || e % 400 == 0);\n}\n\nfunction computeIsoDayOfWeek(e) {\n  const [n, t] = isoToLegacyDate(e.isoYear, e.isoMonth, e.isoDay);\n  return modFloor(n.getUTCDay() - t, 7) || 7;\n}\n\nfunction computeIsoEraParts(e) {\n  return this.id === or ? (({isoYear: e}) => e < 1 ? [ \"gregory-inverse\", 1 - e ] : [ \"gregory\", e ])(e) : this.id === rr ? Yr(e) : [];\n}\n\nfunction computeJapaneseEraParts(e) {\n  const n = isoToEpochMilli(e);\n  if (n < Cr) {\n    const {isoYear: n} = e;\n    return n < 1 ? [ \"japanese-inverse\", 1 - n ] : [ \"japanese\", n ];\n  }\n  const t = hashIntlFormatParts(Ci(rr), n), {era: o, eraYear: r} = parseIntlYear(t, rr);\n  return [ o, r ];\n}\n\nfunction checkIsoDateTimeFields(e) {\n  return checkIsoDateFields(e), constrainIsoTimeFields(e, 1), e;\n}\n\nfunction checkIsoDateFields(e) {\n  return constrainIsoDateFields(e, 1), e;\n}\n\nfunction isIsoDateFieldsValid(e) {\n  return allPropsEqual(Dr, e, constrainIsoDateFields(e));\n}\n\nfunction constrainIsoDateFields(e, n) {\n  const {isoYear: t} = e, o = clampProp(e, \"isoMonth\", 1, computeIsoMonthsInYear(), n);\n  return {\n    isoYear: t,\n    isoMonth: o,\n    isoDay: clampProp(e, \"isoDay\", 1, computeIsoDaysInMonth(t, o), n)\n  };\n}\n\nfunction constrainIsoTimeFields(e, n) {\n  return zipProps(w, [ clampProp(e, \"isoHour\", 0, 23, n), clampProp(e, \"isoMinute\", 0, 59, n), clampProp(e, \"isoSecond\", 0, 59, n), clampProp(e, \"isoMillisecond\", 0, 999, n), clampProp(e, \"isoMicrosecond\", 0, 999, n), clampProp(e, \"isoNanosecond\", 0, 999, n) ]);\n}\n\nfunction mt(e) {\n  return void 0 === e ? 0 : Xr(requireObjectLike(e));\n}\n\nfunction je(e, n = 0) {\n  e = normalizeOptions(e);\n  const t = ei(e), o = ni(e, n);\n  return [ Xr(e), o, t ];\n}\n\nfunction refineDiffOptions(e, n, t, o = 9, r = 0, i = 4) {\n  n = normalizeOptions(n);\n  let a = Kr(n, o, r), s = parseRoundingIncInteger(n), c = ii(n, i);\n  const u = Jr(n, o, r, 1);\n  return null == a ? a = Math.max(t, u) : checkLargestSmallestUnit(a, u), s = refineRoundingInc(s, u, 1), \n  e && (c = (e => e < 4 ? (e + 2) % 4 : e)(c)), [ a, u, s, c ];\n}\n\nfunction refineRoundingOptions(e, n = 6, t) {\n  let o = parseRoundingIncInteger(e = normalizeOptionsOrString(e, Rr));\n  const r = ii(e, 7);\n  let i = Jr(e, n);\n  return i = requirePropDefined(Rr, i), o = refineRoundingInc(o, i, void 0, t), [ i, o, r ];\n}\n\nfunction refineDateDisplayOptions(e) {\n  return ti(normalizeOptions(e));\n}\n\nfunction refineTimeDisplayOptions(e, n) {\n  return refineTimeDisplayTuple(normalizeOptions(e), n);\n}\n\nfunction Me(e) {\n  const n = normalizeOptionsOrString(e, qr), t = refineChoiceOption(qr, _r, n, 0);\n  if (!t) {\n    throw new RangeError(invalidEntity(qr, t));\n  }\n  return t;\n}\n\nfunction refineTimeDisplayTuple(e, n = 4) {\n  const t = refineSubsecDigits(e);\n  return [ ii(e, 4), ...refineSmallestUnitAndSubsecDigits(Jr(e, n), t) ];\n}\n\nfunction refineSmallestUnitAndSubsecDigits(e, n) {\n  return null != e ? [ Ao[e], e < 4 ? 9 - 3 * e : -1 ] : [ void 0 === n ? 1 : 10 ** (9 - n), n ];\n}\n\nfunction parseRoundingIncInteger(e) {\n  const n = e[zr];\n  return void 0 === n ? 1 : toInteger(n, zr);\n}\n\nfunction refineRoundingInc(e, n, t, o) {\n  const r = o ? Uo : Ao[n + 1];\n  if (r) {\n    const t = Ao[n];\n    if (r % ((e = clampEntity(zr, e, 1, r / t - (o ? 0 : 1), 1)) * t)) {\n      throw new RangeError(invalidEntity(zr, e));\n    }\n  } else {\n    e = clampEntity(zr, e, 1, t ? 10 ** 9 : 1, 1);\n  }\n  return e;\n}\n\nfunction refineSubsecDigits(e) {\n  let n = e[Ur];\n  if (void 0 !== n) {\n    if (\"number\" != typeof n) {\n      if (\"auto\" === toString(n)) {\n        return;\n      }\n      throw new RangeError(invalidEntity(Ur, n));\n    }\n    n = clampEntity(Ur, Math.floor(n), 0, 9, 1);\n  }\n  return n;\n}\n\nfunction normalizeOptions(e) {\n  return void 0 === e ? {} : requireObjectLike(e);\n}\n\nfunction normalizeOptionsOrString(e, n) {\n  return \"string\" == typeof e ? {\n    [n]: e\n  } : requireObjectLike(e);\n}\n\nfunction fabricateOverflowOptions(e) {\n  return {\n    overflow: jr[e]\n  };\n}\n\nfunction refineUnitOption(e, n, t = 9, o = 0, r) {\n  let i = n[e];\n  if (void 0 === i) {\n    return r ? o : void 0;\n  }\n  if (i = toString(i), \"auto\" === i) {\n    return r ? o : null;\n  }\n  let a = Oo[i];\n  if (void 0 === a && (a = mr[i]), void 0 === a) {\n    throw new RangeError(invalidChoice(e, i, Oo));\n  }\n  return clampEntity(e, a, o, t, 1, Bo), a;\n}\n\nfunction refineChoiceOption(e, n, t, o = 0) {\n  const r = t[e];\n  if (void 0 === r) {\n    return o;\n  }\n  const i = toString(r), a = n[i];\n  if (void 0 === a) {\n    throw new RangeError(invalidChoice(e, i, n));\n  }\n  return a;\n}\n\nfunction checkLargestSmallestUnit(e, n) {\n  if (n > e) {\n    throw new RangeError(Eo);\n  }\n}\n\nfunction xe(e) {\n  return {\n    branding: Re,\n    epochNanoseconds: e\n  };\n}\n\nfunction _e(e, n, t) {\n  return {\n    branding: z,\n    calendar: t,\n    timeZone: n,\n    epochNanoseconds: e\n  };\n}\n\nfunction jt(e, n = e.calendar) {\n  return {\n    branding: x,\n    calendar: n,\n    ...nn(Nr, e)\n  };\n}\n\nfunction W(e, n = e.calendar) {\n  return {\n    branding: G,\n    calendar: n,\n    ...nn(Ir, e)\n  };\n}\n\nfunction createPlainYearMonthSlots(e, n = e.calendar) {\n  return {\n    branding: Ut,\n    calendar: n,\n    ...nn(Ir, e)\n  };\n}\n\nfunction createPlainMonthDaySlots(e, n = e.calendar) {\n  return {\n    branding: qt,\n    calendar: n,\n    ...nn(Ir, e)\n  };\n}\n\nfunction St(e) {\n  return {\n    branding: ft,\n    ...nn(Mr, e)\n  };\n}\n\nfunction Oe(e) {\n  return {\n    branding: N,\n    sign: computeDurationSign(e),\n    ...nn(ur, e)\n  };\n}\n\nfunction I(e) {\n  return divModBigNano(e.epochNanoseconds, Qe)[0];\n}\n\nfunction v(e) {\n  return ((e, n = 1) => {\n    const [t, o] = e, r = Math.floor(o / n), i = Uo / n;\n    return BigInt(t) * BigInt(i) + BigInt(r);\n  })(e.epochNanoseconds);\n}\n\nfunction extractEpochNano(e) {\n  return e.epochNanoseconds;\n}\n\nfunction J(e, n, t, o, r) {\n  const i = getMaxDurationUnit(o), [a, s] = ((e, n) => {\n    const t = n((e = normalizeOptionsOrString(e, Zr))[Ar]);\n    let o = Qr(e);\n    return o = requirePropDefined(Zr, o), [ o, t ];\n  })(r, e), c = Math.max(a, i);\n  if (!s && isUniformUnit(c, s)) {\n    return totalDayTimeDuration(o, a);\n  }\n  if (!s) {\n    throw new RangeError(yo);\n  }\n  if (!o.sign) {\n    return 0;\n  }\n  const [u, f, l] = createMarkerSystem(n, t, s), d = createMarkerToEpochNano(l), m = createMoveMarker(l), h = createDiffMarkers(l), g = m(f, u, o);\n  isZonedEpochSlots(s) || (checkIsoDateTimeInBounds(u), checkIsoDateTimeInBounds(g));\n  const D = h(f, u, g, a);\n  return isUniformUnit(a, s) ? totalDayTimeDuration(D, a) : ((e, n, t, o, r, i, a) => {\n    const s = computeDurationSign(e), [c, u] = clampRelativeDuration(o, gr(t, e), t, s, r, i, a), f = computeEpochNanoFrac(n, c, u);\n    return e[p[t]] + f * s;\n  })(D, d(g), a, f, u, d, m);\n}\n\nfunction totalDayTimeDuration(e, n) {\n  return bigNanoToNumber(durationFieldsToBigNano(e), Ao[n], 1);\n}\n\nfunction clampRelativeDuration(e, n, t, o, r, i, a) {\n  const s = p[t], c = {\n    ...n,\n    [s]: n[s] + o\n  }, u = a(e, r, n), f = a(e, r, c);\n  return [ i(u), i(f) ];\n}\n\nfunction computeEpochNanoFrac(e, n, t) {\n  const o = bigNanoToNumber(diffBigNanos(n, t));\n  if (!o) {\n    throw new RangeError(fo);\n  }\n  return bigNanoToNumber(diffBigNanos(n, e)) / o;\n}\n\nfunction Le(e, n) {\n  const [t, o, r] = refineRoundingOptions(n, 5, 1);\n  return xe(roundBigNano(e.epochNanoseconds, t, o, r, 1));\n}\n\nfunction Ie(e, n, t) {\n  let {epochNanoseconds: o, timeZone: r, calendar: i} = n;\n  const [a, s, c] = refineRoundingOptions(t);\n  if (0 === a && 1 === s) {\n    return n;\n  }\n  const u = e(r);\n  if (6 === a) {\n    o = ((e, n, t, o) => {\n      const r = he(t, n), [i, a] = e(r), s = t.epochNanoseconds, c = getStartOfDayInstantFor(n, i), u = getStartOfDayInstantFor(n, a);\n      if (bigNanoOutside(s, c, u)) {\n        throw new RangeError(fo);\n      }\n      return roundWithMode(computeEpochNanoFrac(s, c, u), o) ? u : c;\n    })(computeDayInterval, u, n, c);\n  } else {\n    const e = u.R(o);\n    o = getMatchingInstantFor(u, roundDateTime(epochNanoToIso(o, e), a, s, c), e, 2, 0, 1);\n  }\n  return _e(o, r, i);\n}\n\nfunction vt(e, n) {\n  return jt(roundDateTime(e, ...refineRoundingOptions(n)), e.calendar);\n}\n\nfunction lt(e, n) {\n  const [t, o, r] = refineRoundingOptions(n, 5);\n  var i;\n  return St((i = r, roundTimeToNano(e, computeNanoInc(t, o), i)[0]));\n}\n\nfunction Te(e, n) {\n  const t = e(n.timeZone), o = he(n, t), [r, i] = computeDayInterval(o), a = bigNanoToNumber(diffBigNanos(getStartOfDayInstantFor(t, r), getStartOfDayInstantFor(t, i)), zo, 1);\n  if (a <= 0) {\n    throw new RangeError(fo);\n  }\n  return a;\n}\n\nfunction ve(e, n) {\n  const {timeZone: t, calendar: o} = n, r = ((e, n, t) => getStartOfDayInstantFor(n, e(he(t, n))))(computeDayFloor, e(t), n);\n  return _e(r, t, o);\n}\n\nfunction roundDateTime(e, n, t, o) {\n  return roundDateTimeToNano(e, computeNanoInc(n, t), o);\n}\n\nfunction roundDateTimeToNano(e, n, t) {\n  const [o, r] = roundTimeToNano(e, n, t);\n  return checkIsoDateTimeInBounds({\n    ...moveByDays(e, r),\n    ...o\n  });\n}\n\nfunction roundTimeToNano(e, n, t) {\n  return nanoToIsoTimeAndDay(roundByInc(isoTimeFieldsToNano(e), n, t));\n}\n\nfunction roundToMinute(e) {\n  return roundByInc(e, Zo, 7);\n}\n\nfunction computeNanoInc(e, n) {\n  return Ao[e] * n;\n}\n\nfunction computeDayInterval(e) {\n  const n = computeDayFloor(e);\n  return [ n, moveByDays(n, 1) ];\n}\n\nfunction computeDayFloor(e) {\n  return yr(6, e);\n}\n\nfunction roundDayTimeDurationByInc(e, n, t) {\n  const o = Math.min(getMaxDurationUnit(e), 6);\n  return nanoToDurationDayTimeFields(roundBigNanoByInc(durationFieldsToBigNano(e, o), n, t), o);\n}\n\nfunction roundRelativeDuration(e, n, t, o, r, i, a, s, c, u) {\n  if (0 === o && 1 === r) {\n    return e;\n  }\n  const f = isUniformUnit(o, s) ? isZonedEpochSlots(s) && o < 6 && t >= 6 ? nudgeZonedTimeDuration : nudgeDayTimeDuration : nudgeRelativeDuration;\n  let [l, d, m] = f(e, n, t, o, r, i, a, s, c, u);\n  return m && 7 !== o && (l = ((e, n, t, o, r, i, a, s) => {\n    const c = computeDurationSign(e);\n    for (let u = o + 1; u <= t; u++) {\n      if (7 === u && 7 !== t) {\n        continue;\n      }\n      const o = gr(u, e);\n      o[p[u]] += c;\n      const f = bigNanoToNumber(diffBigNanos(a(s(r, i, o)), n));\n      if (f && Math.sign(f) !== c) {\n        break;\n      }\n      e = o;\n    }\n    return e;\n  })(l, d, t, Math.max(6, o), a, s, c, u)), l;\n}\n\nfunction roundBigNano(e, n, t, o, r) {\n  if (6 === n) {\n    const n = (e => e[0] + e[1] / Uo)(e);\n    return [ roundByInc(n, t, o), 0 ];\n  }\n  return roundBigNanoByInc(e, computeNanoInc(n, t), o, r);\n}\n\nfunction roundBigNanoByInc(e, n, t, o) {\n  let [r, i] = e;\n  o && i < 0 && (i += Uo, r -= 1);\n  const [a, s] = divModFloor(roundByInc(i, n, t), Uo);\n  return createBigNano(r + a, s);\n}\n\nfunction roundByInc(e, n, t) {\n  return roundWithMode(e / n, t) * n;\n}\n\nfunction roundWithMode(e, n) {\n  return ai[n](e);\n}\n\nfunction nudgeDayTimeDuration(e, n, t, o, r, i) {\n  const a = computeDurationSign(e), s = durationFieldsToBigNano(e), c = roundBigNano(s, o, r, i), u = diffBigNanos(s, c), f = Math.sign(c[0] - s[0]) === a, l = nanoToDurationDayTimeFields(c, Math.min(t, 6));\n  return [ {\n    ...e,\n    ...l\n  }, addBigNanos(n, u), f ];\n}\n\nfunction nudgeZonedTimeDuration(e, n, t, o, r, i, a, s, c, u) {\n  const f = computeDurationSign(e) || 1, l = bigNanoToNumber(durationFieldsToBigNano(e, 5)), d = computeNanoInc(o, r);\n  let m = roundByInc(l, d, i);\n  const [p, h] = clampRelativeDuration(a, {\n    ...e,\n    ...hr\n  }, 6, f, s, c, u), g = m - bigNanoToNumber(diffBigNanos(p, h));\n  let D = 0;\n  g && Math.sign(g) !== f ? n = moveBigNano(p, m) : (D += f, m = roundByInc(g, d, i), \n  n = moveBigNano(h, m));\n  const T = nanoToDurationTimeFields(m);\n  return [ {\n    ...e,\n    ...T,\n    days: e.days + D\n  }, n, Boolean(D) ];\n}\n\nfunction nudgeRelativeDuration(e, n, t, o, r, i, a, s, c, u) {\n  const f = computeDurationSign(e), l = p[o], d = gr(o, e);\n  7 === o && (e = {\n    ...e,\n    weeks: e.weeks + Math.trunc(e.days / 7)\n  });\n  const m = divTrunc(e[l], r) * r;\n  d[l] = m;\n  const [h, g] = clampRelativeDuration(a, d, o, r * f, s, c, u), D = m + computeEpochNanoFrac(n, h, g) * f * r, T = roundByInc(D, r, i), I = Math.sign(T - D) === f;\n  return d[l] = T, [ d, I ? g : h, I ];\n}\n\nfunction ke(e, n, t, o) {\n  const [r, i, a, s] = (e => {\n    const n = refineTimeDisplayTuple(e = normalizeOptions(e));\n    return [ e.timeZone, ...n ];\n  })(o), c = void 0 !== r;\n  return ((e, n, t, o, r, i) => {\n    t = roundBigNanoByInc(t, r, o, 1);\n    const a = n.R(t);\n    return formatIsoDateTimeFields(epochNanoToIso(t, a), i) + (e ? Se(roundToMinute(a)) : \"Z\");\n  })(c, n(c ? e(r) : si), t.epochNanoseconds, i, a, s);\n}\n\nfunction Fe(e, n, t) {\n  const [o, r, i, a, s, c] = (e => {\n    e = normalizeOptions(e);\n    const n = ti(e), t = refineSubsecDigits(e), o = ri(e), r = ii(e, 4), i = Jr(e, 4);\n    return [ n, oi(e), o, r, ...refineSmallestUnitAndSubsecDigits(i, t) ];\n  })(t);\n  return ((e, n, t, o, r, i, a, s, c, u) => {\n    o = roundBigNanoByInc(o, c, s, 1);\n    const f = e(t).R(o);\n    return formatIsoDateTimeFields(epochNanoToIso(o, f), u) + Se(roundToMinute(f), a) + ((e, n) => 1 !== n ? \"[\" + (2 === n ? \"!\" : \"\") + e + \"]\" : \"\")(t, i) + formatCalendar(n, r);\n  })(e, n.calendar, n.timeZone, n.epochNanoseconds, o, r, i, a, s, c);\n}\n\nfunction Ft(e, n) {\n  const [t, o, r, i] = (e => (e = normalizeOptions(e), [ ti(e), ...refineTimeDisplayTuple(e) ]))(n);\n  return a = e.calendar, s = t, c = i, formatIsoDateTimeFields(roundDateTimeToNano(e, r, o), c) + formatCalendar(a, s);\n  var a, s, c;\n}\n\nfunction ce(e, n) {\n  return t = e.calendar, o = e, r = refineDateDisplayOptions(n), formatIsoDateFields(o) + formatCalendar(t, r);\n  var t, o, r;\n}\n\nfunction Kt(e, n) {\n  return formatDateLikeIso(e.calendar, formatIsoYearMonthFields, e, refineDateDisplayOptions(n));\n}\n\nfunction Jt(e, n) {\n  return formatDateLikeIso(e.calendar, formatIsoMonthDayFields, e, refineDateDisplayOptions(n));\n}\n\nfunction ct(e, n) {\n  const [t, o, r] = refineTimeDisplayOptions(n);\n  return i = r, formatIsoTimeFields(roundTimeToNano(e, o, t)[0], i);\n  var i;\n}\n\nfunction k(e, n) {\n  const [t, o, r] = refineTimeDisplayOptions(n, 3);\n  return o > 1 && checkDurationUnits(e = {\n    ...e,\n    ...roundDayTimeDurationByInc(e, o, t)\n  }), ((e, n) => {\n    const {sign: t} = e, o = -1 === t ? negateDurationFields(e) : e, {hours: r, minutes: i} = o, [a, s] = divModBigNano(durationFieldsToBigNano(o, 3), Ro, divModTrunc);\n    checkDurationTimeUnit(a);\n    const c = formatSubsecNano(s, n), u = n >= 0 || !t || c;\n    return (t < 0 ? \"-\" : \"\") + \"P\" + formatDurationFragments({\n      Y: formatDurationNumber(o.years),\n      M: formatDurationNumber(o.months),\n      W: formatDurationNumber(o.weeks),\n      D: formatDurationNumber(o.days)\n    }) + (r || i || a || u ? \"T\" + formatDurationFragments({\n      H: formatDurationNumber(r),\n      M: formatDurationNumber(i),\n      S: formatDurationNumber(a, u) + c\n    }) : \"\");\n  })(e, r);\n}\n\nfunction formatDateLikeIso(e, n, t, o) {\n  const r = o > 1 || 0 === o && e !== l;\n  return 1 === o ? e === l ? n(t) : formatIsoDateFields(t) : r ? formatIsoDateFields(t) + formatCalendarId(e, 2 === o) : n(t);\n}\n\nfunction formatDurationFragments(e) {\n  const n = [];\n  for (const t in e) {\n    const o = e[t];\n    o && n.push(o, t);\n  }\n  return n.join(\"\");\n}\n\nfunction formatIsoDateTimeFields(e, n) {\n  return formatIsoDateFields(e) + \"T\" + formatIsoTimeFields(e, n);\n}\n\nfunction formatIsoDateFields(e) {\n  return formatIsoYearMonthFields(e) + \"-\" + bo(e.isoDay);\n}\n\nfunction formatIsoYearMonthFields(e) {\n  const {isoYear: n} = e;\n  return (n < 0 || n > 9999 ? getSignStr(n) + padNumber(6, Math.abs(n)) : padNumber(4, n)) + \"-\" + bo(e.isoMonth);\n}\n\nfunction formatIsoMonthDayFields(e) {\n  return bo(e.isoMonth) + \"-\" + bo(e.isoDay);\n}\n\nfunction formatIsoTimeFields(e, n) {\n  const t = [ bo(e.isoHour), bo(e.isoMinute) ];\n  return -1 !== n && t.push(bo(e.isoSecond) + ((e, n, t, o) => formatSubsecNano(e * Qe + n * Yo + t, o))(e.isoMillisecond, e.isoMicrosecond, e.isoNanosecond, n)), \n  t.join(\":\");\n}\n\nfunction Se(e, n = 0) {\n  if (1 === n) {\n    return \"\";\n  }\n  const [t, o] = divModFloor(Math.abs(e), zo), [r, i] = divModFloor(o, Zo), [a, s] = divModFloor(i, Ro);\n  return getSignStr(e) + bo(t) + \":\" + bo(r) + (a || s ? \":\" + bo(a) + formatSubsecNano(s) : \"\");\n}\n\nfunction formatCalendar(e, n) {\n  return 1 !== n && (n > 1 || 0 === n && e !== l) ? formatCalendarId(e, 2 === n) : \"\";\n}\n\nfunction formatCalendarId(e, n) {\n  return \"[\" + (n ? \"!\" : \"\") + \"u-ca=\" + e + \"]\";\n}\n\nfunction formatSubsecNano(e, n) {\n  let t = padNumber(9, e);\n  return t = void 0 === n ? t.replace(li, \"\") : t.slice(0, n), t ? \".\" + t : \"\";\n}\n\nfunction getSignStr(e) {\n  return e < 0 ? \"-\" : \"+\";\n}\n\nfunction formatDurationNumber(e, n) {\n  return e || n ? e.toLocaleString(\"fullwide\", {\n    useGrouping: 0\n  }) : \"\";\n}\n\nfunction _zonedEpochSlotsToIso(e, n) {\n  const {epochNanoseconds: t} = e, o = (n.R ? n : n(e.timeZone)).R(t), r = epochNanoToIso(t, o);\n  return {\n    calendar: e.calendar,\n    ...r,\n    offsetNanoseconds: o\n  };\n}\n\nfunction getMatchingInstantFor(e, n, t, o = 0, r = 0, i, a) {\n  if (void 0 !== t && 1 === o && (1 === o || a)) {\n    return isoToEpochNanoWithOffset(n, t);\n  }\n  const s = e.I(n);\n  if (void 0 !== t && 3 !== o) {\n    const e = ((e, n, t, o) => {\n      const r = isoToEpochNano(n);\n      o && (t = roundToMinute(t));\n      for (const n of e) {\n        let e = bigNanoToNumber(diffBigNanos(n, r));\n        if (o && (e = roundToMinute(e)), e === t) {\n          return n;\n        }\n      }\n    })(s, n, t, i);\n    if (void 0 !== e) {\n      return e;\n    }\n    if (0 === o) {\n      throw new RangeError(Do);\n    }\n  }\n  return a ? isoToEpochNano(n) : getSingleInstantFor(e, n, r, s);\n}\n\nfunction getSingleInstantFor(e, n, t = 0, o = e.I(n)) {\n  if (1 === o.length) {\n    return o[0];\n  }\n  if (1 === t) {\n    throw new RangeError(To);\n  }\n  if (o.length) {\n    return o[3 === t ? 1 : 0];\n  }\n  const r = isoToEpochNano(n), i = ((e, n) => {\n    const t = e.R(moveBigNano(n, -Uo));\n    return (e => {\n      if (e > Uo) {\n        throw new RangeError(go);\n      }\n      return e;\n    })(e.R(moveBigNano(n, Uo)) - t);\n  })(e, r), a = i * (2 === t ? -1 : 1);\n  return (o = e.I(epochNanoToIso(r, a)))[2 === t ? 0 : o.length - 1];\n}\n\nfunction getStartOfDayInstantFor(e, n) {\n  const t = e.I(n);\n  if (t.length) {\n    return t[0];\n  }\n  const o = moveBigNano(isoToEpochNano(n), -Uo);\n  return e.O(o, 1);\n}\n\nfunction Ye(e, n, t) {\n  return xe(checkEpochNanoInBounds(addBigNanos(n.epochNanoseconds, (e => {\n    if (durationHasDateParts(e)) {\n      throw new RangeError(vo);\n    }\n    return durationFieldsToBigNano(e, 5);\n  })(e ? negateDurationFields(t) : t))));\n}\n\nfunction pe(e, n, t, o, r, i = Object.create(null)) {\n  const a = n(o.timeZone), s = e(o.calendar);\n  return {\n    ...o,\n    ...moveZonedEpochs(a, s, o, t ? negateDurationFields(r) : r, i)\n  };\n}\n\nfunction wt(e, n, t, o, r = Object.create(null)) {\n  const {calendar: i} = t;\n  return jt(moveDateTime(e(i), t, n ? negateDurationFields(o) : o, r), i);\n}\n\nfunction ne(e, n, t, o, r) {\n  const {calendar: i} = t;\n  return W(moveDate(e(i), t, n ? negateDurationFields(o) : o, r), i);\n}\n\nfunction Gt(e, n, t, o, r) {\n  const i = t.calendar, a = e(i);\n  let s = checkIsoDateInBounds(moveToDayOfMonthUnsafe(a, t));\n  n && (o = B(o)), o.sign < 0 && (s = a.P(s, {\n    ...pr,\n    months: 1\n  }), s = moveByDays(s, -1));\n  const c = a.P(s, o, r);\n  return createPlainYearMonthSlots(moveToDayOfMonthUnsafe(a, c), i);\n}\n\nfunction at(e, n, t) {\n  return St(moveTime(n, e ? negateDurationFields(t) : t)[0]);\n}\n\nfunction moveZonedEpochs(e, n, t, o, r) {\n  const i = durationFieldsToBigNano(o, 5);\n  let a = t.epochNanoseconds;\n  if (durationHasDateParts(o)) {\n    const s = he(t, e);\n    a = addBigNanos(getSingleInstantFor(e, {\n      ...moveDate(n, s, {\n        ...o,\n        ...hr\n      }, r),\n      ...nn(w, s)\n    }), i);\n  } else {\n    a = addBigNanos(a, i), mt(r);\n  }\n  return {\n    epochNanoseconds: checkEpochNanoInBounds(a)\n  };\n}\n\nfunction moveDateTime(e, n, t, o) {\n  const [r, i] = moveTime(n, t);\n  return checkIsoDateTimeInBounds({\n    ...moveDate(e, n, {\n      ...t,\n      ...hr,\n      days: t.days + i\n    }, o),\n    ...r\n  });\n}\n\nfunction moveDate(e, n, t, o) {\n  if (t.years || t.months || t.weeks) {\n    return e.P(n, t, o);\n  }\n  mt(o);\n  const r = t.days + durationFieldsToBigNano(t, 5)[0];\n  return r ? checkIsoDateInBounds(moveByDays(n, r)) : n;\n}\n\nfunction moveToDayOfMonthUnsafe(e, n, t = 1) {\n  return moveByDays(n, t - e.day(n));\n}\n\nfunction moveTime(e, n) {\n  const [t, o] = durationFieldsToBigNano(n, 5), [r, i] = nanoToIsoTimeAndDay(isoTimeFieldsToNano(e) + o);\n  return [ r, t + i ];\n}\n\nfunction moveByDays(e, n) {\n  return n ? {\n    ...e,\n    ...epochMilliToIso(isoToEpochMilli(e) + n * ko)\n  } : e;\n}\n\nfunction createMarkerSystem(e, n, t) {\n  const o = e(t.calendar);\n  return isZonedEpochSlots(t) ? [ t, o, n(t.timeZone) ] : [ {\n    ...t,\n    ...Nt\n  }, o ];\n}\n\nfunction createMarkerToEpochNano(e) {\n  return e ? extractEpochNano : isoToEpochNano;\n}\n\nfunction createMoveMarker(e) {\n  return e ? Pt(moveZonedEpochs, e) : moveDateTime;\n}\n\nfunction createDiffMarkers(e) {\n  return e ? Pt(diffZonedEpochsExact, e) : diffDateTimesExact;\n}\n\nfunction isZonedEpochSlots(e) {\n  return e && e.epochNanoseconds;\n}\n\nfunction isUniformUnit(e, n) {\n  return e <= 6 - (isZonedEpochSlots(n) ? 1 : 0);\n}\n\nfunction E(e, n, t, o, r, i, a) {\n  const s = e(normalizeOptions(a).relativeTo), c = Math.max(getMaxDurationUnit(r), getMaxDurationUnit(i));\n  if (isUniformUnit(c, s)) {\n    return Oe(checkDurationUnits(((e, n, t, o) => {\n      const r = addBigNanos(durationFieldsToBigNano(e), durationFieldsToBigNano(n), o ? -1 : 1);\n      if (!Number.isFinite(r[0])) {\n        throw new RangeError(Io);\n      }\n      return {\n        ...pr,\n        ...nanoToDurationDayTimeFields(r, t)\n      };\n    })(r, i, c, o)));\n  }\n  if (!s) {\n    throw new RangeError(yo);\n  }\n  o && (i = negateDurationFields(i));\n  const [u, f, l] = createMarkerSystem(n, t, s), d = createMoveMarker(l), m = createDiffMarkers(l), p = d(f, u, r);\n  return Oe(m(f, u, d(f, p, i), c));\n}\n\nfunction V(e, n, t, o, r) {\n  const i = getMaxDurationUnit(o), [a, s, c, u, f] = ((e, n, t) => {\n    e = normalizeOptionsOrString(e, Rr);\n    let o = Kr(e);\n    const r = t(e[Ar]);\n    let i = parseRoundingIncInteger(e);\n    const a = ii(e, 7);\n    let s = Jr(e);\n    if (void 0 === o && void 0 === s) {\n      throw new RangeError(Po);\n    }\n    if (null == s && (s = 0), null == o && (o = Math.max(s, n)), checkLargestSmallestUnit(o, s), \n    i = refineRoundingInc(i, s, 1), i > 1 && s > 5 && o !== s) {\n      throw new RangeError(\"For calendar units with roundingIncrement > 1, use largestUnit = smallestUnit\");\n    }\n    return [ o, s, i, a, r ];\n  })(r, i, e), l = Math.max(i, a);\n  if (!f && l <= 6) {\n    return Oe(checkDurationUnits(((e, n, t, o, r) => {\n      const i = roundBigNano(durationFieldsToBigNano(e), t, o, r);\n      return {\n        ...pr,\n        ...nanoToDurationDayTimeFields(i, n)\n      };\n    })(o, a, s, c, u)));\n  }\n  if (!isZonedEpochSlots(f) && !o.sign) {\n    return o;\n  }\n  if (!f) {\n    throw new RangeError(yo);\n  }\n  const [d, m, p] = createMarkerSystem(n, t, f), h = createMarkerToEpochNano(p), g = createMoveMarker(p), D = createDiffMarkers(p), T = g(m, d, o);\n  isZonedEpochSlots(f) || (checkIsoDateTimeInBounds(d), checkIsoDateTimeInBounds(T));\n  let I = D(m, d, T, a);\n  const M = o.sign, N = computeDurationSign(I);\n  if (M && N && M !== N) {\n    throw new RangeError(fo);\n  }\n  return I = roundRelativeDuration(I, h(T), a, s, c, u, m, d, h, g), Oe(I);\n}\n\nfunction Y(e) {\n  return -1 === e.sign ? B(e) : e;\n}\n\nfunction B(e) {\n  return Oe(negateDurationFields(e));\n}\n\nfunction negateDurationFields(e) {\n  const n = {};\n  for (const t of p) {\n    n[t] = -1 * e[t] || 0;\n  }\n  return n;\n}\n\nfunction y(e) {\n  return !e.sign;\n}\n\nfunction computeDurationSign(e, n = p) {\n  let t = 0;\n  for (const o of n) {\n    const n = Math.sign(e[o]);\n    if (n) {\n      if (t && t !== n) {\n        throw new RangeError(No);\n      }\n      t = n;\n    }\n  }\n  return t;\n}\n\nfunction checkDurationUnits(e) {\n  for (const n of dr) {\n    clampEntity(n, e[n], -di, di, 1);\n  }\n  return checkDurationTimeUnit(bigNanoToNumber(durationFieldsToBigNano(e), Ro)), e;\n}\n\nfunction checkDurationTimeUnit(e) {\n  if (!Number.isSafeInteger(e)) {\n    throw new RangeError(Mo);\n  }\n}\n\nfunction durationFieldsToBigNano(e, n = 6) {\n  return givenFieldsToBigNano(e, n, p);\n}\n\nfunction nanoToDurationDayTimeFields(e, n = 6) {\n  const [t, o] = e, r = nanoToGivenFields(o, n, p);\n  if (r[p[n]] += t * (Uo / Ao[n]), !Number.isFinite(r[p[n]])) {\n    throw new RangeError(Io);\n  }\n  return r;\n}\n\nfunction nanoToDurationTimeFields(e, n = 5) {\n  return nanoToGivenFields(e, n, p);\n}\n\nfunction durationHasDateParts(e) {\n  return Boolean(computeDurationSign(e, lr));\n}\n\nfunction getMaxDurationUnit(e) {\n  let n = 9;\n  for (;n > 0 && !e[p[n]]; n--) {}\n  return n;\n}\n\nfunction createSplitTuple(e, n) {\n  return [ e, n ];\n}\n\nfunction computePeriod(e) {\n  const n = Math.floor(e / ci) * ci;\n  return [ n, n + ci ];\n}\n\nfunction We(e) {\n  const n = parseDateTimeLike(e = toStringViaPrimitive(e));\n  if (!n) {\n    throw new RangeError(failedParse(e));\n  }\n  let t;\n  if (n.j) {\n    t = 0;\n  } else {\n    if (!n.offset) {\n      throw new RangeError(failedParse(e));\n    }\n    t = parseOffsetNano(n.offset);\n  }\n  return n.timeZone && parseOffsetNanoMaybe(n.timeZone, 1), xe(isoToEpochNanoWithOffset(checkIsoDateTimeFields(n), t));\n}\n\nfunction H(e) {\n  const n = parseDateTimeLike(m(e));\n  if (!n) {\n    throw new RangeError(failedParse(e));\n  }\n  if (n.timeZone) {\n    return finalizeZonedDateTime(n, n.offset ? parseOffsetNano(n.offset) : void 0);\n  }\n  if (n.j) {\n    throw new RangeError(failedParse(e));\n  }\n  return finalizeDate(n);\n}\n\nfunction Ae(e, n) {\n  const t = parseDateTimeLike(m(e));\n  if (!t || !t.timeZone) {\n    throw new RangeError(failedParse(e));\n  }\n  const {offset: o} = t, r = o ? parseOffsetNano(o) : void 0, [, i, a] = je(n);\n  return finalizeZonedDateTime(t, r, i, a);\n}\n\nfunction parseOffsetNano(e) {\n  const n = parseOffsetNanoMaybe(e);\n  if (void 0 === n) {\n    throw new RangeError(failedParse(e));\n  }\n  return n;\n}\n\nfunction Bt(e) {\n  const n = parseDateTimeLike(m(e));\n  if (!n || n.j) {\n    throw new RangeError(failedParse(e));\n  }\n  return jt(finalizeDateTime(n));\n}\n\nfunction de(e, n, t) {\n  let o = parseDateTimeLike(m(e));\n  if (!o || o.j) {\n    throw new RangeError(failedParse(e));\n  }\n  return n ? o.calendar === l && (o = -271821 === o.isoYear && 4 === o.isoMonth ? {\n    ...o,\n    isoDay: 20,\n    ...Nt\n  } : {\n    ...o,\n    isoDay: 1,\n    ...Nt\n  }) : t && o.calendar === l && (o = {\n    ...o,\n    isoYear: Br\n  }), W(o.C ? finalizeDateTime(o) : finalizeDate(o));\n}\n\nfunction _t(e, n) {\n  const t = parseYearMonthOnly(m(n));\n  if (t) {\n    return requireIsoCalendar(t), createPlainYearMonthSlots(checkIsoYearMonthInBounds(checkIsoDateFields(t)));\n  }\n  const o = de(n, 1);\n  return createPlainYearMonthSlots(moveToDayOfMonthUnsafe(e(o.calendar), o));\n}\n\nfunction requireIsoCalendar(e) {\n  if (e.calendar !== l) {\n    throw new RangeError(invalidSubstring(e.calendar));\n  }\n}\n\nfunction xt(e, n) {\n  const t = parseMonthDayOnly(m(n));\n  if (t) {\n    return requireIsoCalendar(t), createPlainMonthDaySlots(checkIsoDateFields(t));\n  }\n  const o = de(n, 0, 1), {calendar: r} = o, i = e(r), [a, s, c] = i.v(o), [u, f] = i.q(a, s), [l, d] = i.G(u, f, c);\n  return createPlainMonthDaySlots(checkIsoDateInBounds(i.V(l, d, c)), r);\n}\n\nfunction ht(e) {\n  let n, t = (e => {\n    const n = Pi.exec(e);\n    return n ? (organizeAnnotationParts(n[10]), organizeTimeParts(n)) : void 0;\n  })(m(e));\n  if (!t) {\n    if (t = parseDateTimeLike(e), !t) {\n      throw new RangeError(failedParse(e));\n    }\n    if (!t.C) {\n      throw new RangeError(failedParse(e));\n    }\n    if (t.j) {\n      throw new RangeError(invalidSubstring(\"Z\"));\n    }\n    requireIsoCalendar(t);\n  }\n  if ((n = parseYearMonthOnly(e)) && isIsoDateFieldsValid(n)) {\n    throw new RangeError(failedParse(e));\n  }\n  if ((n = parseMonthDayOnly(e)) && isIsoDateFieldsValid(n)) {\n    throw new RangeError(failedParse(e));\n  }\n  return St(constrainIsoTimeFields(t, 1));\n}\n\nfunction R(e) {\n  const n = (e => {\n    const n = Fi.exec(e);\n    return n ? (e => {\n      function parseUnit(e, r, i) {\n        let a = 0, s = 0;\n        if (i && ([a, o] = divModFloor(o, Ao[i])), void 0 !== e) {\n          if (t) {\n            throw new RangeError(invalidSubstring(e));\n          }\n          s = (e => {\n            const n = parseInt(e);\n            if (!Number.isFinite(n)) {\n              throw new RangeError(invalidSubstring(e));\n            }\n            return n;\n          })(e), n = 1, r && (o = parseSubsecNano(r) * (Ao[i] / Ro), t = 1);\n        }\n        return a + s;\n      }\n      let n = 0, t = 0, o = 0, r = {\n        ...zipProps(p, [ parseUnit(e[2]), parseUnit(e[3]), parseUnit(e[4]), parseUnit(e[5]), parseUnit(e[6], e[7], 5), parseUnit(e[8], e[9], 4), parseUnit(e[10], e[11], 3) ]),\n        ...nanoToGivenFields(o, 2, p)\n      };\n      if (!n) {\n        throw new RangeError(noValidFields(p));\n      }\n      return parseSign(e[1]) < 0 && (r = negateDurationFields(r)), r;\n    })(n) : void 0;\n  })(m(e));\n  if (!n) {\n    throw new RangeError(failedParse(e));\n  }\n  return Oe(checkDurationUnits(n));\n}\n\nfunction f(e) {\n  const n = parseDateTimeLike(e) || parseYearMonthOnly(e) || parseMonthDayOnly(e);\n  return n ? n.calendar : e;\n}\n\nfunction Z(e) {\n  const n = parseDateTimeLike(e);\n  return n && (n.timeZone || n.j && si || n.offset) || e;\n}\n\nfunction finalizeZonedDateTime(e, n, t = 0, o = 0) {\n  const r = M(e.timeZone), i = L(r);\n  let a;\n  return checkIsoDateTimeFields(e), a = e.C ? getMatchingInstantFor(i, e, n, t, o, !i.$, e.j) : getStartOfDayInstantFor(i, e), \n  _e(a, r, u(e.calendar));\n}\n\nfunction finalizeDateTime(e) {\n  return resolveSlotsCalendar(checkIsoDateTimeInBounds(checkIsoDateTimeFields(e)));\n}\n\nfunction finalizeDate(e) {\n  return resolveSlotsCalendar(checkIsoDateInBounds(checkIsoDateFields(e)));\n}\n\nfunction resolveSlotsCalendar(e) {\n  return {\n    ...e,\n    calendar: u(e.calendar)\n  };\n}\n\nfunction parseDateTimeLike(e) {\n  const n = vi.exec(e);\n  return n ? (e => {\n    const n = e[10], t = \"Z\" === (n || \"\").toUpperCase();\n    return {\n      isoYear: organizeIsoYearParts(e),\n      isoMonth: parseInt(e[4]),\n      isoDay: parseInt(e[5]),\n      ...organizeTimeParts(e.slice(5)),\n      ...organizeAnnotationParts(e[16]),\n      C: Boolean(e[6]),\n      j: t,\n      offset: t ? void 0 : n\n    };\n  })(n) : void 0;\n}\n\nfunction parseYearMonthOnly(e) {\n  const n = Ni.exec(e);\n  return n ? (e => ({\n    isoYear: organizeIsoYearParts(e),\n    isoMonth: parseInt(e[4]),\n    isoDay: 1,\n    ...organizeAnnotationParts(e[5])\n  }))(n) : void 0;\n}\n\nfunction parseMonthDayOnly(e) {\n  const n = yi.exec(e);\n  return n ? (e => ({\n    isoYear: Br,\n    isoMonth: parseInt(e[1]),\n    isoDay: parseInt(e[2]),\n    ...organizeAnnotationParts(e[3])\n  }))(n) : void 0;\n}\n\nfunction parseOffsetNanoMaybe(e, n) {\n  const t = Ei.exec(e);\n  return t ? ((e, n) => {\n    const t = e[4] || e[5];\n    if (n && t) {\n      throw new RangeError(invalidSubstring(t));\n    }\n    return (e => {\n      if (Math.abs(e) >= Uo) {\n        throw new RangeError(ho);\n      }\n      return e;\n    })((parseInt0(e[2]) * zo + parseInt0(e[3]) * Zo + parseInt0(e[4]) * Ro + parseSubsecNano(e[5] || \"\")) * parseSign(e[1]));\n  })(t, n) : void 0;\n}\n\nfunction organizeIsoYearParts(e) {\n  const n = parseSign(e[1]), t = parseInt(e[2] || e[3]);\n  if (n < 0 && !t) {\n    throw new RangeError(invalidSubstring(-0));\n  }\n  return n * t;\n}\n\nfunction organizeTimeParts(e) {\n  const n = parseInt0(e[3]);\n  return {\n    ...nanoToIsoTimeAndDay(parseSubsecNano(e[4] || \"\"))[0],\n    isoHour: parseInt0(e[1]),\n    isoMinute: parseInt0(e[2]),\n    isoSecond: 60 === n ? 59 : n\n  };\n}\n\nfunction organizeAnnotationParts(e) {\n  let n, t;\n  const o = [];\n  if (e.replace(Si, ((e, r, i) => {\n    const a = Boolean(r), [s, c] = i.split(\"=\").reverse();\n    if (c) {\n      if (\"u-ca\" === c) {\n        o.push(s), n || (n = a);\n      } else if (a || /[A-Z]/.test(c)) {\n        throw new RangeError(invalidSubstring(e));\n      }\n    } else {\n      if (t) {\n        throw new RangeError(invalidSubstring(e));\n      }\n      t = s;\n    }\n    return \"\";\n  })), o.length > 1 && n) {\n    throw new RangeError(invalidSubstring(e));\n  }\n  return {\n    timeZone: t,\n    calendar: o[0] || l\n  };\n}\n\nfunction parseSubsecNano(e) {\n  return parseInt(e.padEnd(9, \"0\"));\n}\n\nfunction createRegExp(e) {\n  return new RegExp(`^${e}$`, \"i\");\n}\n\nfunction parseSign(e) {\n  return e && \"+\" !== e ? -1 : 1;\n}\n\nfunction parseInt0(e) {\n  return void 0 === e ? 0 : parseInt(e);\n}\n\nfunction Ze(e) {\n  return M(m(e));\n}\n\nfunction M(e) {\n  const n = getTimeZoneEssence(e);\n  return \"number\" == typeof n ? Se(n) : n ? (e => {\n    if (Oi.test(e)) {\n      throw new RangeError(F(e));\n    }\n    if (bi.test(e)) {\n      throw new RangeError(po);\n    }\n    return e.toLowerCase().split(\"/\").map(((e, n) => (e.length <= 3 || /\\d/.test(e)) && !/etc|yap/.test(e) ? e.toUpperCase() : e.replace(/baja|dumont|[a-z]+/g, ((e, t) => e.length <= 2 && !n || \"in\" === e || \"chat\" === e ? e.toUpperCase() : e.length > 2 || !t ? capitalize(e).replace(/island|noronha|murdo|rivadavia|urville/, capitalize) : e)))).join(\"/\");\n  })(e) : si;\n}\n\nfunction getTimeZoneAtomic(e) {\n  const n = getTimeZoneEssence(e);\n  return \"number\" == typeof n ? n : n ? n.resolvedOptions().timeZone : si;\n}\n\nfunction getTimeZoneEssence(e) {\n  const n = parseOffsetNanoMaybe(e = e.toUpperCase(), 1);\n  return void 0 !== n ? n : e !== si ? wi(e) : void 0;\n}\n\nfunction Ke(e, n) {\n  return compareBigNanos(e.epochNanoseconds, n.epochNanoseconds);\n}\n\nfunction Be(e, n) {\n  return compareBigNanos(e.epochNanoseconds, n.epochNanoseconds);\n}\n\nfunction K(e, n, t, o, r, i) {\n  const a = e(normalizeOptions(i).relativeTo), s = Math.max(getMaxDurationUnit(o), getMaxDurationUnit(r));\n  if (allPropsEqual(p, o, r)) {\n    return 0;\n  }\n  if (isUniformUnit(s, a)) {\n    return compareBigNanos(durationFieldsToBigNano(o), durationFieldsToBigNano(r));\n  }\n  if (!a) {\n    throw new RangeError(yo);\n  }\n  const [c, u, f] = createMarkerSystem(n, t, a), l = createMarkerToEpochNano(f), d = createMoveMarker(f);\n  return compareBigNanos(l(d(u, c, o)), l(d(u, c, r)));\n}\n\nfunction Yt(e, n) {\n  return te(e, n) || Dt(e, n);\n}\n\nfunction te(e, n) {\n  return compareNumbers(isoToEpochMilli(e), isoToEpochMilli(n));\n}\n\nfunction Dt(e, n) {\n  return compareNumbers(isoTimeFieldsToNano(e), isoTimeFieldsToNano(n));\n}\n\nfunction Ve(e, n) {\n  return !Ke(e, n);\n}\n\nfunction Ce(e, n) {\n  return !Be(e, n) && !!isTimeZoneIdsEqual(e.timeZone, n.timeZone) && e.calendar === n.calendar;\n}\n\nfunction Ct(e, n) {\n  return !Yt(e, n) && e.calendar === n.calendar;\n}\n\nfunction re(e, n) {\n  return !te(e, n) && e.calendar === n.calendar;\n}\n\nfunction $t(e, n) {\n  return !te(e, n) && e.calendar === n.calendar;\n}\n\nfunction Lt(e, n) {\n  return !te(e, n) && e.calendar === n.calendar;\n}\n\nfunction st(e, n) {\n  return !Dt(e, n);\n}\n\nfunction isTimeZoneIdsEqual(e, n) {\n  if (e === n) {\n    return 1;\n  }\n  try {\n    return getTimeZoneAtomic(e) === getTimeZoneAtomic(n);\n  } catch (e) {}\n}\n\nfunction Ee(e, n, t, o) {\n  const r = refineDiffOptions(e, o, 3, 5), i = diffEpochNanos(n.epochNanoseconds, t.epochNanoseconds, ...r);\n  return Oe(e ? negateDurationFields(i) : i);\n}\n\nfunction we(e, n, t, o, r, i) {\n  const a = getCommonCalendarId(o.calendar, r.calendar), [s, c, u, f] = refineDiffOptions(t, i, 5), l = o.epochNanoseconds, d = r.epochNanoseconds, m = compareBigNanos(d, l);\n  let p;\n  if (m) {\n    if (s < 6) {\n      p = diffEpochNanos(l, d, s, c, u, f);\n    } else {\n      const t = n(((e, n) => {\n        if (!isTimeZoneIdsEqual(e, n)) {\n          throw new RangeError(mo);\n        }\n        return e;\n      })(o.timeZone, r.timeZone)), l = e(a);\n      p = diffZonedEpochsBig(l, t, o, r, m, s, i), p = roundRelativeDuration(p, d, s, c, u, f, l, o, extractEpochNano, Pt(moveZonedEpochs, t));\n    }\n  } else {\n    p = pr;\n  }\n  return Oe(t ? negateDurationFields(p) : p);\n}\n\nfunction It(e, n, t, o, r) {\n  const i = getCommonCalendarId(t.calendar, o.calendar), [a, s, c, u] = refineDiffOptions(n, r, 6), f = isoToEpochNano(t), l = isoToEpochNano(o), d = compareBigNanos(l, f);\n  let m;\n  if (d) {\n    if (a <= 6) {\n      m = diffEpochNanos(f, l, a, s, c, u);\n    } else {\n      const n = e(i);\n      m = diffDateTimesBig(n, t, o, d, a, r), m = roundRelativeDuration(m, l, a, s, c, u, n, t, isoToEpochNano, moveDateTime);\n    }\n  } else {\n    m = pr;\n  }\n  return Oe(n ? negateDurationFields(m) : m);\n}\n\nfunction oe(e, n, t, o, r) {\n  const i = getCommonCalendarId(t.calendar, o.calendar);\n  return diffDateLike(n, (() => e(i)), t, o, ...refineDiffOptions(n, r, 6, 9, 6));\n}\n\nfunction zt(e, n, t, o, r) {\n  const i = getCommonCalendarId(t.calendar, o.calendar), a = refineDiffOptions(n, r, 9, 9, 8), s = e(i), c = moveToDayOfMonthUnsafe(s, t), u = moveToDayOfMonthUnsafe(s, o);\n  return c.isoYear === u.isoYear && c.isoMonth === u.isoMonth && c.isoDay === u.isoDay ? Oe(pr) : diffDateLike(n, (() => s), checkIsoDateInBounds(c), checkIsoDateInBounds(u), ...a, 8);\n}\n\nfunction diffDateLike(e, n, t, o, r, i, a, s, c = 6) {\n  const u = isoToEpochNano(t), f = isoToEpochNano(o);\n  if (void 0 === u || void 0 === f) {\n    throw new RangeError(Io);\n  }\n  let l;\n  if (compareBigNanos(f, u)) {\n    if (6 === r) {\n      l = diffEpochNanos(u, f, r, i, a, s);\n    } else {\n      const e = n();\n      l = e.N(t, o, r), i === c && 1 === a || (l = roundRelativeDuration(l, f, r, i, a, s, e, t, isoToEpochNano, moveDate));\n    }\n  } else {\n    l = pr;\n  }\n  return Oe(e ? negateDurationFields(l) : l);\n}\n\nfunction it(e, n, t, o) {\n  const [r, i, a, s] = refineDiffOptions(e, o, 5, 5), c = roundByInc(diffTimes(n, t), computeNanoInc(i, a), s), u = {\n    ...pr,\n    ...nanoToDurationTimeFields(c, r)\n  };\n  return Oe(e ? negateDurationFields(u) : u);\n}\n\nfunction diffZonedEpochsExact(e, n, t, o, r, i) {\n  const a = compareBigNanos(o.epochNanoseconds, t.epochNanoseconds);\n  return a ? r < 6 ? diffEpochNanosExact(t.epochNanoseconds, o.epochNanoseconds, r) : diffZonedEpochsBig(n, e, t, o, a, r, i) : pr;\n}\n\nfunction diffDateTimesExact(e, n, t, o, r) {\n  const i = isoToEpochNano(n), a = isoToEpochNano(t), s = compareBigNanos(a, i);\n  return s ? o <= 6 ? diffEpochNanosExact(i, a, o) : diffDateTimesBig(e, n, t, s, o, r) : pr;\n}\n\nfunction diffZonedEpochsBig(e, n, t, o, r, i, a) {\n  const [s, c, u] = ((e, n, t, o) => {\n    function updateMid() {\n      return f = {\n        ...moveByDays(a, c++ * -o),\n        ...i\n      }, l = getSingleInstantFor(e, f), compareBigNanos(s, l) === -o;\n    }\n    const r = he(n, e), i = nn(w, r), a = he(t, e), s = t.epochNanoseconds;\n    let c = 0;\n    const u = diffTimes(r, a);\n    let f, l;\n    if (Math.sign(u) === -o && c++, updateMid() && (-1 === o || updateMid())) {\n      throw new RangeError(fo);\n    }\n    const d = bigNanoToNumber(diffBigNanos(l, s));\n    return [ r, f, d ];\n  })(n, t, o, r);\n  var f, l;\n  return {\n    ...6 === i ? (f = s, l = c, {\n      ...pr,\n      days: diffDays(f, l)\n    }) : e.N(s, c, i, a),\n    ...nanoToDurationTimeFields(u)\n  };\n}\n\nfunction diffDateTimesBig(e, n, t, o, r, i) {\n  const [a, s, c] = ((e, n, t) => {\n    let o = n, r = diffTimes(e, n);\n    return Math.sign(r) === -t && (o = moveByDays(n, -t), r += Uo * t), [ e, o, r ];\n  })(n, t, o);\n  return {\n    ...e.N(a, s, r, i),\n    ...nanoToDurationTimeFields(c)\n  };\n}\n\nfunction diffEpochNanos(e, n, t, o, r, i) {\n  return {\n    ...pr,\n    ...nanoToDurationDayTimeFields(roundBigNano(diffBigNanos(e, n), o, r, i), t)\n  };\n}\n\nfunction diffEpochNanosExact(e, n, t) {\n  return {\n    ...pr,\n    ...nanoToDurationDayTimeFields(diffBigNanos(e, n), t)\n  };\n}\n\nfunction diffDays(e, n) {\n  return diffEpochMilliByDay(isoToEpochMilli(e), isoToEpochMilli(n));\n}\n\nfunction diffEpochMilliByDay(e, n) {\n  return Math.trunc((n - e) / ko);\n}\n\nfunction diffTimes(e, n) {\n  return isoTimeFieldsToNano(n) - isoTimeFieldsToNano(e);\n}\n\nfunction getCommonCalendarId(e, n) {\n  if (e !== n) {\n    throw new RangeError(lo);\n  }\n  return e;\n}\n\nfunction computeNativeWeekOfYear(e) {\n  return this.m(e)[0];\n}\n\nfunction computeNativeYearOfWeek(e) {\n  return this.m(e)[1];\n}\n\nfunction computeNativeDayOfYear(e) {\n  const [n] = this.v(e);\n  return diffEpochMilliByDay(this.p(n), isoToEpochMilli(e)) + 1;\n}\n\nfunction parseMonthCode(e) {\n  const n = Bi.exec(e);\n  if (!n) {\n    throw new RangeError(invalidMonthCode(e));\n  }\n  return [ parseInt(n[1]), Boolean(n[2]) ];\n}\n\nfunction formatMonthCode(e, n) {\n  return \"M\" + bo(e) + (n ? \"L\" : \"\");\n}\n\nfunction monthCodeNumberToMonth(e, n, t) {\n  return e + (n || t && e >= t ? 1 : 0);\n}\n\nfunction monthToMonthCodeNumber(e, n) {\n  return e - (n && e >= n ? 1 : 0);\n}\n\nfunction eraYearToYear(e, n) {\n  return (n + e) * (Math.sign(n) || 1) || 0;\n}\n\nfunction getCalendarEraOrigins(e) {\n  return ir[getCalendarIdBase(e)];\n}\n\nfunction getCalendarLeapMonthMeta(e) {\n  return sr[getCalendarIdBase(e)];\n}\n\nfunction getCalendarIdBase(e) {\n  return computeCalendarIdBase(e.id || l);\n}\n\nfunction createIntlCalendar(e) {\n  function epochMilliToIntlFields(e) {\n    return ((e, n) => ({\n      ...parseIntlYear(e, n),\n      o: e.month,\n      day: parseInt(e.day)\n    }))(hashIntlFormatParts(n, e), t);\n  }\n  const n = Ci(e), t = computeCalendarIdBase(e);\n  return {\n    id: e,\n    h: createIntlFieldCache(epochMilliToIntlFields),\n    l: createIntlYearDataCache(epochMilliToIntlFields)\n  };\n}\n\nfunction createIntlFieldCache(e) {\n  return on((n => {\n    const t = isoToEpochMilli(n);\n    return e(t);\n  }), WeakMap);\n}\n\nfunction createIntlYearDataCache(e) {\n  const n = e(0).year - Or;\n  return on((t => {\n    let o, r = isoArgsToEpochMilli(t - n), i = 0;\n    const a = [], s = [];\n    do {\n      r += 400 * ko;\n    } while ((o = e(r)).year <= t);\n    do {\n      if (r += (1 - o.day) * ko, o.year === t && (a.push(r), s.push(o.o)), r -= ko, ++i > 100 || r < -Pr) {\n        throw new RangeError(fo);\n      }\n    } while ((o = e(r)).year >= t);\n    return {\n      i: a.reverse(),\n      u: Fo(s.reverse())\n    };\n  }));\n}\n\nfunction parseIntlYear(e, n) {\n  let t, o, r = parseIntlPartsYear(e);\n  if (e.era) {\n    const i = ir[n], a = ar[n] || {};\n    void 0 !== i && (t = \"islamic\" === n ? \"ah\" : e.era.normalize(\"NFD\").toLowerCase().replace(/[^a-z0-9]/g, \"\"), \n    \"bc\" === t || \"b\" === t ? t = \"bce\" : \"ad\" === t || \"a\" === t ? t = \"ce\" : \"beforeroc\" === t && (t = \"broc\"), \n    t = a[t] || t, o = r, r = eraYearToYear(o, i[t] || 0));\n  }\n  return {\n    era: t,\n    eraYear: o,\n    year: r\n  };\n}\n\nfunction parseIntlPartsYear(e) {\n  return parseInt(e.relatedYear || e.year);\n}\n\nfunction computeIntlDateParts(e) {\n  const {year: n, o: t, day: o} = this.h(e), {u: r} = this.l(n);\n  return [ n, r[t] + 1, o ];\n}\n\nfunction computeIntlEpochMilli(e, n = 1, t = 1) {\n  return this.l(e).i[n - 1] + (t - 1) * ko;\n}\n\nfunction computeIntlMonthCodeParts(e, n) {\n  const t = computeIntlLeapMonth.call(this, e);\n  return [ monthToMonthCodeNumber(n, t), t === n ];\n}\n\nfunction computeIntlLeapMonth(e) {\n  const n = queryMonthStrings(this, e), t = queryMonthStrings(this, e - 1), o = n.length;\n  if (o > t.length) {\n    const e = getCalendarLeapMonthMeta(this);\n    if (e < 0) {\n      return -e;\n    }\n    for (let e = 0; e < o; e++) {\n      if (n[e] !== t[e]) {\n        return e + 1;\n      }\n    }\n  }\n}\n\nfunction computeIntlDaysInYear(e) {\n  return diffEpochMilliByDay(computeIntlEpochMilli.call(this, e), computeIntlEpochMilli.call(this, e + 1));\n}\n\nfunction computeIntlDaysInMonth(e, n) {\n  const {i: t} = this.l(e);\n  let o = n + 1, r = t;\n  return o > t.length && (o = 1, r = this.l(e + 1).i), diffEpochMilliByDay(t[n - 1], r[o - 1]);\n}\n\nfunction computeIntlMonthsInYear(e) {\n  return this.l(e).i.length;\n}\n\nfunction computeIntlEraParts(e) {\n  const n = this.h(e);\n  return [ n.era, n.eraYear ];\n}\n\nfunction queryMonthStrings(e, n) {\n  return Object.keys(e.l(n).u);\n}\n\nfunction Mt(e) {\n  return u(m(e));\n}\n\nfunction u(e) {\n  if ((e = e.toLowerCase()) !== l && e !== or) {\n    const n = Ci(e).resolvedOptions().calendar;\n    if (computeCalendarIdBase(e) !== computeCalendarIdBase(n)) {\n      throw new RangeError(c(e));\n    }\n    return n;\n  }\n  return e;\n}\n\nfunction computeCalendarIdBase(e) {\n  return \"islamicc\" === e && (e = \"islamic\"), e.split(\"-\")[0];\n}\n\nfunction createNativeOpsCreator(e, n) {\n  return t => t === l ? e : t === or || t === rr ? Object.assign(Object.create(e), {\n    id: t\n  }) : Object.assign(Object.create(n), ki(t));\n}\n\nfunction $(e, n, t, o) {\n  const r = refineCalendarFields(t, o, Xo, [], xo);\n  if (void 0 !== r.timeZone) {\n    const o = t.F(r), i = refineTimeBag(r), a = e(r.timeZone);\n    return {\n      epochNanoseconds: getMatchingInstantFor(n(a), {\n        ...o,\n        ...i\n      }, void 0 !== r.offset ? parseOffsetNano(r.offset) : void 0),\n      timeZone: a\n    };\n  }\n  return {\n    ...t.F(r),\n    ...Nt\n  };\n}\n\nfunction Ne(e, n, t, o, r, i) {\n  const a = refineCalendarFields(t, r, Xo, jo, xo), s = e(a.timeZone), [c, u, f] = je(i), l = t.F(a, fabricateOverflowOptions(c)), d = refineTimeBag(a, c);\n  return _e(getMatchingInstantFor(n(s), {\n    ...l,\n    ...d\n  }, void 0 !== a.offset ? parseOffsetNano(a.offset) : void 0, u, f), s, o);\n}\n\nfunction At(e, n, t) {\n  const o = refineCalendarFields(e, n, Xo, [], O), r = mt(t);\n  return jt(checkIsoDateTimeInBounds({\n    ...e.F(o, fabricateOverflowOptions(r)),\n    ...refineTimeBag(o, r)\n  }));\n}\n\nfunction me(e, n, t, o = []) {\n  const r = refineCalendarFields(e, n, Xo, o);\n  return e.F(r, t);\n}\n\nfunction Xt(e, n, t, o) {\n  const r = refineCalendarFields(e, n, Ko, o);\n  return e.K(r, t);\n}\n\nfunction Rt(e, n, t, o) {\n  const r = refineCalendarFields(e, t, Xo, Jo);\n  return n && void 0 !== r.month && void 0 === r.monthCode && void 0 === r.year && (r.year = Br), \n  e._(r, o);\n}\n\nfunction Tt(e, n) {\n  return St(refineTimeBag(refineFields(e, qo, [], 1), mt(n)));\n}\n\nfunction q(e) {\n  const n = refineFields(e, ur);\n  return Oe(checkDurationUnits({\n    ...pr,\n    ...n\n  }));\n}\n\nfunction refineCalendarFields(e, n, t, o = [], r = []) {\n  return refineFields(n, [ ...e.fields(t), ...r ].sort(), o);\n}\n\nfunction refineFields(e, n, t, o = !t) {\n  const r = {};\n  let i, a = 0;\n  for (const o of n) {\n    if (o === i) {\n      throw new RangeError(duplicateFields(o));\n    }\n    if (\"constructor\" === o || \"__proto__\" === o) {\n      throw new RangeError(forbiddenField(o));\n    }\n    let n = e[o];\n    if (void 0 !== n) {\n      a = 1, Li[o] && (n = Li[o](n, o)), r[o] = n;\n    } else if (t) {\n      if (t.includes(o)) {\n        throw new TypeError(missingField(o));\n      }\n      r[o] = tr[o];\n    }\n    i = o;\n  }\n  if (o && !a) {\n    throw new TypeError(noValidFields(n));\n  }\n  return r;\n}\n\nfunction refineTimeBag(e, n) {\n  return constrainIsoTimeFields(xi({\n    ...tr,\n    ...e\n  }), n);\n}\n\nfunction De(e, n, t, o, r) {\n  const {calendar: i, timeZone: a} = t, s = e(i), c = n(a), u = [ ...s.fields(Xo), ...Lo ].sort(), f = (e => {\n    const n = he(e, L), t = Se(n.offsetNanoseconds), o = ji(e.calendar), [r, i, a] = o.v(n), [s, c] = o.q(r, i), u = formatMonthCode(s, c);\n    return {\n      ...$i(n),\n      year: r,\n      monthCode: u,\n      day: a,\n      offset: t\n    };\n  })(t), l = refineFields(o, u), d = s.k(f, l), m = {\n    ...f,\n    ...l\n  }, [p, h, g] = je(r, 2);\n  return _e(getMatchingInstantFor(c, {\n    ...s.F(d, fabricateOverflowOptions(p)),\n    ...constrainIsoTimeFields(xi(m), p)\n  }, parseOffsetNano(m.offset), h, g), a, i);\n}\n\nfunction gt(e, n, t, o) {\n  const r = e(n.calendar), i = [ ...r.fields(Xo), ...O ].sort(), a = {\n    ...computeDateEssentials(s = n),\n    hour: s.isoHour,\n    minute: s.isoMinute,\n    second: s.isoSecond,\n    millisecond: s.isoMillisecond,\n    microsecond: s.isoMicrosecond,\n    nanosecond: s.isoNanosecond\n  };\n  var s;\n  const c = refineFields(t, i), u = mt(o), f = r.k(a, c), l = {\n    ...a,\n    ...c\n  };\n  return jt(checkIsoDateTimeInBounds({\n    ...r.F(f, fabricateOverflowOptions(u)),\n    ...constrainIsoTimeFields(xi(l), u)\n  }));\n}\n\nfunction ee(e, n, t, o) {\n  const r = e(n.calendar), i = r.fields(Xo).sort(), a = computeDateEssentials(n), s = refineFields(t, i), c = r.k(a, s);\n  return r.F(c, o);\n}\n\nfunction Wt(e, n, t, o) {\n  const r = e(n.calendar), i = r.fields(Ko).sort(), a = (e => {\n    const n = ji(e.calendar), [t, o] = n.v(e), [r, i] = n.q(t, o);\n    return {\n      year: t,\n      monthCode: formatMonthCode(r, i)\n    };\n  })(n), s = refineFields(t, i), c = r.k(a, s);\n  return r.K(c, o);\n}\n\nfunction Et(e, n, t, o) {\n  const r = e(n.calendar), i = r.fields(Xo).sort(), a = (e => {\n    const n = ji(e.calendar), [t, o, r] = n.v(e), [i, a] = n.q(t, o);\n    return {\n      monthCode: formatMonthCode(i, a),\n      day: r\n    };\n  })(n), s = refineFields(t, i), c = r.k(a, s);\n  return r._(c, o);\n}\n\nfunction rt(e, n, t) {\n  return St(((e, n, t) => refineTimeBag({\n    ...nn(qo, e),\n    ...refineFields(n, qo)\n  }, mt(t)))(e, n, t));\n}\n\nfunction A(e, n) {\n  return Oe((t = e, o = n, checkDurationUnits({\n    ...t,\n    ...refineFields(o, ur)\n  })));\n  var t, o;\n}\n\nfunction convertToIso(e, n, t, o, r) {\n  n = nn(t = e.fields(t), n), o = refineFields(o, r = e.fields(r), []);\n  let i = e.k(n, o);\n  return i = refineFields(i, [ ...t, ...r ].sort(), []), e.F(i);\n}\n\nfunction refineYear(e, n) {\n  const t = getCalendarEraOrigins(e), o = ar[e.id || \"\"] || {};\n  let {era: r, eraYear: i, year: a} = n;\n  if (void 0 !== r || void 0 !== i) {\n    if (void 0 === r || void 0 === i) {\n      throw new TypeError(io);\n    }\n    if (!t) {\n      throw new RangeError(ro);\n    }\n    const e = t[o[r] || r];\n    if (void 0 === e) {\n      throw new RangeError(invalidEra(r));\n    }\n    const n = eraYearToYear(i, e);\n    if (void 0 !== a && a !== n) {\n      throw new RangeError(ao);\n    }\n    a = n;\n  } else if (void 0 === a) {\n    throw new TypeError(missingYear(t));\n  }\n  return a;\n}\n\nfunction refineMonth(e, n, t, o) {\n  let {month: r, monthCode: i} = n;\n  if (void 0 !== i) {\n    const n = ((e, n, t, o) => {\n      const r = e.L(t), [i, a] = parseMonthCode(n);\n      let s = monthCodeNumberToMonth(i, a, r);\n      if (a) {\n        const n = getCalendarLeapMonthMeta(e);\n        if (void 0 === n) {\n          throw new RangeError(uo);\n        }\n        if (n > 0) {\n          if (s > n) {\n            throw new RangeError(uo);\n          }\n          if (void 0 === r) {\n            if (1 === o) {\n              throw new RangeError(uo);\n            }\n            s--;\n          }\n        } else {\n          if (s !== -n) {\n            throw new RangeError(uo);\n          }\n          if (void 0 === r && 1 === o) {\n            throw new RangeError(uo);\n          }\n        }\n      }\n      return s;\n    })(e, i, t, o);\n    if (void 0 !== r && r !== n) {\n      throw new RangeError(so);\n    }\n    r = n, o = 1;\n  } else if (void 0 === r) {\n    throw new TypeError(co);\n  }\n  return clampEntity(\"month\", r, 1, e.B(t), o);\n}\n\nfunction refineDay(e, n, t, o, r) {\n  return clampProp(n, \"day\", 1, e.U(o, t), r);\n}\n\nfunction spliceFields(e, n, t, o) {\n  let r = 0;\n  const i = [];\n  for (const e of t) {\n    void 0 !== n[e] ? r = 1 : i.push(e);\n  }\n  if (Object.assign(e, n), r) {\n    for (const n of o || i) {\n      delete e[n];\n    }\n  }\n}\n\nfunction computeDateEssentials(e) {\n  const n = ji(e.calendar), [t, o, r] = n.v(e), [i, a] = n.q(t, o);\n  return {\n    year: t,\n    monthCode: formatMonthCode(i, a),\n    day: r\n  };\n}\n\nfunction qe(e) {\n  return xe(checkEpochNanoInBounds(bigIntToBigNano(toBigInt(e))));\n}\n\nfunction ye(e, n, t, o, r = l) {\n  return _e(checkEpochNanoInBounds(bigIntToBigNano(toBigInt(t))), n(o), e(r));\n}\n\nfunction Zt(n, t, o, r, i = 0, a = 0, s = 0, c = 0, u = 0, f = 0, d = l) {\n  return jt(checkIsoDateTimeInBounds(checkIsoDateTimeFields(e(toInteger, zipProps(Tr, [ t, o, r, i, a, s, c, u, f ])))), n(d));\n}\n\nfunction ue(n, t, o, r, i = l) {\n  return W(checkIsoDateInBounds(checkIsoDateFields(e(toInteger, {\n    isoYear: t,\n    isoMonth: o,\n    isoDay: r\n  }))), n(i));\n}\n\nfunction Qt(e, n, t, o = l, r = 1) {\n  const i = toInteger(n), a = toInteger(t), s = e(o);\n  return createPlainYearMonthSlots(checkIsoYearMonthInBounds(checkIsoDateFields({\n    isoYear: i,\n    isoMonth: a,\n    isoDay: toInteger(r)\n  })), s);\n}\n\nfunction kt(e, n, t, o = l, r = Br) {\n  const i = toInteger(n), a = toInteger(t), s = e(o);\n  return createPlainMonthDaySlots(checkIsoDateInBounds(checkIsoDateFields({\n    isoYear: toInteger(r),\n    isoMonth: i,\n    isoDay: a\n  })), s);\n}\n\nfunction ut(n = 0, t = 0, o = 0, r = 0, i = 0, a = 0) {\n  return St(constrainIsoTimeFields(e(toInteger, zipProps(w, [ n, t, o, r, i, a ])), 1));\n}\n\nfunction j(n = 0, t = 0, o = 0, r = 0, i = 0, a = 0, s = 0, c = 0, u = 0, f = 0) {\n  return Oe(checkDurationUnits(e(toStrictInteger, zipProps(p, [ n, t, o, r, i, a, s, c, u, f ]))));\n}\n\nfunction Je(e, n, t = l) {\n  return _e(e.epochNanoseconds, n, t);\n}\n\nfunction be(e) {\n  return xe(e.epochNanoseconds);\n}\n\nfunction yt(e, n) {\n  return jt(he(n, e));\n}\n\nfunction fe(e, n) {\n  return W(he(n, e));\n}\n\nfunction dt(e, n) {\n  return St(he(n, e));\n}\n\nfunction bt(e, n, t, o) {\n  const r = ((e, n, t, o) => {\n    const r = (e => ei(normalizeOptions(e)))(o);\n    return getSingleInstantFor(e(n), t, r);\n  })(e, t, n, o);\n  return _e(checkEpochNanoInBounds(r), t, n.calendar);\n}\n\nfunction ae(e, n, t, o, r) {\n  const i = e(r.timeZone), a = r.plainTime, s = void 0 !== a ? n(a) : void 0, c = t(i);\n  let u;\n  return u = s ? getSingleInstantFor(c, {\n    ...o,\n    ...s\n  }) : getStartOfDayInstantFor(c, {\n    ...o,\n    ...Nt\n  }), _e(u, i, o.calendar);\n}\n\nfunction ie(e, n = Nt) {\n  return jt(checkIsoDateTimeInBounds({\n    ...e,\n    ...n\n  }));\n}\n\nfunction le(e, n, t) {\n  return ((e, n) => {\n    const t = refineCalendarFields(e, n, Qo);\n    return e.K(t, void 0);\n  })(e(n.calendar), t);\n}\n\nfunction se(e, n, t) {\n  return ((e, n) => {\n    const t = refineCalendarFields(e, n, nr);\n    return e._(t);\n  })(e(n.calendar), t);\n}\n\nfunction Ht(e, n, t, o) {\n  return ((e, n, t) => convertToIso(e, n, Qo, requireObjectLike(t), Jo))(e(n.calendar), t, o);\n}\n\nfunction Vt(e, n, t, o) {\n  return ((e, n, t) => convertToIso(e, n, nr, requireObjectLike(t), Go))(e(n.calendar), t, o);\n}\n\nfunction $e(e) {\n  return xe(checkEpochNanoInBounds(Ge(toStrictInteger(e), Qe)));\n}\n\nfunction He(e) {\n  return xe(checkEpochNanoInBounds(bigIntToBigNano(toBigInt(e))));\n}\n\nfunction createOptionsTransformer(e, n, t) {\n  const o = new Set(t);\n  return (r, i) => {\n    const a = t && hasAnyPropsByName(r, t);\n    if (!hasAnyPropsByName(r = ((e, n) => {\n      const t = {};\n      for (const o in n) {\n        e.has(o) || (t[o] = n[o]);\n      }\n      return t;\n    })(o, r), e)) {\n      if (i && a) {\n        throw new TypeError(\"Invalid formatting options\");\n      }\n      r = {\n        ...n,\n        ...r\n      };\n    }\n    return t && (r.timeZone = si, [ \"full\", \"long\" ].includes(r.J) && (r.J = \"medium\")), \n    r;\n  };\n}\n\nfunction Q(e, n = an, t = 0) {\n  const [o, , , r] = e;\n  return (i, a = Na, ...s) => {\n    const c = n(r && r(...s), i, a, o, t), u = c.resolvedOptions();\n    return [ c, ...toEpochMillis(e, u, s) ];\n  };\n}\n\nfunction an(e, n, t, o, r) {\n  if (t = o(t, r), e) {\n    if (void 0 !== t.timeZone) {\n      throw new TypeError(So);\n    }\n    t.timeZone = e;\n  }\n  return new en(n, t);\n}\n\nfunction toEpochMillis(e, n, t) {\n  const [, o, r] = e;\n  return t.map((e => (e.calendar && ((e, n, t) => {\n    if ((t || e !== l) && e !== n) {\n      throw new RangeError(lo);\n    }\n  })(e.calendar, n.calendar, r), o(e, n))));\n}\n\nfunction ge(e, n, t) {\n  const o = n.timeZone, r = e(o), i = {\n    ...he(n, r),\n    ...t || Nt\n  };\n  let a;\n  return a = t ? getMatchingInstantFor(r, i, i.offsetNanoseconds, 2) : getStartOfDayInstantFor(r, i), \n  _e(a, o, n.calendar);\n}\n\nfunction Ot(e, n = Nt) {\n  return jt(checkIsoDateTimeInBounds({\n    ...e,\n    ...n\n  }));\n}\n\nfunction pt(e, n) {\n  return {\n    ...e,\n    calendar: n\n  };\n}\n\nfunction Pe(e, n) {\n  return {\n    ...e,\n    timeZone: n\n  };\n}\n\nfunction tn(e) {\n  const n = Xe();\n  return epochNanoToIso(n, e.R(n));\n}\n\nfunction Xe() {\n  return Ge(Date.now(), Qe);\n}\n\nfunction Ue() {\n  return va || (va = (new en).resolvedOptions().timeZone);\n}\n\nconst expectedInteger = (e, n) => `Non-integer ${e}: ${n}`, expectedPositive = (e, n) => `Non-positive ${e}: ${n}`, expectedFinite = (e, n) => `Non-finite ${e}: ${n}`, forbiddenBigIntToNumber = e => `Cannot convert bigint to ${e}`, invalidBigInt = e => `Invalid bigint: ${e}`, no = \"Cannot convert Symbol to string\", oo = \"Invalid object\", numberOutOfRange = (e, n, t, o, r) => r ? numberOutOfRange(e, r[n], r[t], r[o]) : invalidEntity(e, n) + `; must be between ${t}-${o}`, invalidEntity = (e, n) => `Invalid ${e}: ${n}`, missingField = e => `Missing ${e}`, forbiddenField = e => `Invalid field ${e}`, duplicateFields = e => `Duplicate field ${e}`, noValidFields = e => \"No valid fields: \" + e.join(), i = \"Invalid bag\", invalidChoice = (e, n, t) => invalidEntity(e, n) + \"; must be \" + Object.keys(t).join(), b = \"Cannot use valueOf\", a = \"Invalid calling context\", ro = \"Forbidden era/eraYear\", io = \"Mismatching era/eraYear\", ao = \"Mismatching year/eraYear\", invalidEra = e => `Invalid era: ${e}`, missingYear = e => \"Missing year\" + (e ? \"/era/eraYear\" : \"\"), invalidMonthCode = e => `Invalid monthCode: ${e}`, so = \"Mismatching month/monthCode\", co = \"Missing month/monthCode\", uo = \"Invalid leap month\", fo = \"Invalid protocol results\", c = e => invalidEntity(\"Calendar\", e), lo = \"Mismatching Calendars\", F = e => invalidEntity(\"TimeZone\", e), mo = \"Mismatching TimeZones\", po = \"Forbidden ICU TimeZone\", ho = \"Out-of-bounds offset\", go = \"Out-of-bounds TimeZone gap\", Do = \"Invalid TimeZone offset\", To = \"Ambiguous offset\", Io = \"Out-of-bounds date\", Mo = \"Out-of-bounds duration\", No = \"Cannot mix duration signs\", yo = \"Missing relativeTo\", vo = \"Cannot use large units\", Po = \"Required smallestUnit or largestUnit\", Eo = \"smallestUnit > largestUnit\", failedParse = e => `Cannot parse: ${e}`, invalidSubstring = e => `Invalid substring: ${e}`, rn = e => `Cannot format ${e}`, ln = \"Mismatching types for formatting\", So = \"Cannot specify TimeZone\", Fo = /*@__PURE__*/ Pt(g, ((e, n) => n)), wo = /*@__PURE__*/ Pt(g, ((e, n, t) => t)), bo = /*@__PURE__*/ Pt(padNumber, 2), Oo = {\n  nanosecond: 0,\n  microsecond: 1,\n  millisecond: 2,\n  second: 3,\n  minute: 4,\n  hour: 5,\n  day: 6,\n  week: 7,\n  month: 8,\n  year: 9\n}, Bo = /*@__PURE__*/ Object.keys(Oo), ko = 864e5, Co = 1e3, Yo = 1e3, Qe = 1e6, Ro = 1e9, Zo = 6e10, zo = 36e11, Uo = 864e11, Ao = [ 1, Yo, Qe, Ro, Zo, zo, Uo ], O = /*@__PURE__*/ Bo.slice(0, 6), qo = /*@__PURE__*/ sortStrings(O), Wo = [ \"offset\" ], jo = [ \"timeZone\" ], Lo = /*@__PURE__*/ O.concat(Wo), xo = /*@__PURE__*/ Lo.concat(jo), $o = [ \"era\", \"eraYear\" ], Ho = /*@__PURE__*/ $o.concat([ \"year\" ]), Go = [ \"year\" ], Vo = [ \"monthCode\" ], _o = /*@__PURE__*/ [ \"month\" ].concat(Vo), Jo = [ \"day\" ], Ko = /*@__PURE__*/ _o.concat(Go), Qo = /*@__PURE__*/ Vo.concat(Go), Xo = /*@__PURE__*/ Jo.concat(Ko), er = /*@__PURE__*/ Jo.concat(_o), nr = /*@__PURE__*/ Jo.concat(Vo), tr = /*@__PURE__*/ wo(O, 0), l = \"iso8601\", or = \"gregory\", rr = \"japanese\", ir = {\n  [or]: {\n    \"gregory-inverse\": -1,\n    gregory: 0\n  },\n  [rr]: {\n    \"japanese-inverse\": -1,\n    japanese: 0,\n    meiji: 1867,\n    taisho: 1911,\n    showa: 1925,\n    heisei: 1988,\n    reiwa: 2018\n  },\n  ethiopic: {\n    ethioaa: 0,\n    ethiopic: 5500\n  },\n  coptic: {\n    \"coptic-inverse\": -1,\n    coptic: 0\n  },\n  roc: {\n    \"roc-inverse\": -1,\n    roc: 0\n  },\n  buddhist: {\n    be: 0\n  },\n  islamic: {\n    ah: 0\n  },\n  indian: {\n    saka: 0\n  },\n  persian: {\n    ap: 0\n  }\n}, ar = {\n  [or]: {\n    bce: \"gregory-inverse\",\n    ce: \"gregory\"\n  },\n  [rr]: {\n    bce: \"japanese-inverse\",\n    ce: \"japanese\"\n  },\n  ethiopic: {\n    era0: \"ethioaa\",\n    era1: \"ethiopic\"\n  },\n  coptic: {\n    era0: \"coptic-inverse\",\n    era1: \"coptic\"\n  },\n  roc: {\n    broc: \"roc-inverse\",\n    minguo: \"roc\"\n  }\n}, sr = {\n  chinese: 13,\n  dangi: 13,\n  hebrew: -6\n}, m = /*@__PURE__*/ Pt(requireType, \"string\"), D = /*@__PURE__*/ Pt(requireType, \"boolean\"), cr = /*@__PURE__*/ Pt(requireType, \"number\"), p = /*@__PURE__*/ Bo.map((e => e + \"s\")), ur = /*@__PURE__*/ sortStrings(p), fr = /*@__PURE__*/ p.slice(0, 6), lr = /*@__PURE__*/ p.slice(6), dr = /*@__PURE__*/ lr.slice(1), mr = /*@__PURE__*/ Fo(p), pr = /*@__PURE__*/ wo(p, 0), hr = /*@__PURE__*/ wo(fr, 0), gr = /*@__PURE__*/ Pt(zeroOutProps, p), w = [ \"isoNanosecond\", \"isoMicrosecond\", \"isoMillisecond\", \"isoSecond\", \"isoMinute\", \"isoHour\" ], Dr = [ \"isoDay\", \"isoMonth\", \"isoYear\" ], Tr = /*@__PURE__*/ w.concat(Dr), Ir = /*@__PURE__*/ sortStrings(Dr), Mr = /*@__PURE__*/ sortStrings(w), Nr = /*@__PURE__*/ sortStrings(Tr), Nt = /*@__PURE__*/ wo(Mr, 0), yr = /*@__PURE__*/ Pt(zeroOutProps, Tr), vr = 1e8, Pr = vr * ko, Er = [ vr, 0 ], Sr = [ -vr, 0 ], Fr = 275760, wr = -271821, en = Intl.DateTimeFormat, br = \"en-GB\", Or = 1970, Br = 1972, kr = 12, Cr = /*@__PURE__*/ isoArgsToEpochMilli(1868, 9, 8), Yr = /*@__PURE__*/ on(computeJapaneseEraParts, WeakMap), Rr = \"smallestUnit\", Zr = \"unit\", zr = \"roundingIncrement\", Ur = \"fractionalSecondDigits\", Ar = \"relativeTo\", qr = \"direction\", Wr = {\n  constrain: 0,\n  reject: 1\n}, jr = /*@__PURE__*/ Object.keys(Wr), Lr = {\n  compatible: 0,\n  reject: 1,\n  earlier: 2,\n  later: 3\n}, xr = {\n  reject: 0,\n  use: 1,\n  prefer: 2,\n  ignore: 3\n}, $r = {\n  auto: 0,\n  never: 1,\n  critical: 2,\n  always: 3\n}, Hr = {\n  auto: 0,\n  never: 1,\n  critical: 2\n}, Gr = {\n  auto: 0,\n  never: 1\n}, Vr = {\n  floor: 0,\n  halfFloor: 1,\n  ceil: 2,\n  halfCeil: 3,\n  trunc: 4,\n  halfTrunc: 5,\n  expand: 6,\n  halfExpand: 7,\n  halfEven: 8\n}, _r = {\n  previous: -1,\n  next: 1\n}, Jr = /*@__PURE__*/ Pt(refineUnitOption, Rr), Kr = /*@__PURE__*/ Pt(refineUnitOption, \"largestUnit\"), Qr = /*@__PURE__*/ Pt(refineUnitOption, Zr), Xr = /*@__PURE__*/ Pt(refineChoiceOption, \"overflow\", Wr), ei = /*@__PURE__*/ Pt(refineChoiceOption, \"disambiguation\", Lr), ni = /*@__PURE__*/ Pt(refineChoiceOption, \"offset\", xr), ti = /*@__PURE__*/ Pt(refineChoiceOption, \"calendarName\", $r), oi = /*@__PURE__*/ Pt(refineChoiceOption, \"timeZoneName\", Hr), ri = /*@__PURE__*/ Pt(refineChoiceOption, \"offset\", Gr), ii = /*@__PURE__*/ Pt(refineChoiceOption, \"roundingMode\", Vr), Ut = \"PlainYearMonth\", qt = \"PlainMonthDay\", G = \"PlainDate\", x = \"PlainDateTime\", ft = \"PlainTime\", z = \"ZonedDateTime\", Re = \"Instant\", N = \"Duration\", ai = [ Math.floor, e => hasHalf(e) ? Math.floor(e) : Math.round(e), Math.ceil, e => hasHalf(e) ? Math.ceil(e) : Math.round(e), Math.trunc, e => hasHalf(e) ? Math.trunc(e) || 0 : Math.round(e), e => e < 0 ? Math.floor(e) : Math.ceil(e), e => Math.sign(e) * Math.round(Math.abs(e)) || 0, e => hasHalf(e) ? (e = Math.trunc(e) || 0) + e % 2 : Math.round(e) ], si = \"UTC\", ci = 5184e3, ui = /*@__PURE__*/ isoArgsToEpochSec(1847), fi = /*@__PURE__*/ isoArgsToEpochSec(/*@__PURE__*/ (/*@__PURE__*/ new Date).getUTCFullYear() + 10), li = /0+$/, he = /*@__PURE__*/ on(_zonedEpochSlotsToIso, WeakMap), di = 2 ** 32 - 1, L = /*@__PURE__*/ on((e => {\n  const n = getTimeZoneEssence(e);\n  return \"object\" == typeof n ? new IntlTimeZone(n) : new FixedTimeZone(n || 0);\n}));\n\nclass FixedTimeZone {\n  constructor(e) {\n    this.$ = e;\n  }\n  R() {\n    return this.$;\n  }\n  I(e) {\n    return (e => {\n      const n = isoToEpochNano({\n        ...e,\n        ...Nt\n      });\n      if (!n || Math.abs(n[0]) > 1e8) {\n        throw new RangeError(Io);\n      }\n    })(e), [ isoToEpochNanoWithOffset(e, this.$) ];\n  }\n  O() {}\n}\n\nclass IntlTimeZone {\n  constructor(e) {\n    this.nn = (e => {\n      function getOffsetSec(e) {\n        const i = clampNumber(e, o, r), [a, s] = computePeriod(i), c = n(a), u = n(s);\n        return c === u ? c : pinch(t(a, s), c, u, e);\n      }\n      function pinch(n, t, o, r) {\n        let i, a;\n        for (;(void 0 === r || void 0 === (i = r < n[0] ? t : r >= n[1] ? o : void 0)) && (a = n[1] - n[0]); ) {\n          const t = n[0] + Math.floor(a / 2);\n          e(t) === o ? n[1] = t : n[0] = t + 1;\n        }\n        return i;\n      }\n      const n = on(e), t = on(createSplitTuple);\n      let o = ui, r = fi;\n      return {\n        tn(e) {\n          const n = getOffsetSec(e - 86400), t = getOffsetSec(e + 86400), o = e - n, r = e - t;\n          if (n === t) {\n            return [ o ];\n          }\n          const i = getOffsetSec(o);\n          return i === getOffsetSec(r) ? [ e - i ] : n > t ? [ o, r ] : [];\n        },\n        rn: getOffsetSec,\n        O(e, i) {\n          const a = clampNumber(e, o, r);\n          let [s, c] = computePeriod(a);\n          const u = ci * i, f = i < 0 ? () => c > o || (o = a, 0) : () => s < r || (r = a, \n          0);\n          for (;f(); ) {\n            const o = n(s), r = n(c);\n            if (o !== r) {\n              const n = t(s, c);\n              pinch(n, o, r);\n              const a = n[0];\n              if ((compareNumbers(a, e) || 1) === i) {\n                return a;\n              }\n            }\n            s += u, c += u;\n          }\n        }\n      };\n    })((e => n => {\n      const t = hashIntlFormatParts(e, n * Co);\n      return isoArgsToEpochSec(parseIntlPartsYear(t), parseInt(t.month), parseInt(t.day), parseInt(t.hour), parseInt(t.minute), parseInt(t.second)) - n;\n    })(e));\n  }\n  R(e) {\n    return this.nn.rn((e => epochNanoToSecMod(e)[0])(e)) * Ro;\n  }\n  I(e) {\n    const [n, t] = [ isoArgsToEpochSec((o = e).isoYear, o.isoMonth, o.isoDay, o.isoHour, o.isoMinute, o.isoSecond), o.isoMillisecond * Qe + o.isoMicrosecond * Yo + o.isoNanosecond ];\n    var o;\n    return this.nn.tn(n).map((e => checkEpochNanoInBounds(moveBigNano(Ge(e, Ro), t))));\n  }\n  O(e, n) {\n    const [t, o] = epochNanoToSecMod(e), r = this.nn.O(t + (n > 0 || o ? 1 : 0), n);\n    if (void 0 !== r) {\n      return Ge(r, Ro);\n    }\n  }\n}\n\nconst mi = \"([+-])\", pi = \"(?:[.,](\\\\d{1,9}))?\", hi = `(?:(?:${mi}(\\\\d{6}))|(\\\\d{4}))-?(\\\\d{2})`, gi = \"(\\\\d{2})(?::?(\\\\d{2})(?::?(\\\\d{2})\" + pi + \")?)?\", Di = mi + gi, Ti = hi + \"-?(\\\\d{2})(?:[T ]\" + gi + \"(Z|\" + Di + \")?)?\", Ii = \"\\\\[(!?)([^\\\\]]*)\\\\]\", Mi = `((?:${Ii}){0,9})`, Ni = /*@__PURE__*/ createRegExp(hi + Mi), yi = /*@__PURE__*/ createRegExp(\"(?:--)?(\\\\d{2})-?(\\\\d{2})\" + Mi), vi = /*@__PURE__*/ createRegExp(Ti + Mi), Pi = /*@__PURE__*/ createRegExp(\"T?\" + gi + \"(?:\" + Di + \")?\" + Mi), Ei = /*@__PURE__*/ createRegExp(Di), Si = /*@__PURE__*/ new RegExp(Ii, \"g\"), Fi = /*@__PURE__*/ createRegExp(`${mi}?P(\\\\d+Y)?(\\\\d+M)?(\\\\d+W)?(\\\\d+D)?(?:T(?:(\\\\d+)${pi}H)?(?:(\\\\d+)${pi}M)?(?:(\\\\d+)${pi}S)?)?`), wi = /*@__PURE__*/ on((e => new en(br, {\n  timeZone: e,\n  era: \"short\",\n  year: \"numeric\",\n  month: \"numeric\",\n  day: \"numeric\",\n  hour: \"numeric\",\n  minute: \"numeric\",\n  second: \"numeric\"\n}))), bi = /^(AC|AE|AG|AR|AS|BE|BS|CA|CN|CS|CT|EA|EC|IE|IS|JS|MI|NE|NS|PL|PN|PR|PS|SS|VS)T$/, Oi = /[^\\w\\/:+-]+/, Bi = /^M(\\d{2})(L?)$/, ki = /*@__PURE__*/ on(createIntlCalendar), Ci = /*@__PURE__*/ on((e => new en(br, {\n  calendar: e,\n  timeZone: si,\n  era: \"short\",\n  year: \"numeric\",\n  month: \"short\",\n  day: \"numeric\"\n}))), Yi = {\n  P(e, n, t) {\n    const o = mt(t);\n    let r, {years: i, months: a, weeks: s, days: c} = n;\n    if (c += durationFieldsToBigNano(n, 5)[0], i || a) {\n      r = ((e, n, t, o, r) => {\n        let [i, a, s] = e.v(n);\n        if (t) {\n          const [n, o] = e.q(i, a);\n          i += t, a = monthCodeNumberToMonth(n, o, e.L(i)), a = clampEntity(\"month\", a, 1, e.B(i), r);\n        }\n        return o && ([i, a] = e.un(i, a, o)), s = clampEntity(\"day\", s, 1, e.U(i, a), r), \n        e.p(i, a, s);\n      })(this, e, i, a, o);\n    } else {\n      if (!s && !c) {\n        return e;\n      }\n      r = isoToEpochMilli(e);\n    }\n    if (void 0 === r) {\n      throw new RangeError(Io);\n    }\n    return r += (7 * s + c) * ko, checkIsoDateInBounds(epochMilliToIso(r));\n  },\n  N(e, n, t) {\n    if (t <= 7) {\n      let o = 0, r = diffDays({\n        ...e,\n        ...Nt\n      }, {\n        ...n,\n        ...Nt\n      });\n      return 7 === t && ([o, r] = divModTrunc(r, 7)), {\n        ...pr,\n        weeks: o,\n        days: r\n      };\n    }\n    const o = this.v(e), r = this.v(n);\n    let [i, a, s] = ((e, n, t, o, r, i, a) => {\n      let s = r - n, c = i - t, u = a - o;\n      if (s || c) {\n        const f = Math.sign(s || c);\n        let l = e.U(r, i), d = 0;\n        if (Math.sign(u) === -f) {\n          const o = l;\n          [r, i] = e.un(r, i, -f), s = r - n, c = i - t, l = e.U(r, i), d = f < 0 ? -o : l;\n        }\n        if (u = a - Math.min(o, l) + d, s) {\n          const [o, a] = e.q(n, t), [u, l] = e.q(r, i);\n          if (c = u - o || Number(l) - Number(a), Math.sign(c) === -f) {\n            const t = f < 0 && -e.B(r);\n            s = (r -= f) - n, c = i - monthCodeNumberToMonth(o, a, e.L(r)) + (t || e.B(r));\n          }\n        }\n      }\n      return [ s, c, u ];\n    })(this, ...o, ...r);\n    return 8 === t && (a += this.cn(i, o[0]), i = 0), {\n      ...pr,\n      years: i,\n      months: a,\n      days: s\n    };\n  },\n  F(e, n) {\n    const t = mt(n), o = refineYear(this, e), r = refineMonth(this, e, o, t), i = refineDay(this, e, r, o, t);\n    return W(checkIsoDateInBounds(this.V(o, r, i)), this.id || l);\n  },\n  K(e, n) {\n    const t = mt(n), o = refineYear(this, e), r = refineMonth(this, e, o, t);\n    return createPlainYearMonthSlots(checkIsoYearMonthInBounds(this.V(o, r, 1)), this.id || l);\n  },\n  _(e, n) {\n    const t = mt(n);\n    let o, r, i, a = void 0 !== e.eraYear || void 0 !== e.year ? refineYear(this, e) : void 0;\n    const s = !this.id;\n    if (void 0 === a && s && (a = Br), void 0 !== a) {\n      const n = refineMonth(this, e, a, t);\n      o = refineDay(this, e, n, a, t);\n      const s = this.L(a);\n      r = monthToMonthCodeNumber(n, s), i = n === s;\n    } else {\n      if (void 0 === e.monthCode) {\n        throw new TypeError(co);\n      }\n      if ([r, i] = parseMonthCode(e.monthCode), this.id && this.id !== or && this.id !== rr) {\n        if (this.id && \"coptic\" === computeCalendarIdBase(this.id) && 0 === t) {\n          const n = i || 13 !== r ? 30 : 6;\n          o = e.day, o = clampNumber(o, 1, n);\n        } else if (this.id && \"chinese\" === computeCalendarIdBase(this.id) && 0 === t) {\n          const n = !i || 1 !== r && 9 !== r && 10 !== r && 11 !== r && 12 !== r ? 30 : 29;\n          o = e.day, o = clampNumber(o, 1, n);\n        } else {\n          o = e.day;\n        }\n      } else {\n        o = refineDay(this, e, refineMonth(this, e, Br, t), Br, t);\n      }\n    }\n    const c = this.G(r, i, o);\n    if (!c) {\n      throw new RangeError(\"Cannot guess year\");\n    }\n    const [u, f] = c;\n    return createPlainMonthDaySlots(checkIsoDateInBounds(this.V(u, f, o)), this.id || l);\n  },\n  fields(e) {\n    return getCalendarEraOrigins(this) && e.includes(\"year\") ? [ ...e, ...$o ] : e;\n  },\n  k(e, n) {\n    const t = Object.assign(Object.create(null), e);\n    return spliceFields(t, n, _o), getCalendarEraOrigins(this) && (spliceFields(t, n, Ho), \n    this.id === rr && spliceFields(t, n, er, $o)), t;\n  },\n  inLeapYear(e) {\n    const [n] = this.v(e);\n    return this.sn(n);\n  },\n  monthsInYear(e) {\n    const [n] = this.v(e);\n    return this.B(n);\n  },\n  daysInMonth(e) {\n    const [n, t] = this.v(e);\n    return this.U(n, t);\n  },\n  daysInYear(e) {\n    const [n] = this.v(e);\n    return this.fn(n);\n  },\n  dayOfYear: computeNativeDayOfYear,\n  era(e) {\n    return this.hn(e)[0];\n  },\n  eraYear(e) {\n    return this.hn(e)[1];\n  },\n  monthCode(e) {\n    const [n, t] = this.v(e), [o, r] = this.q(n, t);\n    return formatMonthCode(o, r);\n  },\n  dayOfWeek: computeIsoDayOfWeek,\n  daysInWeek() {\n    return 7;\n  }\n}, Ri = {\n  v: computeIsoDateParts,\n  hn: computeIsoEraParts,\n  q: computeIsoMonthCodeParts\n}, Zi = {\n  dayOfYear: computeNativeDayOfYear,\n  v: computeIsoDateParts,\n  p: isoArgsToEpochMilli\n}, zi = /*@__PURE__*/ Object.assign({}, Zi, {\n  weekOfYear: computeNativeWeekOfYear,\n  yearOfWeek: computeNativeYearOfWeek,\n  m(e) {\n    function computeWeekShift(e) {\n      return (7 - e < n ? 7 : 0) - e;\n    }\n    function computeWeeksInYear(e) {\n      const n = computeIsoDaysInYear(f + e), t = e || 1, o = computeWeekShift(modFloor(a + n * t, 7));\n      return c = (n + (o - s) * t) / 7;\n    }\n    const n = this.id ? 1 : 4, t = computeIsoDayOfWeek(e), o = this.dayOfYear(e), r = modFloor(t - 1, 7), i = o - 1, a = modFloor(r - i, 7), s = computeWeekShift(a);\n    let c, u = Math.floor((i - s) / 7) + 1, f = e.isoYear;\n    return u ? u > computeWeeksInYear(0) && (u = 1, f++) : (u = computeWeeksInYear(-1), \n    f--), [ u, f, c ];\n  }\n}), Ui = /*@__PURE__*/ Object.assign({}, Yi, zi, {\n  v: computeIsoDateParts,\n  hn: computeIsoEraParts,\n  q: computeIsoMonthCodeParts,\n  G(e, n) {\n    if (!n) {\n      return [ Br, e ];\n    }\n  },\n  sn: computeIsoInLeapYear,\n  L() {},\n  B: computeIsoMonthsInYear,\n  cn: e => e * kr,\n  U: computeIsoDaysInMonth,\n  fn: computeIsoDaysInYear,\n  V: (e, n, t) => ({\n    isoYear: e,\n    isoMonth: n,\n    isoDay: t\n  }),\n  p: isoArgsToEpochMilli,\n  un: (e, n, t) => (e += divTrunc(t, kr), (n += modTrunc(t, kr)) < 1 ? (e--, n += kr) : n > kr && (e++, \n  n -= kr), [ e, n ]),\n  year(e) {\n    return e.isoYear;\n  },\n  month(e) {\n    return e.isoMonth;\n  },\n  day: e => e.isoDay\n}), Ai = {\n  v: computeIntlDateParts,\n  hn: computeIntlEraParts,\n  q: computeIntlMonthCodeParts\n}, qi = {\n  dayOfYear: computeNativeDayOfYear,\n  v: computeIntlDateParts,\n  p: computeIntlEpochMilli,\n  weekOfYear: computeNativeWeekOfYear,\n  yearOfWeek: computeNativeYearOfWeek,\n  m() {\n    return [];\n  }\n}, Wi = /*@__PURE__*/ Object.assign({}, Yi, qi, {\n  v: computeIntlDateParts,\n  hn: computeIntlEraParts,\n  q: computeIntlMonthCodeParts,\n  G(e, n, t) {\n    const o = this.id && \"chinese\" === computeCalendarIdBase(this.id) ? ((e, n, t) => {\n      if (n) {\n        switch (e) {\n         case 1:\n          return 1651;\n\n         case 2:\n          return t < 30 ? 1947 : 1765;\n\n         case 3:\n          return t < 30 ? 1966 : 1955;\n\n         case 4:\n          return t < 30 ? 1963 : 1944;\n\n         case 5:\n          return t < 30 ? 1971 : 1952;\n\n         case 6:\n          return t < 30 ? 1960 : 1941;\n\n         case 7:\n          return t < 30 ? 1968 : 1938;\n\n         case 8:\n          return t < 30 ? 1957 : 1718;\n\n         case 9:\n          return 1832;\n\n         case 10:\n          return 1870;\n\n         case 11:\n          return 1814;\n\n         case 12:\n          return 1890;\n        }\n      }\n      return 1972;\n    })(e, n, t) : Br;\n    let [r, i, a] = computeIntlDateParts.call(this, {\n      isoYear: o,\n      isoMonth: kr,\n      isoDay: 31\n    });\n    const s = computeIntlLeapMonth.call(this, r), c = i === s;\n    1 === (compareNumbers(e, monthToMonthCodeNumber(i, s)) || compareNumbers(Number(n), Number(c)) || compareNumbers(t, a)) && r--;\n    for (let o = 0; o < 100; o++) {\n      const i = r - o, a = computeIntlLeapMonth.call(this, i), s = monthCodeNumberToMonth(e, n, a);\n      if (n === (s === a) && t <= computeIntlDaysInMonth.call(this, i, s)) {\n        return [ i, s ];\n      }\n    }\n  },\n  sn(e) {\n    const n = computeIntlDaysInYear.call(this, e);\n    return n > computeIntlDaysInYear.call(this, e - 1) && n > computeIntlDaysInYear.call(this, e + 1);\n  },\n  L: computeIntlLeapMonth,\n  B: computeIntlMonthsInYear,\n  cn(e, n) {\n    const t = n + e, o = Math.sign(e), r = o < 0 ? -1 : 0;\n    let i = 0;\n    for (let e = n; e !== t; e += o) {\n      i += computeIntlMonthsInYear.call(this, e + r);\n    }\n    return i;\n  },\n  U: computeIntlDaysInMonth,\n  fn: computeIntlDaysInYear,\n  V(e, n, t) {\n    return epochMilliToIso(computeIntlEpochMilli.call(this, e, n, t));\n  },\n  p: computeIntlEpochMilli,\n  un(e, n, t) {\n    if (t) {\n      if (n += t, !Number.isSafeInteger(n)) {\n        throw new RangeError(Io);\n      }\n      if (t < 0) {\n        for (;n < 1; ) {\n          n += computeIntlMonthsInYear.call(this, --e);\n        }\n      } else {\n        let t;\n        for (;n > (t = computeIntlMonthsInYear.call(this, e)); ) {\n          n -= t, e++;\n        }\n      }\n    }\n    return [ e, n ];\n  },\n  year(e) {\n    return this.h(e).year;\n  },\n  month(e) {\n    const {year: n, o: t} = this.h(e), {u: o} = this.l(n);\n    return o[t] + 1;\n  },\n  day(e) {\n    return this.h(e).day;\n  }\n}), ji = /*@__PURE__*/ createNativeOpsCreator(Ri, Ai), C = /*@__PURE__*/ createNativeOpsCreator(Ui, Wi), Li = {\n  ...{\n    era: toStringViaPrimitive,\n    eraYear: toInteger,\n    year: toInteger,\n    month: toPositiveInteger,\n    monthCode(e) {\n      const n = toStringViaPrimitive(e);\n      return parseMonthCode(n), n;\n    },\n    day: toPositiveInteger\n  },\n  .../*@__PURE__*/ wo(O, toInteger),\n  .../*@__PURE__*/ wo(p, toStrictInteger),\n  offset(e) {\n    const n = toStringViaPrimitive(e);\n    return parseOffsetNano(n), n;\n  }\n}, xi = /*@__PURE__*/ Pt(remapProps, O, w), $i = /*@__PURE__*/ Pt(remapProps, w, O), Hi = \"numeric\", Gi = [ \"timeZoneName\" ], Vi = {\n  month: Hi,\n  day: Hi\n}, _i = {\n  year: Hi,\n  month: Hi\n}, Ji = /*@__PURE__*/ Object.assign({}, _i, {\n  day: Hi\n}), Ki = {\n  hour: Hi,\n  minute: Hi,\n  second: Hi\n}, Qi = /*@__PURE__*/ Object.assign({}, Ji, Ki), Xi = /*@__PURE__*/ Object.assign({}, Qi, {\n  timeZoneName: \"short\"\n}), ea = /*@__PURE__*/ Object.keys(_i), na = /*@__PURE__*/ Object.keys(Vi), ta = /*@__PURE__*/ Object.keys(Ji), oa = /*@__PURE__*/ Object.keys(Ki), ra = [ \"dateStyle\" ], ia = /*@__PURE__*/ ea.concat(ra), aa = /*@__PURE__*/ na.concat(ra), sa = /*@__PURE__*/ ta.concat(ra, [ \"weekday\" ]), ca = /*@__PURE__*/ oa.concat([ \"dayPeriod\", \"timeStyle\", \"fractionalSecondDigits\" ]), ua = /*@__PURE__*/ sa.concat(ca), fa = /*@__PURE__*/ Gi.concat(ca), la = /*@__PURE__*/ Gi.concat(sa), da = /*@__PURE__*/ Gi.concat([ \"day\", \"weekday\" ], ca), ma = /*@__PURE__*/ Gi.concat([ \"year\", \"weekday\" ], ca), pa = /*@__PURE__*/ createOptionsTransformer(ua, Qi), ha = /*@__PURE__*/ createOptionsTransformer(ua, Xi), ga = /*@__PURE__*/ createOptionsTransformer(ua, Qi, Gi), Da = /*@__PURE__*/ createOptionsTransformer(sa, Ji, fa), Ta = /*@__PURE__*/ createOptionsTransformer(ca, Ki, la), Ia = /*@__PURE__*/ createOptionsTransformer(ia, _i, da), Ma = /*@__PURE__*/ createOptionsTransformer(aa, Vi, ma), Na = {}, ya = /*@__PURE__*/ new en(void 0, {\n  calendar: l\n}).resolvedOptions().calendar === l, U = [ pa, I ], ot = [ ha, I, 0, (e, n) => {\n  const t = e.timeZone;\n  if (n && n.timeZone !== t) {\n    throw new RangeError(mo);\n  }\n  return t;\n} ], X = [ ga, isoToEpochMilli ], _ = [ Da, isoToEpochMilli ], tt = [ Ta, e => isoTimeFieldsToNano(e) / Qe ], et = [ Ia, isoToEpochMilli, ya ], nt = [ Ma, isoToEpochMilli, ya ];\n\nlet va;\n\nexport { N as DurationBranding, Re as InstantBranding, G as PlainDateBranding, x as PlainDateTimeBranding, qt as PlainMonthDayBranding, ft as PlainTimeBranding, Ut as PlainYearMonthBranding, en as RawDateTimeFormat, z as ZonedDateTimeBranding, Y as absDuration, E as addDurations, Pt as bindArgs, K as compareDurations, Ke as compareInstants, te as compareIsoDateFields, Yt as compareIsoDateTimeFields, Dt as compareIsoTimeFields, Be as compareZonedDateTimes, Te as computeZonedHoursInDay, ve as computeZonedStartOfDay, j as constructDurationSlots, qe as constructInstantSlots, ue as constructPlainDateSlots, Zt as constructPlainDateTimeSlots, kt as constructPlainMonthDaySlots, ut as constructPlainTimeSlots, Qt as constructPlainYearMonthSlots, ye as constructZonedDateTimeSlots, Oe as createDurationSlots, an as createFormatForPrep, Q as createFormatPrepper, t as createGetterDescriptors, xe as createInstantSlots, r as createNameDescriptors, C as createNativeStandardOps, W as createPlainDateSlots, jt as createPlainDateTimeSlots, St as createPlainTimeSlots, n as createPropDescriptors, o as createStringTagDescriptors, _e as createZonedDateTimeSlots, _ as dateConfig, X as dateTimeConfig, Ee as diffInstants, It as diffPlainDateTimes, oe as diffPlainDates, it as diffPlainTimes, zt as diffPlainYearMonth, we as diffZonedDateTimes, p as durationFieldNamesAsc, A as durationWithFields, $e as epochMilliToInstant, He as epochNanoToInstant, b as forbiddenValueOf, k as formatDurationIso, ke as formatInstantIso, Se as formatOffsetNano, ce as formatPlainDateIso, Ft as formatPlainDateTimeIso, Jt as formatPlainMonthDayIso, ct as formatPlainTimeIso, Kt as formatPlainYearMonthIso, Fe as formatZonedDateTimeIso, Xe as getCurrentEpochNano, tn as getCurrentIsoDateTime, Ue as getCurrentTimeZoneId, y as getDurationBlank, I as getEpochMilli, v as getEpochNano, U as instantConfig, Je as instantToZonedDateTime, Ve as instantsEqual, i as invalidBag, c as invalidCalendar, a as invalidCallingContext, rn as invalidFormatType, F as invalidTimeZone, s as isObjectLike, l as isoCalendarId, Nt as isoTimeFieldDefaults, w as isoTimeFieldNamesAsc, g as mapPropNames, e as mapProps, on as memoize, ln as mismatchingFormatTypes, nt as monthDayConfig, Ye as moveInstant, ne as movePlainDate, wt as movePlainDateTime, at as movePlainTime, Gt as movePlainYearMonth, pe as moveZonedDateTime, Qe as nanoInMilli, B as negateDuration, Ge as numberToBigNano, f as parseCalendarId, R as parseDuration, We as parseInstant, de as parsePlainDate, Bt as parsePlainDateTime, xt as parsePlainMonthDay, ht as parsePlainTime, _t as parsePlainYearMonth, H as parseRelativeToSlots, Z as parseTimeZoneId, Ae as parseZonedDateTime, bt as plainDateTimeToZonedDateTime, gt as plainDateTimeWithFields, Ot as plainDateTimeWithPlainTime, Ct as plainDateTimesEqual, ie as plainDateToPlainDateTime, se as plainDateToPlainMonthDay, le as plainDateToPlainYearMonth, ae as plainDateToZonedDateTime, ee as plainDateWithFields, re as plainDatesEqual, Vt as plainMonthDayToPlainDate, Et as plainMonthDayWithFields, Lt as plainMonthDaysEqual, rt as plainTimeWithFields, st as plainTimesEqual, Ht as plainYearMonthToPlainDate, Wt as plainYearMonthWithFields, $t as plainYearMonthsEqual, nn as pluckProps, L as queryNativeTimeZone, Mt as refineCalendarId, Me as refineDirectionOptions, q as refineDurationBag, $ as refineMaybeZonedDateTimeBag, mt as refineOverflowOptions, me as refinePlainDateBag, At as refinePlainDateTimeBag, Rt as refinePlainMonthDayBag, Tt as refinePlainTimeBag, Xt as refinePlainYearMonthBag, Ze as refineTimeZoneId, Ne as refineZonedDateTimeBag, je as refineZonedFieldOptions, D as requireBoolean, T as requireInteger, S as requireIntegerOrUndefined, ze as requireNumberIsInteger, h as requirePositiveInteger, P as requirePositiveIntegerOrUndefined, m as requireString, d as requireStringOrUndefined, u as resolveCalendarId, M as resolveTimeZoneId, V as roundDuration, Le as roundInstant, vt as roundPlainDateTime, lt as roundPlainTime, Ie as roundZonedDateTime, pt as slotsWithCalendarId, Pe as slotsWithTimeZoneId, tt as timeConfig, O as timeFieldNamesAsc, J as totalDuration, et as yearMonthConfig, ot as zonedConfig, be as zonedDateTimeToInstant, fe as zonedDateTimeToPlainDate, yt as zonedDateTimeToPlainDateTime, dt as zonedDateTimeToPlainTime, De as zonedDateTimeWithFields, ge as zonedDateTimeWithPlainTime, Ce as zonedDateTimesEqual, he as zonedEpochSlotsToIso };\n","'use strict';\nvar $ = require('../internals/export');\nvar $includes = require('../internals/array-includes').includes;\nvar fails = require('../internals/fails');\nvar addToUnscopables = require('../internals/add-to-unscopables');\n\n// FF99+ bug\nvar BROKEN_ON_SPARSE = fails(function () {\n  // eslint-disable-next-line es/no-array-prototype-includes -- detection\n  return !Array(1).includes();\n});\n\n// `Array.prototype.includes` method\n// https://tc39.es/ecma262/#sec-array.prototype.includes\n$({ target: 'Array', proto: true, forced: BROKEN_ON_SPARSE }, {\n  includes: function includes(el /* , fromIndex = 0 */) {\n    return $includes(this, el, arguments.length > 1 ? arguments[1] : undefined);\n  }\n});\n\n// https://tc39.es/ecma262/#sec-array.prototype-@@unscopables\naddToUnscopables('includes');\n","function createSlotClass(i, l, s, c, u) {\n  function Class(...t) {\n    if (!(this instanceof Class)) {\n      throw new TypeError(a);\n    }\n    un(this, l(...t));\n  }\n  function bindMethod(t, e) {\n    return Object.defineProperties((function(...e) {\n      return t.call(this, getSpecificSlots(this), ...e);\n    }), r(e));\n  }\n  function getSpecificSlots(t) {\n    const e = cn(t);\n    if (!e || e.branding !== i) {\n      throw new TypeError(a);\n    }\n    return e;\n  }\n  return Object.defineProperties(Class.prototype, {\n    ...t(e(bindMethod, s)),\n    ...n(e(bindMethod, c)),\n    ...o(\"Temporal.\" + i)\n  }), Object.defineProperties(Class, {\n    ...n(u),\n    ...r(i)\n  }), [ Class, t => {\n    const e = Object.create(Class.prototype);\n    return un(e, t), e;\n  }, getSpecificSlots ];\n}\n\nfunction rejectInvalidBag(t) {\n  if (cn(t) || void 0 !== t.calendar || void 0 !== t.timeZone) {\n    throw new TypeError(i);\n  }\n  return t;\n}\n\nfunction getCalendarIdFromBag(t) {\n  return extractCalendarIdFromBag(t) || l;\n}\n\nfunction extractCalendarIdFromBag(t) {\n  const {calendar: e} = t;\n  if (void 0 !== e) {\n    return refineCalendarArg(e);\n  }\n}\n\nfunction refineCalendarArg(t) {\n  if (s(t)) {\n    const {calendar: e} = cn(t) || {};\n    if (!e) {\n      throw new TypeError(c(t));\n    }\n    return e;\n  }\n  return (t => u(f(m(t))))(t);\n}\n\nfunction createCalendarGetters(t) {\n  const e = {};\n  for (const n in t) {\n    e[n] = t => {\n      const {calendar: e} = t;\n      return C(e)[n](t);\n    };\n  }\n  return e;\n}\n\nfunction neverValueOf() {\n  throw new TypeError(b);\n}\n\nfunction refineTimeZoneArg(t) {\n  if (s(t)) {\n    const {timeZone: e} = cn(t) || {};\n    if (!e) {\n      throw new TypeError(F(t));\n    }\n    return e;\n  }\n  return (t => M(Z(m(t))))(t);\n}\n\nfunction toDurationSlots(t) {\n  if (s(t)) {\n    const e = cn(t);\n    return e && e.branding === N ? e : q(t);\n  }\n  return R(t);\n}\n\nfunction refinePublicRelativeTo(t) {\n  if (void 0 !== t) {\n    if (s(t)) {\n      const e = cn(t) || {};\n      switch (e.branding) {\n       case z:\n       case G:\n        return e;\n\n       case x:\n        return W(e);\n      }\n      const n = getCalendarIdFromBag(t);\n      return {\n        ...$(refineTimeZoneArg, L, C(n), t),\n        calendar: n\n      };\n    }\n    return H(t);\n  }\n}\n\nfunction toPlainTimeSlots(t, e) {\n  if (s(t)) {\n    const n = cn(t) || {};\n    switch (n.branding) {\n     case ft:\n      return mt(e), n;\n\n     case x:\n      return mt(e), St(n);\n\n     case z:\n      return mt(e), dt(L, n);\n    }\n    return Tt(t, e);\n  }\n  const n = ht(t);\n  return mt(e), n;\n}\n\nfunction optionalToPlainTimeFields(t) {\n  return void 0 === t ? void 0 : toPlainTimeSlots(t);\n}\n\nfunction toPlainDateTimeSlots(t, e) {\n  if (s(t)) {\n    const n = cn(t) || {};\n    switch (n.branding) {\n     case x:\n      return mt(e), n;\n\n     case G:\n      return mt(e), jt({\n        ...n,\n        ...Nt\n      });\n\n     case z:\n      return mt(e), yt(L, n);\n    }\n    return At(C(getCalendarIdFromBag(t)), t, e);\n  }\n  const n = Bt(t);\n  return mt(e), n;\n}\n\nfunction toPlainMonthDaySlots(t, e) {\n  if (s(t)) {\n    const n = cn(t);\n    if (n && n.branding === qt) {\n      return mt(e), n;\n    }\n    const o = extractCalendarIdFromBag(t);\n    return Rt(C(o || l), !o, t, e);\n  }\n  const n = xt(C, t);\n  return mt(e), n;\n}\n\nfunction toPlainYearMonthSlots(t, e) {\n  if (s(t)) {\n    const n = cn(t);\n    return n && n.branding === Ut ? (mt(e), n) : Xt(C(getCalendarIdFromBag(t)), t, e);\n  }\n  const n = _t(C, t);\n  return mt(e), n;\n}\n\nfunction toPlainDateSlots(t, e) {\n  if (s(t)) {\n    const n = cn(t) || {};\n    switch (n.branding) {\n     case G:\n      return mt(e), n;\n\n     case x:\n      return mt(e), W(n);\n\n     case z:\n      return mt(e), fe(L, n);\n    }\n    return me(C(getCalendarIdFromBag(t)), t, e);\n  }\n  const n = de(t);\n  return mt(e), n;\n}\n\nfunction toZonedDateTimeSlots(t, e) {\n  if (s(t)) {\n    const n = cn(t);\n    if (n && n.branding === z) {\n      return je(e), n;\n    }\n    const o = getCalendarIdFromBag(t);\n    return Ne(refineTimeZoneArg, L, C(o), o, t, e);\n  }\n  return Ae(t, e);\n}\n\nfunction adaptDateMethods(t) {\n  return e((t => e => t(slotsToIso(e))), t);\n}\n\nfunction slotsToIso(t) {\n  return he(t, L);\n}\n\nfunction toInstantSlots(t) {\n  if (s(t)) {\n    const e = cn(t);\n    if (e) {\n      switch (e.branding) {\n       case Re:\n        return e;\n\n       case z:\n        return xe(e.epochNanoseconds);\n      }\n    }\n  }\n  return We(t);\n}\n\nfunction toTemporalInstant() {\n  const t = Date.prototype.valueOf.call(this);\n  return Kn(xe(Ge(ze(t), Qe)));\n}\n\nfunction createDateTimeFormatClass() {\n  function DateTimeFormatFunc(t, e) {\n    return new DateTimeFormatNew(t, e);\n  }\n  function DateTimeFormatNew(t, e = Object.create(null)) {\n    to.set(this, ((t, e) => {\n      const n = new en(t, e), o = n.resolvedOptions(), r = o.locale, a = nn(Object.keys(e), o), i = on(createFormatPrepperForBranding), prepFormat = (t, ...e) => {\n        if (t) {\n          if (2 !== e.length) {\n            throw new TypeError(ln);\n          }\n          for (const t of e) {\n            if (void 0 === t) {\n              throw new TypeError(ln);\n            }\n          }\n        }\n        t || void 0 !== e[0] || (e = []);\n        const o = e.map((t => cn(t) || Number(t)));\n        let l, s = 0;\n        for (const t of o) {\n          const e = \"object\" == typeof t ? t.branding : void 0;\n          if (s++ && e !== l) {\n            throw new TypeError(ln);\n          }\n          l = e;\n        }\n        return l ? i(l)(r, a, ...o) : [ n, ...o ];\n      };\n      return prepFormat.X = n, prepFormat;\n    })(t, e));\n  }\n  const t = en.prototype, e = Object.getOwnPropertyDescriptors(t), n = Object.getOwnPropertyDescriptors(en);\n  for (const t in e) {\n    const n = e[t], o = t.startsWith(\"format\") && createFormatMethod(t);\n    \"function\" == typeof n.value ? n.value = \"constructor\" === t ? DateTimeFormatFunc : o || createProxiedMethod(t) : o && (n.get = function() {\n      if (!to.has(this)) {\n        throw new TypeError(a);\n      }\n      return (...t) => o.apply(this, t);\n    }, Object.defineProperties(n.get, r(`get ${t}`)));\n  }\n  return n.prototype.value = DateTimeFormatNew.prototype = Object.create({}, e), Object.defineProperties(DateTimeFormatFunc, n), \n  DateTimeFormatFunc;\n}\n\nfunction createFormatMethod(t) {\n  return Object.defineProperties((function(...e) {\n    const n = to.get(this), [o, ...r] = n(t.includes(\"Range\"), ...e);\n    return o[t](...r);\n  }), r(t));\n}\n\nfunction createProxiedMethod(t) {\n  return Object.defineProperties((function(...e) {\n    return to.get(this).X[t](...e);\n  }), r(t));\n}\n\nfunction createFormatPrepperForBranding(t) {\n  const e = Cn[t];\n  if (!e) {\n    throw new TypeError(rn(t));\n  }\n  return Q(e, on(an), 1);\n}\n\nimport { createGetterDescriptors as t, mapProps as e, createPropDescriptors as n, createStringTagDescriptors as o, createNameDescriptors as r, invalidCallingContext as a, invalidBag as i, isoCalendarId as l, isObjectLike as s, invalidCalendar as c, resolveCalendarId as u, parseCalendarId as f, requireString as m, requireStringOrUndefined as d, requireIntegerOrUndefined as S, requireInteger as T, requirePositiveInteger as h, requireBoolean as D, requirePositiveIntegerOrUndefined as P, mapPropNames as g, durationFieldNamesAsc as p, timeFieldNamesAsc as O, isoTimeFieldNamesAsc as w, getEpochMilli as I, getEpochNano as v, createNativeStandardOps as C, forbiddenValueOf as b, invalidTimeZone as F, resolveTimeZoneId as M, parseTimeZoneId as Z, getDurationBlank as y, constructDurationSlots as j, DurationBranding as N, durationWithFields as A, negateDuration as B, absDuration as Y, addDurations as E, queryNativeTimeZone as L, roundDuration as V, totalDuration as J, formatDurationIso as k, refineDurationBag as q, parseDuration as R, PlainDateTimeBranding as x, createPlainDateSlots as W, PlainDateBranding as G, ZonedDateTimeBranding as z, refineMaybeZonedDateTimeBag as $, parseRelativeToSlots as H, compareDurations as K, createFormatPrepper as Q, instantConfig as U, dateTimeConfig as X, dateConfig as _, timeConfig as tt, yearMonthConfig as et, monthDayConfig as nt, zonedConfig as ot, plainTimeWithFields as rt, movePlainTime as at, diffPlainTimes as it, roundPlainTime as lt, plainTimesEqual as st, formatPlainTimeIso as ct, constructPlainTimeSlots as ut, PlainTimeBranding as ft, refineOverflowOptions as mt, zonedDateTimeToPlainTime as dt, createPlainTimeSlots as St, refinePlainTimeBag as Tt, parsePlainTime as ht, compareIsoTimeFields as Dt, bindArgs as Pt, plainDateTimeWithFields as gt, slotsWithCalendarId as pt, plainDateTimeWithPlainTime as Ot, movePlainDateTime as wt, diffPlainDateTimes as It, roundPlainDateTime as vt, plainDateTimesEqual as Ct, plainDateTimeToZonedDateTime as bt, formatPlainDateTimeIso as Ft, refineCalendarId as Mt, constructPlainDateTimeSlots as Zt, zonedDateTimeToPlainDateTime as yt, createPlainDateTimeSlots as jt, isoTimeFieldDefaults as Nt, refinePlainDateTimeBag as At, parsePlainDateTime as Bt, compareIsoDateTimeFields as Yt, plainMonthDayWithFields as Et, plainMonthDaysEqual as Lt, plainMonthDayToPlainDate as Vt, formatPlainMonthDayIso as Jt, constructPlainMonthDaySlots as kt, PlainMonthDayBranding as qt, refinePlainMonthDayBag as Rt, parsePlainMonthDay as xt, plainYearMonthWithFields as Wt, movePlainYearMonth as Gt, diffPlainYearMonth as zt, plainYearMonthsEqual as $t, plainYearMonthToPlainDate as Ht, formatPlainYearMonthIso as Kt, constructPlainYearMonthSlots as Qt, PlainYearMonthBranding as Ut, refinePlainYearMonthBag as Xt, parsePlainYearMonth as _t, compareIsoDateFields as te, plainDateWithFields as ee, movePlainDate as ne, diffPlainDates as oe, plainDatesEqual as re, plainDateToZonedDateTime as ae, plainDateToPlainDateTime as ie, plainDateToPlainYearMonth as le, plainDateToPlainMonthDay as se, formatPlainDateIso as ce, constructPlainDateSlots as ue, zonedDateTimeToPlainDate as fe, refinePlainDateBag as me, parsePlainDate as de, formatOffsetNano as Se, computeZonedHoursInDay as Te, zonedEpochSlotsToIso as he, zonedDateTimeWithFields as De, slotsWithTimeZoneId as Pe, zonedDateTimeWithPlainTime as ge, moveZonedDateTime as pe, createDurationSlots as Oe, diffZonedDateTimes as we, roundZonedDateTime as Ie, computeZonedStartOfDay as ve, zonedDateTimesEqual as Ce, zonedDateTimeToInstant as be, formatZonedDateTimeIso as Fe, refineDirectionOptions as Me, refineTimeZoneId as Ze, constructZonedDateTimeSlots as ye, refineZonedFieldOptions as je, refineZonedDateTimeBag as Ne, parseZonedDateTime as Ae, compareZonedDateTimes as Be, moveInstant as Ye, diffInstants as Ee, roundInstant as Le, instantsEqual as Ve, instantToZonedDateTime as Je, formatInstantIso as ke, constructInstantSlots as qe, InstantBranding as Re, createInstantSlots as xe, parseInstant as We, numberToBigNano as Ge, requireNumberIsInteger as ze, epochMilliToInstant as $e, epochNanoToInstant as He, compareInstants as Ke, nanoInMilli as Qe, getCurrentTimeZoneId as Ue, getCurrentEpochNano as Xe, createZonedDateTimeSlots as _e, getCurrentIsoDateTime as tn, RawDateTimeFormat as en, pluckProps as nn, memoize as on, invalidFormatType as rn, createFormatForPrep as an, mismatchingFormatTypes as ln } from \"./internal.js\";\n\nconst sn = /*@__PURE__*/ new WeakMap, cn = /*@__PURE__*/ sn.get.bind(sn), un = /*@__PURE__*/ sn.set.bind(sn), fn = {\n  era: d,\n  eraYear: S,\n  year: T,\n  month: h,\n  daysInMonth: h,\n  daysInYear: h,\n  inLeapYear: D,\n  monthsInYear: h\n}, mn = {\n  monthCode: m\n}, dn = {\n  day: h\n}, Sn = {\n  dayOfWeek: h,\n  dayOfYear: h,\n  weekOfYear: P,\n  yearOfWeek: S,\n  daysInWeek: h\n}, Tn = /*@__PURE__*/ createCalendarGetters(/*@__PURE__*/ Object.assign({}, fn, mn, dn, Sn)), hn = /*@__PURE__*/ createCalendarGetters({\n  ...fn,\n  ...mn\n}), Dn = /*@__PURE__*/ createCalendarGetters({\n  ...mn,\n  ...dn\n}), Pn = {\n  calendarId: t => t.calendar\n}, gn = /*@__PURE__*/ g((t => e => e[t]), p.concat(\"sign\")), pn = /*@__PURE__*/ g(((t, e) => t => t[w[e]]), O), On = {\n  epochMilliseconds: I,\n  epochNanoseconds: v\n}, [wn, In, vn] = createSlotClass(N, j, {\n  ...gn,\n  blank: y\n}, {\n  with: (t, e) => In(A(t, e)),\n  negated: t => In(B(t)),\n  abs: t => In(Y(t)),\n  add: (t, e, n) => In(E(refinePublicRelativeTo, C, L, 0, t, toDurationSlots(e), n)),\n  subtract: (t, e, n) => In(E(refinePublicRelativeTo, C, L, 1, t, toDurationSlots(e), n)),\n  round: (t, e) => In(V(refinePublicRelativeTo, C, L, t, e)),\n  total: (t, e) => J(refinePublicRelativeTo, C, L, t, e),\n  toLocaleString(t, e, n) {\n    return Intl.DurationFormat ? new Intl.DurationFormat(e, n).format(this) : k(t);\n  },\n  toString: k,\n  toJSON: t => k(t),\n  valueOf: neverValueOf\n}, {\n  from: t => In(toDurationSlots(t)),\n  compare: (t, e, n) => K(refinePublicRelativeTo, C, L, toDurationSlots(t), toDurationSlots(e), n)\n}), Cn = {\n  Instant: U,\n  PlainDateTime: X,\n  PlainDate: _,\n  PlainTime: tt,\n  PlainYearMonth: et,\n  PlainMonthDay: nt\n}, bn = /*@__PURE__*/ Q(U), Fn = /*@__PURE__*/ Q(ot), Mn = /*@__PURE__*/ Q(X), Zn = /*@__PURE__*/ Q(_), yn = /*@__PURE__*/ Q(tt), jn = /*@__PURE__*/ Q(et), Nn = /*@__PURE__*/ Q(nt), [An, Bn] = createSlotClass(ft, ut, pn, {\n  with(t, e, n) {\n    return Bn(rt(this, rejectInvalidBag(e), n));\n  },\n  add: (t, e) => Bn(at(0, t, toDurationSlots(e))),\n  subtract: (t, e) => Bn(at(1, t, toDurationSlots(e))),\n  until: (t, e, n) => In(it(0, t, toPlainTimeSlots(e), n)),\n  since: (t, e, n) => In(it(1, t, toPlainTimeSlots(e), n)),\n  round: (t, e) => Bn(lt(t, e)),\n  equals: (t, e) => st(t, toPlainTimeSlots(e)),\n  toLocaleString(t, e, n) {\n    const [o, r] = yn(e, n, t);\n    return o.format(r);\n  },\n  toString: ct,\n  toJSON: t => ct(t),\n  valueOf: neverValueOf\n}, {\n  from: (t, e) => Bn(toPlainTimeSlots(t, e)),\n  compare: (t, e) => Dt(toPlainTimeSlots(t), toPlainTimeSlots(e))\n}), [Yn, En] = createSlotClass(x, Pt(Zt, Mt), {\n  ...Pn,\n  ...Tn,\n  ...pn\n}, {\n  with: (t, e, n) => En(gt(C, t, rejectInvalidBag(e), n)),\n  withCalendar: (t, e) => En(pt(t, refineCalendarArg(e))),\n  withPlainTime: (t, e) => En(Ot(t, optionalToPlainTimeFields(e))),\n  add: (t, e, n) => En(wt(C, 0, t, toDurationSlots(e), n)),\n  subtract: (t, e, n) => En(wt(C, 1, t, toDurationSlots(e), n)),\n  until: (t, e, n) => In(It(C, 0, t, toPlainDateTimeSlots(e), n)),\n  since: (t, e, n) => In(It(C, 1, t, toPlainDateTimeSlots(e), n)),\n  round: (t, e) => En(vt(t, e)),\n  equals: (t, e) => Ct(t, toPlainDateTimeSlots(e)),\n  toZonedDateTime: (t, e, n) => $n(bt(L, t, refineTimeZoneArg(e), n)),\n  toPlainDate: t => Wn(W(t)),\n  toPlainTime: t => Bn(St(t)),\n  toLocaleString(t, e, n) {\n    const [o, r] = Mn(e, n, t);\n    return o.format(r);\n  },\n  toString: Ft,\n  toJSON: t => Ft(t),\n  valueOf: neverValueOf\n}, {\n  from: (t, e) => En(toPlainDateTimeSlots(t, e)),\n  compare: (t, e) => Yt(toPlainDateTimeSlots(t), toPlainDateTimeSlots(e))\n}), [Ln, Vn, Jn] = createSlotClass(qt, Pt(kt, Mt), {\n  ...Pn,\n  ...Dn\n}, {\n  with: (t, e, n) => Vn(Et(C, t, rejectInvalidBag(e), n)),\n  equals: (t, e) => Lt(t, toPlainMonthDaySlots(e)),\n  toPlainDate(t, e) {\n    return Wn(Vt(C, t, this, e));\n  },\n  toLocaleString(t, e, n) {\n    const [o, r] = Nn(e, n, t);\n    return o.format(r);\n  },\n  toString: Jt,\n  toJSON: t => Jt(t),\n  valueOf: neverValueOf\n}, {\n  from: (t, e) => Vn(toPlainMonthDaySlots(t, e))\n}), [kn, qn, Rn] = createSlotClass(Ut, Pt(Qt, Mt), {\n  ...Pn,\n  ...hn\n}, {\n  with: (t, e, n) => qn(Wt(C, t, rejectInvalidBag(e), n)),\n  add: (t, e, n) => qn(Gt(C, 0, t, toDurationSlots(e), n)),\n  subtract: (t, e, n) => qn(Gt(C, 1, t, toDurationSlots(e), n)),\n  until: (t, e, n) => In(zt(C, 0, t, toPlainYearMonthSlots(e), n)),\n  since: (t, e, n) => In(zt(C, 1, t, toPlainYearMonthSlots(e), n)),\n  equals: (t, e) => $t(t, toPlainYearMonthSlots(e)),\n  toPlainDate(t, e) {\n    return Wn(Ht(C, t, this, e));\n  },\n  toLocaleString(t, e, n) {\n    const [o, r] = jn(e, n, t);\n    return o.format(r);\n  },\n  toString: Kt,\n  toJSON: t => Kt(t),\n  valueOf: neverValueOf\n}, {\n  from: (t, e) => qn(toPlainYearMonthSlots(t, e)),\n  compare: (t, e) => te(toPlainYearMonthSlots(t), toPlainYearMonthSlots(e))\n}), [xn, Wn, Gn] = createSlotClass(G, Pt(ue, Mt), {\n  ...Pn,\n  ...Tn\n}, {\n  with: (t, e, n) => Wn(ee(C, t, rejectInvalidBag(e), n)),\n  withCalendar: (t, e) => Wn(pt(t, refineCalendarArg(e))),\n  add: (t, e, n) => Wn(ne(C, 0, t, toDurationSlots(e), n)),\n  subtract: (t, e, n) => Wn(ne(C, 1, t, toDurationSlots(e), n)),\n  until: (t, e, n) => In(oe(C, 0, t, toPlainDateSlots(e), n)),\n  since: (t, e, n) => In(oe(C, 1, t, toPlainDateSlots(e), n)),\n  equals: (t, e) => re(t, toPlainDateSlots(e)),\n  toZonedDateTime(t, e) {\n    const n = s(e) ? e : {\n      timeZone: e\n    };\n    return $n(ae(refineTimeZoneArg, toPlainTimeSlots, L, t, n));\n  },\n  toPlainDateTime: (t, e) => En(ie(t, optionalToPlainTimeFields(e))),\n  toPlainYearMonth(t) {\n    return qn(le(C, t, this));\n  },\n  toPlainMonthDay(t) {\n    return Vn(se(C, t, this));\n  },\n  toLocaleString(t, e, n) {\n    const [o, r] = Zn(e, n, t);\n    return o.format(r);\n  },\n  toString: ce,\n  toJSON: t => ce(t),\n  valueOf: neverValueOf\n}, {\n  from: (t, e) => Wn(toPlainDateSlots(t, e)),\n  compare: (t, e) => te(toPlainDateSlots(t), toPlainDateSlots(e))\n}), [zn, $n] = createSlotClass(z, Pt(ye, Mt, Ze), {\n  ...On,\n  ...Pn,\n  ...adaptDateMethods(Tn),\n  ...adaptDateMethods(pn),\n  offset: t => Se(slotsToIso(t).offsetNanoseconds),\n  offsetNanoseconds: t => slotsToIso(t).offsetNanoseconds,\n  timeZoneId: t => t.timeZone,\n  hoursInDay: t => Te(L, t)\n}, {\n  with: (t, e, n) => $n(De(C, L, t, rejectInvalidBag(e), n)),\n  withCalendar: (t, e) => $n(pt(t, refineCalendarArg(e))),\n  withTimeZone: (t, e) => $n(Pe(t, refineTimeZoneArg(e))),\n  withPlainTime: (t, e) => $n(ge(L, t, optionalToPlainTimeFields(e))),\n  add: (t, e, n) => $n(pe(C, L, 0, t, toDurationSlots(e), n)),\n  subtract: (t, e, n) => $n(pe(C, L, 1, t, toDurationSlots(e), n)),\n  until: (t, e, n) => In(Oe(we(C, L, 0, t, toZonedDateTimeSlots(e), n))),\n  since: (t, e, n) => In(Oe(we(C, L, 1, t, toZonedDateTimeSlots(e), n))),\n  round: (t, e) => $n(Ie(L, t, e)),\n  startOfDay: t => $n(ve(L, t)),\n  equals: (t, e) => Ce(t, toZonedDateTimeSlots(e)),\n  toInstant: t => Kn(be(t)),\n  toPlainDateTime: t => En(yt(L, t)),\n  toPlainDate: t => Wn(fe(L, t)),\n  toPlainTime: t => Bn(dt(L, t)),\n  toLocaleString(t, e, n = {}) {\n    const [o, r] = Fn(e, n, t);\n    return o.format(r);\n  },\n  toString: (t, e) => Fe(L, t, e),\n  toJSON: t => Fe(L, t),\n  valueOf: neverValueOf,\n  getTimeZoneTransition(t, e) {\n    const {timeZone: n, epochNanoseconds: o} = t, r = Me(e), a = L(n).O(o, r);\n    return a ? $n({\n      ...t,\n      epochNanoseconds: a\n    }) : null;\n  }\n}, {\n  from: (t, e) => $n(toZonedDateTimeSlots(t, e)),\n  compare: (t, e) => Be(toZonedDateTimeSlots(t), toZonedDateTimeSlots(e))\n}), [Hn, Kn, Qn] = createSlotClass(Re, qe, On, {\n  add: (t, e) => Kn(Ye(0, t, toDurationSlots(e))),\n  subtract: (t, e) => Kn(Ye(1, t, toDurationSlots(e))),\n  until: (t, e, n) => In(Ee(0, t, toInstantSlots(e), n)),\n  since: (t, e, n) => In(Ee(1, t, toInstantSlots(e), n)),\n  round: (t, e) => Kn(Le(t, e)),\n  equals: (t, e) => Ve(t, toInstantSlots(e)),\n  toZonedDateTimeISO: (t, e) => $n(Je(t, refineTimeZoneArg(e))),\n  toLocaleString(t, e, n) {\n    const [o, r] = bn(e, n, t);\n    return o.format(r);\n  },\n  toString: (t, e) => ke(refineTimeZoneArg, L, t, e),\n  toJSON: t => ke(refineTimeZoneArg, L, t),\n  valueOf: neverValueOf\n}, {\n  from: t => Kn(toInstantSlots(t)),\n  fromEpochMilliseconds: t => Kn($e(t)),\n  fromEpochNanoseconds: t => Kn(He(t)),\n  compare: (t, e) => Ke(toInstantSlots(t), toInstantSlots(e))\n}), Un = /*@__PURE__*/ Object.defineProperties({}, {\n  ...o(\"Temporal.Now\"),\n  ...n({\n    timeZoneId: () => Ue(),\n    instant: () => Kn(xe(Xe())),\n    zonedDateTimeISO: (t = Ue()) => $n(_e(Xe(), refineTimeZoneArg(t), l)),\n    plainDateTimeISO: (t = Ue()) => En(jt(tn(L(refineTimeZoneArg(t))), l)),\n    plainDateISO: (t = Ue()) => Wn(W(tn(L(refineTimeZoneArg(t))), l)),\n    plainTimeISO: (t = Ue()) => Bn(St(tn(L(refineTimeZoneArg(t)))))\n  })\n}), Xn = /*@__PURE__*/ Object.defineProperties({}, {\n  ...o(\"Temporal\"),\n  ...n({\n    PlainYearMonth: kn,\n    PlainMonthDay: Ln,\n    PlainDate: xn,\n    PlainTime: An,\n    PlainDateTime: Yn,\n    ZonedDateTime: zn,\n    Instant: Hn,\n    Duration: wn,\n    Now: Un\n  })\n}), _n = /*@__PURE__*/ createDateTimeFormatClass(), to = /*@__PURE__*/ new WeakMap, eo = /*@__PURE__*/ Object.defineProperties(Object.create(Intl), n({\n  DateTimeFormat: _n\n}));\n\nexport { _n as DateTimeFormat, eo as IntlExtended, Xn as Temporal, toTemporalInstant };\n","import 'temporal-polyfill/global';\n/**\n * java.lang.Math.toRadians\n * @private\n * @param degrees\n */\nfunction degreesToRadians(degrees) {\n    return (degrees * Math.PI) / 180;\n}\n/**\n * java.lang.Math.toDegrees\n * @private\n * @param radians\n */\nfunction radiansToDegrees(radians) {\n    return (radians * 180) / Math.PI;\n}\n/**\n * A class that contains location information such as latitude and longitude required for astronomical calculations. The\n * elevation field may not be used by some calculation engines and would be ignored if set.\n *\n * @author &copy; Eliyahu Hershfeld 2004 - 2016\n * @version 1.1\n */\nexport class GeoLocation {\n    /**\n     * GeoLocation constructor with parameters for all required fields.\n     *\n     * @param {string} name\n     *            The location name for display use such as &quot;Lakewood, NJ&quot;\n     * @param {number} latitude\n     *            the latitude in a double format such as 40.095965 for Lakewood, NJ.\n     *            <b>Note: </b> For latitudes south of the equator, a negative value should be used.\n     * @param {number} longitude\n     *            double the longitude in a double format such as -74.222130 for Lakewood, NJ.\n     *            <b>Note: </b> For longitudes west of the <a href=\"http://en.wikipedia.org/wiki/Prime_Meridian\">Prime\n     *            Meridian </a> (Greenwich), a negative value should be used.\n     * @param {number} elevation\n     *            the elevation above sea level in Meters. Elevation is not used in most algorithms used for calculating\n     *            sunrise and set.\n     * @param {string} timeZoneId\n     *            the <code>TimeZone</code> for the location.\n     */\n    constructor(name, latitude, longitude, elevation, timeZoneId) {\n        /**\n         * @private\n         */\n        this.locationName = null;\n        this.setLocationName(name);\n        this.setLatitude(latitude);\n        this.setLongitude(longitude);\n        this.setElevation(elevation);\n        this.setTimeZone(timeZoneId);\n    }\n    /**\n     * Method to get the elevation in Meters.\n     *\n     * @return {number} Returns the elevation in Meters.\n     */\n    getElevation() {\n        return this.elevation;\n    }\n    /**\n     * Method to set the elevation in Meters <b>above </b> sea level.\n     *\n     * @param {number} elevation\n     *            The elevation to set in Meters. An Error will be thrown if the value is a negative.\n     */\n    setElevation(elevation) {\n        if (typeof elevation !== 'number')\n            throw new TypeError('Invalid elevation');\n        if (elevation < 0) {\n            throw new RangeError(`elevation ${elevation} must be zero or positive`);\n        }\n        this.elevation = elevation;\n    }\n    setLatitude(latitude) {\n        if (typeof latitude !== 'number')\n            throw new TypeError('Invalid latitude');\n        if (latitude < -90 || latitude > 90) {\n            throw new RangeError(`Latitude ${latitude} out of range [-90,90]`);\n        }\n        this.latitude = latitude;\n    }\n    /**\n     * @return {number} Returns the latitude.\n     */\n    getLatitude() {\n        return this.latitude;\n    }\n    setLongitude(longitude) {\n        if (typeof longitude !== 'number')\n            throw new TypeError('Invalid longitude');\n        if (longitude < -180 || longitude > 180) {\n            throw new RangeError(`Longitude ${longitude} out of range [-180,180]`);\n        }\n        this.longitude = longitude;\n    }\n    /**\n     * @return {number} Returns the longitude.\n     */\n    getLongitude() {\n        return this.longitude;\n    }\n    /**\n     * @return {string|null} Returns the location name.\n     */\n    getLocationName() {\n        return this.locationName;\n    }\n    /**\n     * @param {string|null} name\n     *            The setter method for the display name.\n     */\n    setLocationName(name) {\n        this.locationName = name;\n    }\n    /**\n     * @return {string} Returns the timeZone.\n     */\n    getTimeZone() {\n        return this.timeZoneId;\n    }\n    /**\n     * Method to set the TimeZone.\n     * @param {string} timeZoneId\n     *            The timeZone to set.\n     */\n    setTimeZone(timeZoneId) {\n        if (!timeZoneId) {\n            throw new RangeError('Invalid timeZoneId');\n        }\n        this.timeZoneId = timeZoneId;\n    }\n}\n/**\n * The commonly used average solar refraction. Calendrical Calculations lists a more accurate global average of\n * 34.478885263888294\n * @private\n */\nconst refraction = 34 / 60;\n// private double refraction = 34.478885263888294 / 60d;\n/**\n * The commonly used average solar radius in minutes of a degree.\n * @private\n */\nconst solarRadius = 16 / 60;\n/**\n * The commonly used average earth radius in KM. At this time, this only affects elevation adjustment and not the\n * sunrise and sunset calculations. The value currently defaults to 6356.9 KM.\n * @private\n */\nconst earthRadius = 6356.9; // in KM\n/**\n * Implementation of sunrise and sunset methods to calculate astronomical times based on the <a\n * href=\"http://noaa.gov\">NOAA</a> algorithm. This calculator uses the Java algorithm based on the implementation by <a\n * href=\"http://noaa.gov\">NOAA - National Oceanic and Atmospheric Administration</a>'s <a href =\n * \"http://www.srrb.noaa.gov/highlights/sunrise/sunrise.html\">Surface Radiation Research Branch</a>. NOAA's <a\n * href=\"http://www.srrb.noaa.gov/highlights/sunrise/solareqns.PDF\">implementation</a> is based on equations from <a\n * href=\"http://www.willbell.com/math/mc1.htm\">Astronomical Algorithms</a> by <a\n * href=\"http://en.wikipedia.org/wiki/Jean_Meeus\">Jean Meeus</a>. Added to the algorithm is an adjustment of the zenith\n * to account for elevation. The algorithm can be found in the <a\n * href=\"http://en.wikipedia.org/wiki/Sunrise_equation\">Wikipedia Sunrise Equation</a> article.\n *\n * @author &copy; Eliyahu Hershfeld 2011 - 2019\n */\nexport class NOAACalculator {\n    /**\n     * A constructor that takes in <a href=\"http://en.wikipedia.org/wiki/Geolocation\">geolocation</a> information as a\n     * parameter.\n     *\n     * @param {GeoLocation} geoLocation\n     *            The location information used for calculating astronomical sun times.\n     * @param {Temporal.PlainDate} date\n     */\n    constructor(geoLocation, date) {\n        this.date = date;\n        this.geoLocation = geoLocation;\n    }\n    /**\n     * The getSunrise method Returns a `Date` representing the\n     * {@link getElevationAdjustment elevation adjusted} sunrise time. The zenith used\n     * for the calculation uses {@link GEOMETRIC_ZENITH geometric zenith} of 90&deg; plus\n     * {@link getElevationAdjustment}. This is adjusted\n     * to add approximately 50/60 of a degree to account for 34 archminutes of refraction\n     * and 16 archminutes for the sun's radius for a total of {@link adjustZenith 90.83333&deg;}.\n     *\n     * @return {Temporal.ZonedDateTime | null} the `Date` representing the exact sunrise time. If the calculation can't be computed such as\n     *         in the Arctic Circle where there is at least one day a year where the sun does not rise, and one where it\n     *         does not set, a null will be returned. See detailed explanation on top of the page.\n     * @see adjustZenith\n     * @see getSeaLevelSunrise()\n     * @see getUTCSunrise\n     */\n    getSunrise() {\n        const sunrise = this.getUTCSunrise0(NOAACalculator.GEOMETRIC_ZENITH);\n        if (isNaN(sunrise))\n            return null;\n        return this.getDateFromTime(sunrise, true);\n    }\n    /**\n     * A method that returns the sunrise without {@link getElevationAdjustment elevation\n     * adjustment}. Non-sunrise and sunset calculations such as dawn and dusk, depend on the amount of visible light,\n     * something that is not affected by elevation. This method returns sunrise calculated at sea level. This forms the\n     * base for dawn calculations that are calculated as a dip below the horizon before sunrise.\n     *\n     * @return {Temporal.ZonedDateTime | null} the `Date` representing the exact sea-level sunrise time. If the calculation can't be computed\n     *         such as in the Arctic Circle where there is at least one day a year where the sun does not rise, and one\n     *         where it does not set, a null will be returned. See detailed explanation on top of the page.\n     * @see getSunrise\n     * @see getUTCSeaLevelSunrise\n     * @see getSeaLevelSunset()\n     */\n    getSeaLevelSunrise() {\n        const sunrise = this.getUTCSeaLevelSunrise(NOAACalculator.GEOMETRIC_ZENITH);\n        if (isNaN(sunrise))\n            return null;\n        return this.getDateFromTime(sunrise, true);\n    }\n    /**\n     * A method that returns the beginning of civil twilight (dawn) using a zenith of {@link CIVIL_ZENITH 96&deg;}.\n     *\n     * @return {Temporal.ZonedDateTime | null} The `Date` of the beginning of civil twilight using a zenith of 96&deg;. If the calculation\n     *         can't be computed, null will be returned. See detailed explanation on top of the page.\n     * @see CIVIL_ZENITH\n     */\n    getBeginCivilTwilight() {\n        return this.getSunriseOffsetByDegrees(NOAACalculator.CIVIL_ZENITH);\n    }\n    /**\n     * A method that returns the beginning of nautical twilight using a zenith of {@link NAUTICAL_ZENITH 102&deg;}.\n     *\n     * @return {Temporal.ZonedDateTime | null} The `Date` of the beginning of nautical twilight using a zenith of 102&deg;. If the\n     *         calculation can't be computed null will be returned. See detailed explanation on top of the page.\n     * @see NAUTICAL_ZENITH\n     */\n    getBeginNauticalTwilight() {\n        return this.getSunriseOffsetByDegrees(NOAACalculator.NAUTICAL_ZENITH);\n    }\n    /**\n     * A method that returns the beginning of astronomical twilight using a zenith of {@link ASTRONOMICAL_ZENITH\n     * 108&deg;}.\n     *\n     * @return {Temporal.ZonedDateTime | null} The `Date` of the beginning of astronomical twilight using a zenith of 108&deg;. If the\n     *         calculation can't be computed, null will be returned. See detailed explanation on top of the page.\n     * @see ASTRONOMICAL_ZENITH\n     */\n    getBeginAstronomicalTwilight() {\n        return this.getSunriseOffsetByDegrees(NOAACalculator.ASTRONOMICAL_ZENITH);\n    }\n    /**\n     * The getSunset method Returns a `Date` representing the\n     * {@link getElevationAdjustment elevation adjusted} sunset time. The zenith used for\n     * the calculation uses {@link GEOMETRIC_ZENITH geometric zenith} of 90&deg; plus\n     * {@link getElevationAdjustment}. This is adjusted\n     * to add approximately 50/60 of a degree to account for 34 archminutes of refraction\n     * and 16 archminutes for the sun's radius for a total of {@link adjustZenith 90.83333&deg;}.\n     * Note:\n     * In certain cases the calculates sunset will occur before sunrise. This will typically happen when a timezone\n     * other than the local timezone is used (calculating Los Angeles sunset using a GMT timezone for example). In this\n     * case the sunset date will be incremented to the following date.\n     *\n     * @return {Temporal.ZonedDateTime | null} The `Date` representing the exact sunset time. If the calculation can't be computed such as in\n     *         the Arctic Circle where there is at least one day a year where the sun does not rise, and one where it\n     *         does not set, a null will be returned. See detailed explanation on top of the page.\n     * @see adjustZenith\n     * @see getSeaLevelSunset()\n     * @see getUTCSunset\n     */\n    getSunset() {\n        const sunset = this.getUTCSunset0(NOAACalculator.GEOMETRIC_ZENITH);\n        if (isNaN(sunset))\n            return null;\n        return this.getDateFromTime(sunset, false);\n    }\n    /**\n     * A method that returns the sunset without {@link getElevationAdjustment elevation\n     * adjustment}. Non-sunrise and sunset calculations such as dawn and dusk, depend on the amount of visible light,\n     * something that is not affected by elevation. This method returns sunset calculated at sea level. This forms the\n     * base for dusk calculations that are calculated as a dip below the horizon after sunset.\n     *\n     * @return {Temporal.ZonedDateTime | null} The `Date` representing the exact sea-level sunset time. If the calculation can't be computed\n     *         such as in the Arctic Circle where there is at least one day a year where the sun does not rise, and one\n     *         where it does not set, a null will be returned. See detailed explanation on top of the page.\n     * @see getSunset\n     * @see getUTCSeaLevelSunset\n     */\n    getSeaLevelSunset() {\n        const sunset = this.getUTCSeaLevelSunset(NOAACalculator.GEOMETRIC_ZENITH);\n        if (isNaN(sunset))\n            return null;\n        return this.getDateFromTime(sunset, false);\n    }\n    /**\n     * A method that returns the end of civil twilight using a zenith of {@link CIVIL_ZENITH 96&deg;}.\n     *\n     * @return {Temporal.ZonedDateTime | null} The `Date` of the end of civil twilight using a zenith of {@link CIVIL_ZENITH 96&deg;}. If\n     *         the calculation can't be computed, null will be returned. See detailed explanation on top of the page.\n     * @see CIVIL_ZENITH\n     */\n    getEndCivilTwilight() {\n        return this.getSunsetOffsetByDegrees(NOAACalculator.CIVIL_ZENITH);\n    }\n    /**\n     * A method that returns the end of nautical twilight using a zenith of {@link NAUTICAL_ZENITH 102&deg;}.\n     *\n     * @return {Temporal.ZonedDateTime | null} The `Date` of the end of nautical twilight using a zenith of {@link NAUTICAL_ZENITH 102&deg;}\n     *         . If the calculation can't be computed, null will be returned. See detailed explanation on top of the\n     *         page.\n     * @see NAUTICAL_ZENITH\n     */\n    getEndNauticalTwilight() {\n        return this.getSunsetOffsetByDegrees(NOAACalculator.NAUTICAL_ZENITH);\n    }\n    /**\n     * A method that returns the end of astronomical twilight using a zenith of {@link ASTRONOMICAL_ZENITH 108&deg;}.\n     *\n     * @return {Temporal.ZonedDateTime | null} The `Date` of the end of astronomical twilight using a zenith of {@link ASTRONOMICAL_ZENITH\n     *         108&deg;}. If the calculation can't be computed, null will be returned. See detailed explanation on top\n     *         of the page.\n     * @see ASTRONOMICAL_ZENITH\n     */\n    getEndAstronomicalTwilight() {\n        return this.getSunsetOffsetByDegrees(NOAACalculator.ASTRONOMICAL_ZENITH);\n    }\n    /**\n     * A utility method that returns a date offset by the offset time passed in. Please note that the level of light\n     * during twilight is not affected by elevation, so if this is being used to calculate an offset before sunrise or\n     * after sunset with the intent of getting a rough \"level of light\" calculation, the sunrise or sunset time passed\n     * to this method should be sea level sunrise and sunset.\n     *\n     * @param {Temporal.ZonedDateTime | null} time\n     *            the start time\n     * @param {number} offset\n     *            the offset in milliseconds to add to the time.\n     * @return {Temporal.ZonedDateTime | null} the `Date` with the offset in milliseconds added to it\n     */\n    static getTimeOffset(time, offset) {\n        if (time === null || isNaN(offset)) {\n            return null;\n        }\n        return time.add({ milliseconds: offset });\n    }\n    /**\n     * A utility method that returns the time of an offset by degrees below or above the horizon of\n     * {@link getSunrise() sunrise}. Note that the degree offset is from the vertical, so for a calculation of 14&deg;\n     * before sunrise, an offset of 14 + {@link GEOMETRIC_ZENITH} = 104 would have to be passed as a parameter.\n     *\n     * @param {number} offsetZenith\n     *            the degrees before {@link getSunrise} to use in the calculation. For time after sunrise use\n     *            negative numbers. Note that the degree offset is from the vertical, so for a calculation of 14&deg;\n     *            before sunrise, an offset of 14 + {@link GEOMETRIC_ZENITH} = 104 would have to be passed as a\n     *            parameter.\n     * @return {Temporal.ZonedDateTime | null} The `Date` of the offset after (or before) {@link getSunrise}. If the calculation\n     *         can't be computed such as in the Arctic Circle where there is at least one day a year where the sun does\n     *         not rise, and one where it does not set, a null will be returned. See detailed explanation on top of the\n     *         page.\n     */\n    getSunriseOffsetByDegrees(offsetZenith) {\n        const dawn = this.getUTCSunrise0(offsetZenith);\n        if (isNaN(dawn))\n            return null;\n        return this.getDateFromTime(dawn, true);\n    }\n    /**\n     * A utility method that returns the time of an offset by degrees below or above the horizon of {@link getSunset()\n     * sunset}. Note that the degree offset is from the vertical, so for a calculation of 14&deg; after sunset, an\n     * offset of 14 + {@link GEOMETRIC_ZENITH} = 104 would have to be passed as a parameter.\n     *\n     * @param {number} offsetZenith\n     *            the degrees after {@link getSunset} to use in the calculation. For time before sunset use negative\n     *            numbers. Note that the degree offset is from the vertical, so for a calculation of 14&deg; after\n     *            sunset, an offset of 14 + {@link GEOMETRIC_ZENITH} = 104 would have to be passed as a parameter.\n     * @return {Temporal.ZonedDateTime | null} The `Date`of the offset after (or before) {@link getSunset}. If the calculation can't\n     *         be computed such as in the Arctic Circle where there is at least one day a year where the sun does not\n     *         rise, and one where it does not set, a null will be returned. See detailed explanation on top of the\n     *         page.\n     */\n    getSunsetOffsetByDegrees(offsetZenith) {\n        const sunset = this.getUTCSunset0(offsetZenith);\n        if (isNaN(sunset))\n            return null;\n        return this.getDateFromTime(sunset, false);\n    }\n    /**\n     * A method that returns the sunrise in UTC time without correction for time zone offset from GMT and without using\n     * daylight savings time.\n     *\n     * @param {number} zenith\n     *            the degrees below the horizon. For time after sunrise use negative numbers.\n     * @return {number} The time in the format: 18.75 for 18:45:00 UTC/GMT. If the calculation can't be computed such as in the\n     *         Arctic Circle where there is at least one day a year where the sun does not rise, and one where it does\n     *         not set, `NaN` will be returned. See detailed explanation on top of the page.\n     */\n    getUTCSunrise0(zenith) {\n        return this.getUTCSunrise(this.getAdjustedDate(), this.geoLocation, zenith, true);\n    }\n    /**\n     * A method that returns the sunrise in UTC time without correction for time zone offset from GMT and without using\n     * daylight savings time. Non-sunrise and sunset calculations such as dawn and dusk, depend on the amount of visible\n     * light, something that is not affected by elevation. This method returns UTC sunrise calculated at sea level. This\n     * forms the base for dawn calculations that are calculated as a dip below the horizon before sunrise.\n     *\n     * @param {number} zenith\n     *            the degrees below the horizon. For time after sunrise use negative numbers.\n     * @return {number} The time in the format: 18.75 for 18:45:00 UTC/GMT. If the calculation can't be computed such as in the\n     *         Arctic Circle where there is at least one day a year where the sun does not rise, and one where it does\n     *         not set, `NaN` will be returned. See detailed explanation on top of the page.\n     * @see getUTCSunrise\n     * @see getUTCSeaLevelSunset\n     */\n    getUTCSeaLevelSunrise(zenith) {\n        return this.getUTCSunrise(this.getAdjustedDate(), this.geoLocation, zenith, false);\n    }\n    /**\n     * A method that returns the sunset in UTC time without correction for time zone offset from GMT and without using\n     * daylight savings time.\n     *\n     * @param {number} zenith\n     *            the degrees below the horizon. For time after sunset use negative numbers.\n     * @return {number} The time in the format: 18.75 for 18:45:00 UTC/GMT. If the calculation can't be computed such as in the\n     *         Arctic Circle where there is at least one day a year where the sun does not rise, and one where it does\n     *         not set, `NaN` will be returned. See detailed explanation on top of the page.\n     * @see getUTCSeaLevelSunset\n     */\n    getUTCSunset0(zenith) {\n        return this.getUTCSunset(this.getAdjustedDate(), this.geoLocation, zenith, true);\n    }\n    /**\n     * A method that returns the sunset in UTC time without correction for elevation, time zone offset from GMT and\n     * without using daylight savings time. Non-sunrise and sunset calculations such as dawn and dusk, depend on the\n     * amount of visible light, something that is not affected by elevation. This method returns UTC sunset calculated\n     * at sea level. This forms the base for dusk calculations that are calculated as a dip below the horizon after\n     * sunset.\n     *\n     * @param {number} zenith\n     *            the degrees below the horizon. For time before sunset use negative numbers.\n     * @return {number} The time in the format: 18.75 for 18:45:00 UTC/GMT. If the calculation can't be computed such as in the\n     *         Arctic Circle where there is at least one day a year where the sun does not rise, and one where it does\n     *         not set, `NaN` will be returned. See detailed explanation on top of the page.\n     * @see getUTCSunset\n     * @see getUTCSeaLevelSunrise\n     */\n    getUTCSeaLevelSunset(zenith) {\n        return this.getUTCSunset(this.getAdjustedDate(), this.geoLocation, zenith, false);\n    }\n    /**\n     * Adjusts the <code>Calendar</code> to deal with edge cases where the location crosses the antimeridian.\n     * @private\n     * @see GeoLocation#getAntimeridianAdjustment()\n     * @return the adjusted Calendar\n     */\n    getAdjustedDate() {\n        return this.date;\n    }\n    /**\n     * Method to return the adjustment to the zenith required to account for the elevation. Since a person at a higher\n     * elevation can see farther below the horizon, the calculation for sunrise / sunset is calculated below the horizon\n     * used at sea level. This is only used for sunrise and sunset and not times before or after it such as\n     * {@link getBeginNauticalTwilight() nautical twilight} since those\n     * calculations are based on the level of available light at the given dip below the horizon, something that is not\n     * affected by elevation, the adjustment should only made if the zenith == 90&deg; {@link adjustZenith adjusted}\n     * for refraction and solar radius. The algorithm used is\n     *\n     * <pre>\n     * elevationAdjustment = Math.toDegrees(Math.acos(earthRadiusInMeters / (earthRadiusInMeters + elevationMeters)));\n     * </pre>\n     *\n     * The source of this algorithm is <a href=\"http://www.calendarists.com\">Calendrical Calculations</a> by Edward M.\n     * Reingold and Nachum Dershowitz. An alternate algorithm that produces an almost identical (but not accurate)\n     * result found in Ma'aglay Tzedek by Moishe Kosower and other sources is:\n     *\n     * <pre>\n     * elevationAdjustment = 0.0347 * Math.sqrt(elevationMeters);\n     * </pre>\n     *\n     * @param {number} elevation\n     *            elevation in Meters.\n     * @return {number} the adjusted zenith\n     */\n    getElevationAdjustment(elevation) {\n        // double elevationAdjustment = 0.0347 * Math.sqrt(elevation);\n        const elevationAdjustment = radiansToDegrees(Math.acos(earthRadius / (earthRadius + elevation / 1000)));\n        return elevationAdjustment;\n    }\n    /**\n     * Adjusts the zenith of astronomical sunrise and sunset to account for solar refraction, solar radius and\n     * elevation. The value for Sun's zenith and true rise/set Zenith (used in this class and subclasses) is the angle\n     * that the center of the Sun makes to a line perpendicular to the Earth's surface. If the Sun were a point and the\n     * Earth were without an atmosphere, true sunset and sunrise would correspond to a 90&deg; zenith. Because the Sun\n     * is not a point, and because the atmosphere refracts light, this 90&deg; zenith does not, in fact, correspond to\n     * true sunset or sunrise, instead the centre of the Sun's disk must lie just below the horizon for the upper edge\n     * to be obscured. This means that a zenith of just above 90&deg; must be used. The Sun subtends an angle of 16\n     * minutes of arc, and atmospheric refraction\n     * accounts for 34 minutes or so, giving a total\n     * of 50 arcminutes. The total value for ZENITH is 90+(5/6) or 90.8333333&deg; for true sunrise/sunset. Since a\n     * person at an elevation can see blow the horizon of a person at sea level, this will also adjust the zenith to\n     * account for elevation if available. Note that this will only adjust the value if the zenith is exactly 90 degrees.\n     * For values below and above this no correction is done. As an example, astronomical twilight is when the sun is\n     * 18&deg; below the horizon or {@link ASTRONOMICAL_ZENITH 108&deg;\n     * below the zenith}. This is traditionally calculated with none of the above mentioned adjustments. The same goes\n     * for various <em>tzais</em> and <em>alos</em> times such as the\n     * {@link ZmanimCalendar#ZENITH_16_POINT_1 16.1&deg;} dip used in\n     * {@link ComplexZmanimCalendar#getAlos16Point1Degrees}.\n     *\n     * @param {number} zenith\n     *            the azimuth below the vertical zenith of 90&deg;. For sunset typically the {@link adjustZenith\n     *            zenith} used for the calculation uses geometric zenith of 90&deg; and {@link adjustZenith adjusts}\n     *            this slightly to account for solar refraction and the sun's radius. Another example would be\n     *            {@link getEndNauticalTwilight} that passes\n     *            {@link NAUTICAL_ZENITH} to this method.\n     * @param {number} elevation\n     *            elevation in Meters.\n     * @return {number} The zenith adjusted to include the sun's radius, refracton\n     *         and {@link getElevationAdjustment elevation} adjustment. This will only be adjusted for\n     *         sunrise and sunset (if the zenith == 90&deg;)\n     * @see getElevationAdjustment\n     */\n    adjustZenith(zenith, elevation) {\n        let adjustedZenith = zenith;\n        if (zenith === NOAACalculator.GEOMETRIC_ZENITH) {\n            // only adjust if it is exactly sunrise or sunset\n            adjustedZenith =\n                zenith +\n                    (solarRadius + refraction + this.getElevationAdjustment(elevation));\n        }\n        return adjustedZenith;\n    }\n    /**\n     * A method that calculates UTC sunrise as well as any time based on an angle above or below sunrise.\n     * @param date\n     *            Used to calculate day of year.\n     * @param geoLocation\n     *            The location information used for astronomical calculating sun times.\n     * @param zenith\n     *            the azimuth below the vertical zenith of 90 degrees. for sunrise typically the {@link adjustZenith\n     *            zenith} used for the calculation uses geometric zenith of 90&deg; and {@link adjustZenith adjusts}\n     *            this slightly to account for solar refraction and the sun's radius. Another example would be\n     *            {@link getBeginNauticalTwilight} that passes\n     *            {@link NAUTICAL_ZENITH} to this method.\n     * @param adjustForElevation\n     *            Should the time be adjusted for elevation\n     * @return The UTC time of sunrise in 24 hour format. 5:45:00 AM will return 5.75.0. If an error was encountered in\n     *         the calculation (expected behavior for some locations such as near the poles,\n     *         `NaN` will be returned.\n     */\n    getUTCSunrise(date, geoLocation, zenith, adjustForElevation) {\n        const elevation = adjustForElevation\n            ? geoLocation.getElevation()\n            : 0;\n        const adjustedZenith = this.adjustZenith(zenith, elevation);\n        let sunrise = NOAACalculator.getSunriseUTC(NOAACalculator.getJulianDay(date), geoLocation.getLatitude(), -geoLocation.getLongitude(), adjustedZenith);\n        sunrise = sunrise / 60;\n        // ensure that the time is >= 0 and < 24\n        while (sunrise < 0) {\n            sunrise += 24;\n        }\n        while (sunrise >= 24) {\n            sunrise -= 24;\n        }\n        return sunrise;\n    }\n    /**\n     * A method that calculates UTC sunset as well as any time based on an angle above or below sunset.\n     * @param date\n     *            Used to calculate day of year.\n     * @param geoLocation\n     *            The location information used for astronomical calculating sun times.\n     * @param zenith\n     *            the azimuth below the vertical zenith of 90&deg;. For sunset typically the {@link adjustZenith\n     *            zenith} used for the calculation uses geometric zenith of 90&deg; and {@link adjustZenith adjusts}\n     *            this slightly to account for solar refraction and the sun's radius. Another example would be\n     *            {@link getEndNauticalTwilight} that passes\n     *            {@link NAUTICAL_ZENITH} to this method.\n     * @param adjustForElevation\n     *            Should the time be adjusted for elevation\n     * @return The UTC time of sunset in 24 hour format. 5:45:00 AM will return 5.75.0. If an error was encountered in\n     *         the calculation (expected behavior for some locations such as near the poles,\n     *         `NaN` will be returned.\n     */\n    getUTCSunset(date, geoLocation, zenith, adjustForElevation) {\n        const elevation = adjustForElevation\n            ? geoLocation.getElevation()\n            : 0;\n        const adjustedZenith = this.adjustZenith(zenith, elevation);\n        let sunset = NOAACalculator.getSunsetUTC(NOAACalculator.getJulianDay(date), geoLocation.getLatitude(), -geoLocation.getLongitude(), adjustedZenith);\n        sunset = sunset / 60;\n        // ensure that the time is >= 0 and < 24\n        while (sunset < 0) {\n            sunset += 24;\n        }\n        while (sunset >= 24) {\n            sunset -= 24;\n        }\n        return sunset;\n    }\n    /**\n     * A utility method that will allow the calculation of a temporal (solar) hour based on the sunrise and sunset\n     * passed as parameters to this method. An example of the use of this method would be the calculation of a\n     * non-elevation adjusted temporal hour by passing in {@link getSeaLevelSunrise() sea level sunrise} and\n     * {@link getSeaLevelSunset() sea level sunset} as parameters.\n     *\n     * @param {Temporal.ZonedDateTime | null} startOfDay\n     *            The start of the day.\n     * @param {Temporal.ZonedDateTime | null} endOfDay\n     *            The end of the day.\n     *\n     * @return {number} the <code>long</code> millisecond length of the temporal hour. If the calculation can't be computed a\n     *         `NaN` will be returned. See detailed explanation on top of the page.\n     *\n     * @see getTemporalHour()\n     */\n    getTemporalHour(startOfDay = this.getSeaLevelSunrise(), endOfDay = this.getSeaLevelSunset()) {\n        if (startOfDay === null || endOfDay === null) {\n            return NaN;\n        }\n        const delta = endOfDay.epochMilliseconds - startOfDay.epochMilliseconds;\n        return Math.floor(delta / 12);\n    }\n    /**\n     * A method that returns sundial or solar noon. It occurs when the Sun is <a href\n     * =\"http://en.wikipedia.org/wiki/Transit_%28astronomy%29\">transiting</a> the <a\n     * href=\"http://en.wikipedia.org/wiki/Meridian_%28astronomy%29\">celestial meridian</a>. In this class it is\n     * calculated as halfway between the sunrise and sunset passed to this method. This time can be slightly off the\n     * real transit time due to changes in declination (the lengthening or shortening day).\n     *\n     * @param {Temporal.ZonedDateTime | null} startOfDay\n     *            the start of day for calculating the sun's transit. This can be sea level sunrise, visual sunrise (or\n     *            any arbitrary start of day) passed to this method.\n     * @param {Temporal.ZonedDateTime | null} endOfDay\n     *            the end of day for calculating the sun's transit. This can be sea level sunset, visual sunset (or any\n     *            arbitrary end of day) passed to this method.\n     *\n     * @return {Temporal.ZonedDateTime | null} The `Date` representing Sun's transit. If the calculation can't be computed such as in the\n     *         Arctic Circle where there is at least one day a year where the sun does not rise, and one where it does\n     *         not set, null will be returned. See detailed explanation on top of the page.\n     */\n    getSunTransit(startOfDay = this.getSeaLevelSunrise(), endOfDay = this.getSeaLevelSunset()) {\n        const temporalHour = this.getTemporalHour(startOfDay, endOfDay);\n        return NOAACalculator.getTimeOffset(startOfDay, temporalHour * 6);\n    }\n    /**\n     * A method that returns a `Date` from the time passed in as a parameter.\n     * @protected\n     * @param {number} time\n     *            The time to be set as the time for the `Date`. The time expected is in the format: 18.75\n     *            for 6:45:00 PM.\n     * @param {boolean} isSunrise true if the time is sunrise, and false if it is sunset\n     * @return {Temporal.ZonedDateTime | null} The Date.\n     */\n    getDateFromTime(time, isSunrise) {\n        if (isNaN(time)) {\n            return null;\n        }\n        let calculatedTime = time;\n        let cal = this.getAdjustedDate();\n        //    let cal = new Temporal.PlainDate(adj.year, adj.month, adj.day);\n        const hours = Math.trunc(calculatedTime); // retain only the hours\n        calculatedTime -= hours;\n        const minutes = Math.trunc((calculatedTime *= 60)); // retain only the minutes\n        calculatedTime -= minutes;\n        const seconds = Math.trunc((calculatedTime *= 60)); // retain only the seconds\n        calculatedTime -= seconds; // remaining milliseconds\n        // Check if a date transition has occurred, or is about to occur - this indicates the date of the event is\n        // actually not the target date, but the day prior or after\n        const localTimeHours = Math.trunc(this.geoLocation.getLongitude() / 15);\n        if (isSunrise && localTimeHours + hours > 18) {\n            cal = cal.add({ days: -1 });\n            //      cal = cal.minus({days: 1});\n        }\n        else if (!isSunrise && localTimeHours + hours < 6) {\n            cal = cal.add({ days: 1 });\n        }\n        return cal\n            .toZonedDateTime({\n            timeZone: 'UTC',\n            plainTime: new Temporal.PlainTime(hours, minutes, seconds, Math.trunc(calculatedTime * 1000)),\n        })\n            .withTimeZone(this.geoLocation.getTimeZone());\n    }\n    /**\n     * Return the <a href=\"http://en.wikipedia.org/wiki/Julian_day\">Julian day</a> from a Java Calendar\n     * @private\n     * @param {Temporal.ZonedDateTime} date\n     *            The Java Calendar\n     * @return the Julian day corresponding to the date Note: Number is returned for start of day. Fractional days\n     *         should be added later.\n     */\n    static getJulianDay(date) {\n        let { year, month } = date;\n        const { day } = date;\n        if (month <= 2) {\n            year -= 1;\n            month += 12;\n        }\n        const a = Math.trunc(year / 100);\n        const b = Math.trunc(2 - a + a / 4);\n        return (Math.floor(365.25 * (year + 4716)) +\n            Math.floor(30.6001 * (month + 1)) +\n            day +\n            b -\n            1524.5);\n    }\n    /**\n     * Convert <a href=\"http://en.wikipedia.org/wiki/Julian_day\">Julian day</a> to centuries since J2000.0.\n     * @private\n     * @param julianDay\n     *            the Julian Day to convert\n     * @return the centuries since 2000 Julian corresponding to the Julian Day\n     */\n    static getJulianCenturiesFromJulianDay(julianDay) {\n        return ((julianDay - NOAACalculator.JULIAN_DAY_JAN_1_2000) /\n            NOAACalculator.JULIAN_DAYS_PER_CENTURY);\n    }\n    /**\n     * Convert centuries since J2000.0 to <a href=\"http://en.wikipedia.org/wiki/Julian_day\">Julian day</a>.\n     * @private\n     * @param julianCenturies\n     *            the number of Julian centuries since J2000.0\n     * @return the Julian Day corresponding to the Julian centuries passed in\n     */\n    static getJulianDayFromJulianCenturies(julianCenturies) {\n        return (julianCenturies * NOAACalculator.JULIAN_DAYS_PER_CENTURY +\n            NOAACalculator.JULIAN_DAY_JAN_1_2000);\n    }\n    /**\n     * Returns the Geometric <a href=\"http://en.wikipedia.org/wiki/Mean_longitude\">Mean Longitude</a> of the Sun.\n     * @private\n     * @param julianCenturies\n     *            the number of Julian centuries since J2000.0\n     * @return the Geometric Mean Longitude of the Sun in degrees\n     */\n    static getSunGeometricMeanLongitude(julianCenturies) {\n        let longitude = 280.46646 + julianCenturies * (36000.76983 + 0.0003032 * julianCenturies);\n        while (longitude > 360) {\n            longitude -= 360;\n        }\n        while (longitude < 0) {\n            longitude += 360;\n        }\n        return longitude; // in degrees\n    }\n    /**\n     * Returns the Geometric <a href=\"http://en.wikipedia.org/wiki/Mean_anomaly\">Mean Anomaly</a> of the Sun.\n     * @private\n     * @param julianCenturies\n     *            the number of Julian centuries since J2000.0\n     * @return the Geometric Mean Anomaly of the Sun in degrees\n     */\n    static getSunGeometricMeanAnomaly(julianCenturies) {\n        return (357.52911 + julianCenturies * (35999.05029 - 0.0001537 * julianCenturies)); // in degrees\n    }\n    /**\n     * Return the <a href=\"http://en.wikipedia.org/wiki/Eccentricity_%28orbit%29\">eccentricity of earth's orbit</a>.\n     * @private\n     * @param julianCenturies\n     *            the number of Julian centuries since J2000.0\n     * @return the unitless eccentricity\n     */\n    static getEarthOrbitEccentricity(julianCenturies) {\n        return (0.016708634 -\n            julianCenturies * (0.000042037 + 0.0000001267 * julianCenturies)); // unitless\n    }\n    /**\n     * Returns the <a href=\"http://en.wikipedia.org/wiki/Equation_of_the_center\">equation of center</a> for the sun.\n     * @private\n     * @param julianCenturies\n     *            the number of Julian centuries since J2000.0\n     * @return the equation of center for the sun in degrees\n     */\n    static getSunEquationOfCenter(julianCenturies) {\n        const m = NOAACalculator.getSunGeometricMeanAnomaly(julianCenturies);\n        const mrad = degreesToRadians(m);\n        const sinm = Math.sin(mrad);\n        const sin2m = Math.sin(mrad + mrad);\n        const sin3m = Math.sin(mrad + mrad + mrad);\n        return (sinm *\n            (1.914602 - julianCenturies * (0.004817 + 0.000014 * julianCenturies)) +\n            sin2m * (0.019993 - 0.000101 * julianCenturies) +\n            sin3m * 0.000289); // in degrees\n    }\n    /**\n     * Return the true longitude of the sun\n     * @private\n     * @param julianCenturies\n     *            the number of Julian centuries since J2000.0\n     * @return the sun's true longitude in degrees\n     */\n    static getSunTrueLongitude(julianCenturies) {\n        const sunLongitude = NOAACalculator.getSunGeometricMeanLongitude(julianCenturies);\n        const center = NOAACalculator.getSunEquationOfCenter(julianCenturies);\n        return sunLongitude + center; // in degrees\n    }\n    /**\n     * Return the apparent longitude of the sun\n     * @private\n     * @param julianCenturies\n     *            the number of Julian centuries since J2000.0\n     * @return sun's apparent longitude in degrees\n     */\n    static getSunApparentLongitude(julianCenturies) {\n        const sunTrueLongitude = NOAACalculator.getSunTrueLongitude(julianCenturies);\n        const omega = 125.04 - 1934.136 * julianCenturies;\n        const lambda = sunTrueLongitude - 0.00569 - 0.00478 * Math.sin(degreesToRadians(omega));\n        return lambda; // in degrees\n    }\n    /**\n     * Returns the mean <a href=\"http://en.wikipedia.org/wiki/Axial_tilt\">obliquity of the ecliptic</a> (Axial tilt).\n     * @private\n     * @param julianCenturies\n     *            the number of Julian centuries since J2000.0\n     * @return the mean obliquity in degrees\n     */\n    static getMeanObliquityOfEcliptic(julianCenturies) {\n        const seconds = 21.448 -\n            julianCenturies *\n                (46.815 + julianCenturies * (0.00059 - julianCenturies * 0.001813));\n        return 23 + (26 + seconds / 60) / 60; // in degrees\n    }\n    /**\n     * Returns the corrected <a href=\"http://en.wikipedia.org/wiki/Axial_tilt\">obliquity of the ecliptic</a> (Axial\n     * tilt).\n     * @private\n     * @param julianCenturies\n     *            the number of Julian centuries since J2000.0\n     * @return the corrected obliquity in degrees\n     */\n    static getObliquityCorrection(julianCenturies) {\n        const obliquityOfEcliptic = NOAACalculator.getMeanObliquityOfEcliptic(julianCenturies);\n        const omega = 125.04 - 1934.136 * julianCenturies;\n        return obliquityOfEcliptic + 0.00256 * Math.cos(degreesToRadians(omega)); // in degrees\n    }\n    /**\n     * Return the <a href=\"http://en.wikipedia.org/wiki/Declination\">declination</a> of the sun.\n     * @private\n     * @param julianCenturies\n     *            the number of Julian centuries since J2000.0\n     * @return\n     *            the sun's declination in degrees\n     */\n    static getSunDeclination(julianCenturies) {\n        const obliquityCorrection = NOAACalculator.getObliquityCorrection(julianCenturies);\n        const lambda = NOAACalculator.getSunApparentLongitude(julianCenturies);\n        const sint = Math.sin(degreesToRadians(obliquityCorrection)) *\n            Math.sin(degreesToRadians(lambda));\n        const theta = radiansToDegrees(Math.asin(sint));\n        return theta; // in degrees\n    }\n    /**\n     * Return the <a href=\"http://en.wikipedia.org/wiki/Equation_of_time\">Equation of Time</a> - the difference between\n     * true solar time and mean solar time\n     * @private\n     * @param julianCenturies\n     *            the number of Julian centuries since J2000.0\n     * @return equation of time in minutes of time\n     */\n    static getEquationOfTime(julianCenturies) {\n        const epsilon = NOAACalculator.getObliquityCorrection(julianCenturies);\n        const geomMeanLongSun = NOAACalculator.getSunGeometricMeanLongitude(julianCenturies);\n        const eccentricityEarthOrbit = NOAACalculator.getEarthOrbitEccentricity(julianCenturies);\n        const geomMeanAnomalySun = NOAACalculator.getSunGeometricMeanAnomaly(julianCenturies);\n        let y = Math.tan(degreesToRadians(epsilon) / 2);\n        y *= y;\n        const sin2l0 = Math.sin(2 * degreesToRadians(geomMeanLongSun));\n        const sinm = Math.sin(degreesToRadians(geomMeanAnomalySun));\n        const cos2l0 = Math.cos(2 * degreesToRadians(geomMeanLongSun));\n        const sin4l0 = Math.sin(4 * degreesToRadians(geomMeanLongSun));\n        const sin2m = Math.sin(2 * degreesToRadians(geomMeanAnomalySun));\n        const equationOfTime = y * sin2l0 -\n            2 * eccentricityEarthOrbit * sinm +\n            4 * eccentricityEarthOrbit * y * sinm * cos2l0 -\n            0.5 * y * y * sin4l0 -\n            1.25 * eccentricityEarthOrbit * eccentricityEarthOrbit * sin2m;\n        return radiansToDegrees(equationOfTime) * 4; // in minutes of time\n    }\n    /**\n     * Return the <a href=\"http://en.wikipedia.org/wiki/Hour_angle\">hour angle</a> of the sun at sunrise for the\n     * latitude.\n     * @private\n     * @param {number} lat\n     *            , the latitude of observer in degrees\n     * @param solarDec\n     *            the declination angle of sun in degrees\n     * @param {number} zenith\n     *            the zenith\n     * @return hour angle of sunrise in radians\n     */\n    static getSunHourAngleAtSunrise(lat, solarDec, zenith) {\n        const latRad = degreesToRadians(lat);\n        const sdRad = degreesToRadians(solarDec);\n        return Math.acos(Math.cos(degreesToRadians(zenith)) /\n            (Math.cos(latRad) * Math.cos(sdRad)) -\n            Math.tan(latRad) * Math.tan(sdRad)); // in radians\n    }\n    /**\n     * Returns the <a href=\"http://en.wikipedia.org/wiki/Hour_angle\">hour angle</a> of the sun at sunset for the\n     * latitude.\n     * @private\n     * @param {number} lat\n     *            the latitude of observer in degrees\n     * @param solarDec\n     *            the declination angle of sun in degrees\n     * @param {number} zenith\n     *            the zenith\n     * @return the hour angle of sunset in radians\n     */\n    static getSunHourAngleAtSunset(lat, solarDec, zenith) {\n        const latRad = degreesToRadians(lat);\n        const sdRad = degreesToRadians(solarDec);\n        const hourAngle = Math.acos(Math.cos(degreesToRadians(zenith)) /\n            (Math.cos(latRad) * Math.cos(sdRad)) -\n            Math.tan(latRad) * Math.tan(sdRad));\n        return -hourAngle; // in radians\n    }\n    /**\n     * Return the <a href=\"http://en.wikipedia.org/wiki/Celestial_coordinate_system\">Solar Elevation</a> for the\n     * horizontal coordinate system at the given location at the given time. Can be negative if the sun is below the\n     * horizon. Not corrected for altitude.\n     *\n     * @param {Temporal.ZonedDateTime} date\n     *            time of calculation\n     * @param {number} lat\n     *            latitude of location for calculation\n     * @param {number} lon\n     *            longitude of location for calculation\n     * @return {number} solar elevation in degrees - horizon is 0 degrees, civil twilight is -6 degrees\n     */\n    static getSolarElevation(date, lat, lon) {\n        const julianDay = NOAACalculator.getJulianDay(date.toPlainDate());\n        const julianCenturies = NOAACalculator.getJulianCenturiesFromJulianDay(julianDay);\n        const equationOfTime = NOAACalculator.getEquationOfTime(julianCenturies);\n        let longitude = date.hour + 12 + (date.minute + equationOfTime + date.second / 60) / 60;\n        longitude = -((longitude * 360) / 24) % 360;\n        const hourAngleRad = degreesToRadians(lon - longitude);\n        const declination = NOAACalculator.getSunDeclination(julianCenturies);\n        const decRad = degreesToRadians(declination);\n        const latRad = degreesToRadians(lat);\n        return radiansToDegrees(Math.asin(Math.sin(latRad) * Math.sin(decRad) +\n            Math.cos(latRad) * Math.cos(decRad) * Math.cos(hourAngleRad)));\n    }\n    /**\n     * Return the <a href=\"http://en.wikipedia.org/wiki/Celestial_coordinate_system\">Solar Azimuth</a> for the\n     * horizontal coordinate system at the given location at the given time. Not corrected for altitude. True south is 0\n     * degrees.\n     *\n     * @param {Temporal.ZonedDateTime} date\n     *            time of calculation\n     * @param {number} latitude\n     *            latitude of location for calculation\n     * @param {number} lon\n     *            longitude of location for calculation\n     * @return {number}\n     */\n    static getSolarAzimuth(date, latitude, lon) {\n        const julianDay = NOAACalculator.getJulianDay(date.toPlainDate());\n        const julianCenturies = NOAACalculator.getJulianCenturiesFromJulianDay(julianDay);\n        const equationOfTime = NOAACalculator.getEquationOfTime(julianCenturies);\n        let longitude = date.hour + 12 + (date.minute + equationOfTime + date.second / 60) / 60;\n        longitude = -((longitude * 360) / 24) % 360;\n        const hourAngleRad = degreesToRadians(lon - longitude);\n        const declination = NOAACalculator.getSunDeclination(julianCenturies);\n        const decRad = degreesToRadians(declination);\n        const latRad = degreesToRadians(latitude);\n        return (radiansToDegrees(Math.atan(Math.sin(hourAngleRad) /\n            (Math.cos(hourAngleRad) * Math.sin(latRad) -\n                Math.tan(decRad) * Math.cos(latRad)))) + 180);\n    }\n    /**\n     * Return the <a href=\"http://en.wikipedia.org/wiki/Universal_Coordinated_Time\">Universal Coordinated Time</a> (UTC)\n     * of sunrise for the given day at the given location on earth\n     * @private\n     * @param julianDay\n     *            the Julian day\n     * @param {number} latitude\n     *            the latitude of observer in degrees\n     * @param {number} longitude\n     *            the longitude of observer in degrees\n     * @param {number} zenith\n     *            the zenith\n     * @return the time in minutes from zero UTC\n     */\n    static getSunriseUTC(julianDay, latitude, longitude, zenith) {\n        const julianCenturies = NOAACalculator.getJulianCenturiesFromJulianDay(julianDay);\n        // Find the time of solar noon at the location, and use that declination. This is better than start of the\n        // Julian day\n        const noonmin = NOAACalculator.getSolarNoonUTC(julianCenturies, longitude);\n        const tnoon = NOAACalculator.getJulianCenturiesFromJulianDay(julianDay + noonmin / 1440);\n        // First pass to approximate sunrise (using solar noon)\n        let eqTime = NOAACalculator.getEquationOfTime(tnoon);\n        let solarDec = NOAACalculator.getSunDeclination(tnoon);\n        let hourAngle = NOAACalculator.getSunHourAngleAtSunrise(latitude, solarDec, zenith);\n        let delta = longitude - radiansToDegrees(hourAngle);\n        let timeDiff = 4 * delta; // in minutes of time\n        let timeUTC = 720 + timeDiff - eqTime; // in minutes\n        // Second pass includes fractional Julian Day in gamma calc\n        const newt = NOAACalculator.getJulianCenturiesFromJulianDay(NOAACalculator.getJulianDayFromJulianCenturies(julianCenturies) +\n            timeUTC / 1440);\n        eqTime = NOAACalculator.getEquationOfTime(newt);\n        solarDec = NOAACalculator.getSunDeclination(newt);\n        hourAngle = NOAACalculator.getSunHourAngleAtSunrise(latitude, solarDec, zenith);\n        delta = longitude - radiansToDegrees(hourAngle);\n        timeDiff = 4 * delta;\n        timeUTC = 720 + timeDiff - eqTime; // in minutes\n        return timeUTC;\n    }\n    /**\n     * Return the <a href=\"http://en.wikipedia.org/wiki/Universal_Coordinated_Time\">Universal Coordinated Time</a> (UTC)\n     * of <a href=\"http://en.wikipedia.org/wiki/Noon#Solar_noon\">solar noon</a> for the given day at the given location\n     * on earth.\n     * @private\n     * @param julianCenturies\n     *            the number of Julian centuries since J2000.0\n     * @param {number} longitude\n     *            the longitude of observer in degrees\n     * @return the time in minutes from zero UTC\n     */\n    static getSolarNoonUTC(julianCenturies, longitude) {\n        // First pass uses approximate solar noon to calculate eqtime\n        const tnoon = NOAACalculator.getJulianCenturiesFromJulianDay(NOAACalculator.getJulianDayFromJulianCenturies(julianCenturies) +\n            longitude / 360);\n        let eqTime = NOAACalculator.getEquationOfTime(tnoon);\n        const solNoonUTC = 720 + longitude * 4 - eqTime; // min\n        const newt = NOAACalculator.getJulianCenturiesFromJulianDay(NOAACalculator.getJulianDayFromJulianCenturies(julianCenturies) -\n            0.5 +\n            solNoonUTC / 1440);\n        eqTime = NOAACalculator.getEquationOfTime(newt);\n        return 720 + longitude * 4 - eqTime; // min\n    }\n    /**\n     * Return the <a href=\"http://en.wikipedia.org/wiki/Universal_Coordinated_Time\">Universal Coordinated Time</a> (UTC)\n     * of sunset for the given day at the given location on earth\n     * @private\n     * @param julianDay\n     *            the Julian day\n     * @param {number} latitude\n     *            the latitude of observer in degrees\n     * @param {number} longitude\n     *            : longitude of observer in degrees\n     * @param {number} zenith\n     *            the zenith\n     * @return the time in minutes from zero Universal Coordinated Time (UTC)\n     */\n    static getSunsetUTC(julianDay, latitude, longitude, zenith) {\n        const julianCenturies = NOAACalculator.getJulianCenturiesFromJulianDay(julianDay);\n        // Find the time of solar noon at the location, and use that declination. This is better than start of the\n        // Julian day\n        const noonmin = NOAACalculator.getSolarNoonUTC(julianCenturies, longitude);\n        const tnoon = NOAACalculator.getJulianCenturiesFromJulianDay(julianDay + noonmin / 1440);\n        // First calculates sunrise and approx length of day\n        let eqTime = NOAACalculator.getEquationOfTime(tnoon);\n        let solarDec = NOAACalculator.getSunDeclination(tnoon);\n        let hourAngle = NOAACalculator.getSunHourAngleAtSunset(latitude, solarDec, zenith);\n        let delta = longitude - radiansToDegrees(hourAngle);\n        let timeDiff = 4 * delta;\n        let timeUTC = 720 + timeDiff - eqTime;\n        // Second pass includes fractional Julian Day in gamma calc\n        const newt = NOAACalculator.getJulianCenturiesFromJulianDay(NOAACalculator.getJulianDayFromJulianCenturies(julianCenturies) +\n            timeUTC / 1440);\n        eqTime = NOAACalculator.getEquationOfTime(newt);\n        solarDec = NOAACalculator.getSunDeclination(newt);\n        hourAngle = NOAACalculator.getSunHourAngleAtSunset(latitude, solarDec, zenith);\n        delta = longitude - radiansToDegrees(hourAngle);\n        timeDiff = 4 * delta;\n        timeUTC = 720 + timeDiff - eqTime; // in minutes\n        return timeUTC;\n    }\n}\n/**\n * The zenith of astronomical sunrise and sunset. The sun is 90&deg; from the vertical 0&deg;\n * @private\n */\nNOAACalculator.GEOMETRIC_ZENITH = 90;\n/**\n * Default value for Sun's zenith and true rise/set Zenith (used in this class and subclasses) is the angle that the\n * center of the Sun makes to a line perpendicular to the Earth's surface. If the Sun were a point and the Earth\n * were without an atmosphere, true sunset and sunrise would correspond to a 90&deg; zenith. Because the Sun is not\n * a point, and because the atmosphere refracts light, this 90&deg; zenith does not, in fact, correspond to true\n * sunset or sunrise, instead the center of the Sun's disk must lie just below the horizon for the upper edge to be\n * obscured. This means that a zenith of just above 90&deg; must be used. The Sun subtends an angle of 16 minutes of\n * arc, and atmospheric refraction accounts for\n * 34 minutes or so, giving a total of 50\n * arcminutes. The total value for ZENITH is 90+(5/6) or 90.8333333&deg; for true sunrise/sunset.\n */\n// const ZENITH: number = GEOMETRIC_ZENITH + 5.0 / 6.0;\n/** Sun's zenith at civil twilight (96&deg;). */\nNOAACalculator.CIVIL_ZENITH = 96;\n/** Sun's zenith at nautical twilight (102&deg;). */\nNOAACalculator.NAUTICAL_ZENITH = 102;\n/** Sun's zenith at astronomical twilight (108&deg;). */\nNOAACalculator.ASTRONOMICAL_ZENITH = 108;\n/**\n * The <a href=\"http://en.wikipedia.org/wiki/Julian_day\">Julian day</a> of January 1, 2000\n * @private\n */\nNOAACalculator.JULIAN_DAY_JAN_1_2000 = 2451545;\n/**\n * Julian days per century\n * @private\n */\nNOAACalculator.JULIAN_DAYS_PER_CENTURY = 36525;\n","import { Temporal as Xn, DateTimeFormat as _n, toTemporalInstant as ja } from \"./chunks/classApi.js\";\n\nimport { createPropDescriptors as n } from \"./chunks/internal.js\";\n\nObject.defineProperties(globalThis, n({\n  Temporal: Xn\n})), Object.defineProperties(Intl, n({\n  DateTimeFormat: _n\n})), Object.defineProperties(Date.prototype, n({\n  toTemporalInstant: ja\n}));\n","/*\n    Hebcal - A Jewish Calendar Generator\n    Copyright (c) 1994-2020 Danny Sadinoff\n    Portions copyright Eyal Schachter and Michael J. Radwin\n\n    https://github.com/hebcal/hebcal-es6\n\n    This program is free software; you can redistribute it and/or\n    modify it under the terms of the GNU General Public License\n    as published by the Free Software Foundation; either version 2\n    of the License, or (at your option) any later version.\n\n    This program is distributed in the hope that it will be useful,\n    but WITHOUT ANY WARRANTY; without even the implied warranty of\n    MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n    GNU General Public License for more details.\n\n    You should have received a copy of the GNU General Public License\n    along with this program. If not, see <http://www.gnu.org/licenses/>.\n */\nimport {GeoLocation} from '@hebcal/noaa';\n\nconst classicCities0: [string, string, number, number, string, number][] = [\n  ['Ashdod', 'IL', 31.79213, 34.64966, 'Asia/Jerusalem', 27],\n  ['Atlanta', 'US', 33.749, -84.38798, 'America/New_York', 336],\n  ['Austin', 'US', 30.26715, -97.74306, 'America/Chicago', 165],\n  ['Baghdad', 'IQ', 33.34058, 44.40088, 'Asia/Baghdad', 41],\n  ['Beer Sheva', 'IL', 31.25181, 34.7913, 'Asia/Jerusalem', 285],\n  ['Berlin', 'DE', 52.52437, 13.41053, 'Europe/Berlin', 43],\n  ['Baltimore', 'US', 39.29038, -76.61219, 'America/New_York', 35],\n  ['Bogota', 'CO', 4.60971, -74.08175, 'America/Bogota', 2582],\n  ['Boston', 'US', 42.35843, -71.05977, 'America/New_York', 38],\n  ['Budapest', 'HU', 47.49801, 19.03991, 'Europe/Budapest', 104],\n  [\n    'Buenos Aires',\n    'AR',\n    -34.61315,\n    -58.37723,\n    'America/Argentina/Buenos_Aires',\n    31,\n  ],\n  ['Buffalo', 'US', 42.88645, -78.87837, 'America/New_York', 191],\n  ['Chicago', 'US', 41.85003, -87.65005, 'America/Chicago', 180],\n  ['Cincinnati', 'US', 39.162, -84.45689, 'America/New_York', 267],\n  ['Cleveland', 'US', 41.4995, -81.69541, 'America/New_York', 204],\n  ['Dallas', 'US', 32.78306, -96.80667, 'America/Chicago', 139],\n  ['Denver', 'US', 39.73915, -104.9847, 'America/Denver', 1636],\n  ['Detroit', 'US', 42.33143, -83.04575, 'America/Detroit', 192],\n  ['Eilat', 'IL', 29.55805, 34.94821, 'Asia/Jerusalem', 63],\n  ['Gibraltar', 'GI', 36.14474, -5.35257, 'Europe/Gibraltar', 11],\n  ['Haifa', 'IL', 32.81841, 34.9885, 'Asia/Jerusalem', 40],\n  ['Hawaii', 'US', 21.30694, -157.85833, 'Pacific/Honolulu', 18],\n  ['Helsinki', 'FI', 60.16952, 24.93545, 'Europe/Helsinki', 26],\n  ['Houston', 'US', 29.76328, -95.36327, 'America/Chicago', 30],\n  ['Jerusalem', 'IL', 31.76904, 35.21633, 'Asia/Jerusalem', 786],\n  ['Johannesburg', 'ZA', -26.20227, 28.04363, 'Africa/Johannesburg', 1767],\n  ['Kiev', 'UA', 50.45466, 30.5238, 'Europe/Kiev', 187],\n  ['La Paz', 'BO', -16.5, -68.15, 'America/La_Paz', 3782],\n  ['Livingston', 'US', 40.79593, -74.31487, 'America/New_York', 98],\n  ['Las Vegas', 'US', 36.17497, -115.13722, 'America/Los_Angeles', 613],\n  ['London', 'GB', 51.50853, -0.12574, 'Europe/London', 25],\n  ['Los Angeles', 'US', 34.05223, -118.24368, 'America/Los_Angeles', 96],\n  ['Marseilles', 'FR', 43.29695, 5.38107, 'Europe/Paris', 28],\n  ['Miami', 'US', 25.77427, -80.19366, 'America/New_York', 25],\n  ['Minneapolis', 'US', 44.97997, -93.26384, 'America/Chicago', 262],\n  ['Melbourne', 'AU', -37.814, 144.96332, 'Australia/Melbourne', 25],\n  ['Mexico City', 'MX', 19.42847, -99.12766, 'America/Mexico_City', 2240],\n  ['Montreal', 'CA', 45.50884, -73.58781, 'America/Toronto', 216],\n  ['Moscow', 'RU', 55.75222, 37.61556, 'Europe/Moscow', 144],\n  ['New York', 'US', 40.71427, -74.00597, 'America/New_York', 57],\n  ['Omaha', 'US', 41.25861, -95.93779, 'America/Chicago', 315],\n  ['Ottawa', 'CA', 45.41117, -75.69812, 'America/Toronto', 71],\n  ['Panama City', 'PA', 8.9936, -79.51973, 'America/Panama', 17],\n  ['Paris', 'FR', 48.85341, 2.3488, 'Europe/Paris', 42],\n  ['Pawtucket', 'US', 41.87871, -71.38256, 'America/New_York', 0], // -11\n  ['Petach Tikvah', 'IL', 32.08707, 34.88747, 'Asia/Jerusalem', 54],\n  ['Philadelphia', 'US', 39.95233, -75.16379, 'America/New_York', 8],\n  ['Phoenix', 'US', 33.44838, -112.07404, 'America/Phoenix', 366],\n  ['Pittsburgh', 'US', 40.44062, -79.99589, 'America/New_York', 239],\n  ['Providence', 'US', 41.82399, -71.41283, 'America/New_York', 0], // -15\n  ['Portland', 'US', 45.52345, -122.67621, 'America/Los_Angeles', 15],\n  ['Saint Louis', 'US', 38.62727, -90.19789, 'America/Chicago', 149],\n  ['Saint Petersburg', 'RU', 59.93863, 30.31413, 'Europe/Moscow', 11],\n  ['San Diego', 'US', 32.71533, -117.15726, 'America/Los_Angeles', 20],\n  ['San Francisco', 'US', 37.77493, -122.41942, 'America/Los_Angeles', 28],\n  ['Sao Paulo', 'BR', -23.5475, -46.63611, 'America/Sao_Paulo', 769],\n  ['Seattle', 'US', 47.60621, -122.33207, 'America/Los_Angeles', 56],\n  ['Sydney', 'AU', -33.86785, 151.20732, 'Australia/Sydney', 58],\n  ['Tel Aviv', 'IL', 32.08088, 34.78057, 'Asia/Jerusalem', 15],\n  ['Tiberias', 'IL', 32.79221, 35.53124, 'Asia/Jerusalem', 0], // -140\n  ['Toronto', 'CA', 43.70011, -79.4163, 'America/Toronto', 175],\n  ['Vancouver', 'CA', 49.24966, -123.11934, 'America/Vancouver', 70],\n  ['White Plains', 'US', 41.03399, -73.76291, 'America/New_York', 82],\n  ['Washington DC', 'US', 38.89511, -77.03637, 'America/New_York', 6],\n  ['Worcester', 'US', 42.26259, -71.80229, 'America/New_York', 164],\n];\nconst classicCities = new Map<string, Location>();\n\n// Zip-Codes.com TimeZone IDs\nconst ZIPCODES_TZ_MAP: Record<string, string> = {\n  '0': 'UTC',\n  '4': 'America/Puerto_Rico', // Atlantic (GMT -04:00)\n  '5': 'America/New_York', //    Eastern  (GMT -05:00)\n  '6': 'America/Chicago', //     Central  (GMT -06:00)\n  '7': 'America/Denver', //      Mountain (GMT -07:00)\n  '8': 'America/Los_Angeles', // Pacific  (GMT -08:00)\n  '9': 'America/Anchorage', //   Alaska   (GMT -09:00)\n  '10': 'Pacific/Honolulu', //   Hawaii-Aleutian Islands (GMT -10:00)\n  '11': 'Pacific/Pago_Pago', //  American Samoa (GMT -11:00)\n  '13': 'Pacific/Funafuti', //   Marshall Islands (GMT +12:00)\n  '14': 'Pacific/Guam', //       Guam     (GMT +10:00)\n  '15': 'Pacific/Palau', //      Palau    (GMT +9:00)\n  '16': 'Pacific/Chuuk', //      Micronesia (GMT +11:00)\n} as const;\n\n/** @private */\nconst timeFormatCache = new Map<string, Intl.DateTimeFormat>();\n\n/**\n * Gets a 24-hour time formatter (e.g. 07:41 or 20:03) from cache\n * or makes a new one if needed\n * @private\n */\nfunction getFormatter(tzid: string): Intl.DateTimeFormat {\n  const fmt = timeFormatCache.get(tzid);\n  if (fmt) return fmt;\n  const f = new Intl.DateTimeFormat('en-US', {\n    timeZone: tzid,\n    hour: 'numeric',\n    minute: 'numeric',\n    hour12: false,\n  });\n  timeFormatCache.set(tzid, f);\n  return f;\n}\n\n/** Class representing Location */\nexport class Location extends GeoLocation {\n  private readonly il: boolean;\n  private readonly cc?: string;\n  private readonly geoid?: string | number;\n  /**\n   * Initialize a Location instance\n   * @param latitude - Latitude as a decimal, valid range -90 thru +90 (e.g. 41.85003)\n   * @param longitude - Longitude as a decimal, valid range -180 thru +180 (e.g. -87.65005)\n   * @param il - in Israel (true) or Diaspora (false)\n   * @param tzid - Olson timezone ID, e.g. \"America/Chicago\"\n   * @param [cityName] - optional descriptive city name\n   * @param [countryCode] - ISO 3166 alpha-2 country code (e.g. \"FR\")\n   * @param [geoid] - optional string or numeric geographic ID\n   * @param [elevation] - in meters (default `0`)\n   */\n  constructor(\n    latitude: number,\n    longitude: number,\n    il: boolean,\n    tzid: string,\n    cityName?: string,\n    countryCode?: string,\n    geoid?: string | number,\n    elevation?: number\n  ) {\n    const lat = typeof latitude === 'number' ? latitude : parseFloat(latitude);\n    if (isNaN(lat) || lat < -90 || lat > 90) {\n      throw new RangeError(`Latitude ${latitude} out of range [-90,90]`);\n    }\n    const long =\n      typeof longitude === 'number' ? longitude : parseFloat(longitude);\n    if (isNaN(long) || long < -180 || long > 180) {\n      throw new RangeError(`Longitude ${longitude} out of range [-180,180]`);\n    }\n    if (!tzid) {\n      throw new RangeError(`Invalid timezone`);\n    }\n    const elev = typeof elevation === 'number' && elevation > 0 ? elevation : 0;\n    super(cityName || null, lat, long, elev, tzid);\n    this.il = Boolean(il);\n    this.cc = countryCode;\n    this.geoid = geoid;\n  }\n\n  getIsrael(): boolean {\n    return this.il;\n  }\n\n  getName(): string | null {\n    return this.getLocationName();\n  }\n\n  /**\n   * Returns the location name, up to the first comma\n   */\n  getShortName(): string | null {\n    const name = this.getLocationName();\n    if (!name) return name;\n    const comma = name.indexOf(', ');\n    if (comma === -1) return name;\n    if (this.cc === 'US' && name[comma + 2] === 'D') {\n      if (name[comma + 3] === 'C') {\n        return name.substring(0, comma + 4);\n      } else if (name[comma + 3] === '.' && name[comma + 4] === 'C') {\n        return name.substring(0, comma + 6);\n      }\n    }\n    return name.substring(0, comma);\n  }\n\n  getCountryCode(): string | undefined {\n    return this.cc;\n  }\n\n  getTzid(): string {\n    return this.getTimeZone();\n  }\n\n  /**\n   * Gets a 24-hour time formatter (e.g. 07:41 or 20:03) for this location\n   */\n  getTimeFormatter(): Intl.DateTimeFormat {\n    return getFormatter(this.getTimeZone());\n  }\n\n  getGeoId(): string | number | undefined {\n    return this.geoid;\n  }\n\n  /**\n   * Creates a location object from one of 60 \"classic\" Hebcal city names.\n   * The following city names are supported:\n   * 'Ashdod', 'Atlanta', 'Austin', 'Baghdad', 'Beer Sheva',\n   * 'Berlin', 'Baltimore', 'Bogota', 'Boston', 'Budapest',\n   * 'Buenos Aires', 'Buffalo', 'Chicago', 'Cincinnati', 'Cleveland',\n   * 'Dallas', 'Denver', 'Detroit', 'Eilat', 'Gibraltar', 'Haifa',\n   * 'Hawaii', 'Helsinki', 'Houston', 'Jerusalem', 'Johannesburg',\n   * 'Kiev', 'La Paz', 'Livingston', 'Las Vegas', 'London', 'Los Angeles',\n   * 'Marseilles', 'Miami', 'Minneapolis', 'Melbourne', 'Mexico City',\n   * 'Montreal', 'Moscow', 'New York', 'Omaha', 'Ottawa', 'Panama City',\n   * 'Paris', 'Pawtucket', 'Petach Tikvah', 'Philadelphia', 'Phoenix',\n   * 'Pittsburgh', 'Providence', 'Portland', 'Saint Louis', 'Saint Petersburg',\n   * 'San Diego', 'San Francisco', 'Sao Paulo', 'Seattle', 'Sydney',\n   * 'Tel Aviv', 'Tiberias', 'Toronto', 'Vancouver', 'White Plains',\n   * 'Washington DC', 'Worcester'\n   * @param name\n   */\n  static lookup(name: string): Location | undefined {\n    return classicCities.get(name.toLowerCase());\n  }\n\n  toString(): string {\n    return JSON.stringify(this);\n  }\n\n  /**\n   * Converts legacy Hebcal timezone to a standard Olson tzid.\n   * @param tz integer, GMT offset in hours\n   * @param dst 'none', 'eu', 'usa', or 'israel'\n   */\n  static legacyTzToTzid(tz: number, dst: string): string | undefined {\n    tz = +tz;\n    if (dst === 'none') {\n      if (tz === 0) {\n        return 'UTC';\n      } else {\n        const plus = tz > 0 ? '+' : '';\n        return `Etc/GMT${plus}${tz}`;\n      }\n    } else if (tz === 2 && dst === 'israel') {\n      return 'Asia/Jerusalem';\n    } else if (dst === 'eu') {\n      switch (tz) {\n        case -2:\n          return 'Atlantic/Cape_Verde';\n        case -1:\n          return 'Atlantic/Azores';\n        case 0:\n          return 'Europe/London';\n        case 1:\n          return 'Europe/Paris';\n        case 2:\n          return 'Europe/Athens';\n        default:\n          break;\n      }\n    } else if (dst === 'usa') {\n      return ZIPCODES_TZ_MAP[String(tz * -1)];\n    }\n    return undefined;\n  }\n\n  /**\n   * Converts timezone info from Zip-Codes.com to a standard Olson tzid.\n   * @example\n   * Location.getUsaTzid('AZ', 7, 'Y') // 'America/Denver'\n   * @param state two-letter all-caps US state abbreviation like 'CA'\n   * @param tz positive number, 5=America/New_York, 8=America/Los_Angeles\n   * @param dst single char 'Y' or 'N'\n   */\n  static getUsaTzid(state: string, tz: number, dst: string): string {\n    tz = +tz;\n    if (tz === 10 && state === 'AK') {\n      return 'America/Adak';\n    } else if (tz === 7 && state === 'AZ') {\n      return dst === 'Y' ? 'America/Denver' : 'America/Phoenix';\n    } else {\n      return ZIPCODES_TZ_MAP[tz];\n    }\n  }\n\n  /**\n   * Adds a location name for `Location.lookup()` only if the name isn't\n   * already being used. Returns `false` if the name is already taken\n   * and `true` if successfully added.\n   */\n  static addLocation(cityName: string, location: Location): boolean {\n    const name = cityName.toLowerCase();\n    if (classicCities.has(name)) {\n      return false;\n    }\n    classicCities.set(name, location);\n    return true;\n  }\n}\n\nfor (const city of classicCities0) {\n  const location = new Location(\n    city[2],\n    city[3],\n    city[1] === 'IL',\n    city[4],\n    city[0],\n    city[1],\n    undefined,\n    city[5]\n  );\n  Location.addLocation(city[0], location);\n}\n","import 'temporal-polyfill/global';\nimport {GeoLocation, NOAACalculator} from '@hebcal/noaa';\nimport {\n  HDate,\n  getPseudoISO,\n  getTimezoneOffset,\n  isDate,\n  pad2,\n} from '@hebcal/hdate';\n\n/**\n * @private\n */\nfunction zdtToDate(zdt: Temporal.ZonedDateTime | null): Date {\n  if (zdt === null) {\n    return new Date(NaN);\n  }\n  const res = new Date(zdt.epochMilliseconds);\n  res.setMilliseconds(0);\n  return res;\n}\n\nfunction getDate(date: Date | HDate): Date {\n  if (isDate(date)) return date as Date;\n  if (HDate.isHDate(date)) return (date as HDate).greg();\n  throw new TypeError(`invalid date: ${date}`);\n}\n\n/**\n * Calculate halachic times (zmanim / זְמַנִּים) for a given day and location.\n * Calculations are available for tzeit / tzais (nightfall),\n * shkiah (sunset) and more.\n *\n * Zmanim are estimated using an algorithm published by the US National Oceanic\n * and Atmospheric Administration. The NOAA solar calculator is based on equations\n * from _Astronomical Algorithms_ by Jean Meeus.\n *\n * The sunrise and sunset results are theoretically accurate to within a minute for\n * locations between +/- 72° latitude, and within 10 minutes outside of those latitudes.\n * However, due to variations in atmospheric composition, temperature, pressure and\n * conditions, observed values may vary from calculations.\n * https://gml.noaa.gov/grad/solcalc/calcdetails.html\n *\n * @example\n * const {GeoLocation, Zmanim} = require('@hebcal/core');\n * const latitude = 41.822232;\n * const longitude = -71.448292;\n * const tzid = 'America/New_York';\n * const friday = new Date(2023, 8, 8);\n * const gloc = new GeoLocation(null, latitude, longitude, 0, tzid);\n * const zmanim = new Zmanim(gloc, friday, false);\n * const candleLighting = zmanim.sunsetOffset(-18, true);\n * const timeStr = Zmanim.formatISOWithTimeZone(tzid, candleLighting);\n */\nexport class Zmanim {\n  private readonly date: Date;\n  private readonly gloc: GeoLocation;\n  private readonly noaa: NOAACalculator;\n  private useElevation: boolean;\n  /**\n   * Initialize a Zmanim instance.\n   * @param gloc GeoLocation including latitude, longitude, and timezone\n   * @param date Regular or Hebrew Date. If `date` is a regular `Date`,\n   *    hours, minutes, seconds and milliseconds are ignored.\n   * @param useElevation use elevation for calculations (default `false`).\n   *    If `true`, use elevation to affect the calculation of all sunrise/sunset based\n   *    zmanim. Note: there are some zmanim such as degree-based zmanim that are driven\n   *    by the amount of light in the sky and are not impacted by elevation.\n   *    These zmanim intentionally do not support elevation adjustment.\n   */\n  constructor(gloc: GeoLocation, date: Date | HDate, useElevation: boolean) {\n    const dt = getDate(date);\n    this.date = dt;\n    this.gloc = gloc;\n    const plainDate = Temporal.PlainDate.from({\n      year: dt.getFullYear(),\n      month: dt.getMonth() + 1,\n      day: dt.getDate(),\n    });\n    this.noaa = new NOAACalculator(gloc, plainDate);\n    this.useElevation = Boolean(useElevation);\n  }\n  /**\n   * Returns `true` if elevation adjustment is enabled\n   * for zmanim support elevation adjustment\n   */\n  getUseElevation(): boolean {\n    return this.useElevation;\n  }\n  /**\n   * Enables or disables elevation adjustment for zmanim support elevation adjustment\n   * @param useElevation\n   */\n  setUseElevation(useElevation: boolean) {\n    this.useElevation = useElevation;\n  }\n  /**\n   * Convenience function to get the time when sun is above or below the horizon\n   * for a certain angle (in degrees).\n   * This function does not support elevation adjustment.\n   * @param angle\n   * @param rising\n   */\n  timeAtAngle(angle: number, rising: boolean): Date {\n    const offsetZenith = 90 + angle;\n    const zdt = rising\n      ? this.noaa.getSunriseOffsetByDegrees(offsetZenith)\n      : this.noaa.getSunsetOffsetByDegrees(offsetZenith);\n    return zdtToDate(zdt);\n  }\n  /**\n   * Upper edge of the Sun appears over the eastern horizon in the morning (0.833° above horizon)\n   * If elevation is enabled, this function will include elevation in the calculation.\n   */\n  sunrise(): Date {\n    const zdt = this.useElevation\n      ? this.noaa.getSunrise()\n      : this.noaa.getSeaLevelSunrise();\n    return zdtToDate(zdt);\n  }\n  /**\n   * Upper edge of the Sun appears over the eastern horizon in the morning (0.833° above horizon).\n   * This function does not support elevation adjustment.\n   */\n  seaLevelSunrise(): Date {\n    const zdt = this.noaa.getSeaLevelSunrise();\n    return zdtToDate(zdt);\n  }\n  /**\n   * When the upper edge of the Sun disappears below the horizon (0.833° below horizon).\n   * If elevation is enabled, this function will include elevation in the calculation.\n   */\n  sunset(): Date {\n    const zdt = this.useElevation\n      ? this.noaa.getSunset()\n      : this.noaa.getSeaLevelSunset();\n    return zdtToDate(zdt);\n  }\n  /**\n   * When the upper edge of the Sun disappears below the horizon (0.833° below horizon).\n   * This function does not support elevation adjustment.\n   */\n  seaLevelSunset(): Date {\n    const zdt = this.noaa.getSeaLevelSunset();\n    return zdtToDate(zdt);\n  }\n  /**\n   * Civil dawn; Sun is 6° below the horizon in the morning.\n   * Because degree-based functions estimate the amount of light in the sky,\n   * the result is not impacted by elevation.\n   */\n  dawn(): Date {\n    const zdt = this.noaa.getBeginCivilTwilight();\n    return zdtToDate(zdt);\n  }\n  /**\n   * Civil dusk; Sun is 6° below the horizon in the evening.\n   * Because degree-based functions estimate the amount of light in the sky,\n   * the result is not impacted by elevation.\n   */\n  dusk(): Date {\n    const zdt = this.noaa.getEndCivilTwilight();\n    return zdtToDate(zdt);\n  }\n  /**\n   * Returns sunset for the previous day.\n   * If elevation is enabled, this function will include elevation in the calculation.\n   */\n  gregEve(): Date {\n    const prev = new Date(this.date);\n    prev.setDate(prev.getDate() - 1);\n    const zman = new Zmanim(this.gloc, prev, this.useElevation);\n    return zman.sunset();\n  }\n  /**\n   * @private\n   */\n  nightHour(): number {\n    return (this.sunrise().getTime() - this.gregEve().getTime()) / 12; // ms in hour\n  }\n  /**\n   * Midday – Chatzot; Sunrise plus 6 halachic hours\n   */\n  chatzot(): Date {\n    const startOfDay = this.noaa.getSeaLevelSunrise();\n    const endOfDay = this.noaa.getSeaLevelSunset();\n    const zdt = this.noaa.getSunTransit(startOfDay, endOfDay);\n    return zdtToDate(zdt);\n  }\n  /**\n   * Midnight – Chatzot; Sunset plus 6 halachic hours.\n   * If elevation is enabled, this function will include elevation in the calculation.\n   */\n  chatzotNight(): Date {\n    return new Date(this.sunrise().getTime() - this.nightHour() * 6);\n  }\n  /**\n   * Dawn – Alot haShachar; Sun is 16.1° below the horizon in the morning.\n   * Because degree-based functions estimate the amount of light in the sky,\n   * the result is not impacted by elevation.\n   */\n  alotHaShachar(): Date {\n    return this.timeAtAngle(16.1, true);\n  }\n  /**\n   * Dawn – Alot haShachar; calculated as 72 minutes before sunrise or\n   * sea level sunrise.\n   */\n  alotHaShachar72(): Date {\n    return this.sunriseOffset(-72, false, false);\n  }\n  /**\n   * Earliest talis & tefillin – Misheyakir; Sun is 11.5° below the horizon in the morning.\n   * Because degree-based functions estimate the amount of light in the sky,\n   * the result is not impacted by elevation.\n   */\n  misheyakir(): Date {\n    return this.timeAtAngle(11.5, true);\n  }\n  /**\n   * Earliest talis & tefillin – Misheyakir Machmir; Sun is 10.2° below the horizon in the morning.\n   * Because degree-based functions estimate the amount of light in the sky,\n   * the result is not impacted by elevation.\n   */\n  misheyakirMachmir(): Date {\n    return this.timeAtAngle(10.2, true);\n  }\n  /**\n   * Utility method for using elevation-aware sunrise/sunset\n   * @private\n   * @param hours\n   */\n  getShaahZmanisBasedZman(hours: number): Date {\n    const startOfDay = this.useElevation\n      ? this.noaa.getSunrise()\n      : this.noaa.getSeaLevelSunrise();\n    const endOfDay = this.useElevation\n      ? this.noaa.getSunset()\n      : this.noaa.getSeaLevelSunset();\n    const temporalHour = this.noaa.getTemporalHour(startOfDay, endOfDay);\n    const offset = Math.round(temporalHour * hours);\n    const zdt = NOAACalculator.getTimeOffset(startOfDay, offset);\n    return zdtToDate(zdt);\n  }\n  /**\n   * Latest Shema (Gra); Sunrise plus 3 halachic hours, according to the Gra.\n   * If elevation is enabled, this function will include elevation in the calculation.\n   */\n  sofZmanShma(): Date {\n    // Gra\n    return this.getShaahZmanisBasedZman(3);\n  }\n  /**\n   * Latest Shacharit (Gra); Sunrise plus 4 halachic hours, according to the Gra.\n   *\n   * This method returns the latest *zman tfila* (time to recite shema in the morning)\n   * that is 4 *shaos zmaniyos* (solar hours) after sunrise or sea level sunrise\n   * (depending on the `useElevation` setting), according\n   * to the [GRA](https://en.wikipedia.org/wiki/Vilna_Gaon).\n   *\n   * If elevation is enabled, this function will include elevation in the calculation.\n   */\n  sofZmanTfilla(): Date {\n    // Gra\n    return this.getShaahZmanisBasedZman(4);\n  }\n  /**\n   * Returns an array with alot (Date) and ms in hour (number)\n   * @private\n   */\n  getTemporalHour72(forceSeaLevel: boolean): [Date, number] {\n    const alot72 = this.sunriseOffset(-72, false, forceSeaLevel);\n    const tzeit72 = this.sunsetOffset(72, false, forceSeaLevel);\n    const temporalHour = (tzeit72.getTime() - alot72.getTime()) / 12;\n    return [alot72, temporalHour];\n  }\n  /**\n   * Returns an array with alot (Date) and ms in hour (number)\n   * @private\n   */\n  getTemporalHourByDeg(angle: number): [Date, number] {\n    const alot = this.timeAtAngle(angle, true);\n    const tzeit = this.timeAtAngle(angle, false);\n    const temporalHour = (tzeit.getTime() - alot.getTime()) / 12;\n    return [alot, temporalHour];\n  }\n  /**\n   * Latest Shema (MGA); Sunrise plus 3 halachic hours, according to Magen Avraham.\n   * Based on the opinion of the MGA that the day is calculated from\n   * dawn being fixed 72 minutes before sea-level sunrise, and nightfall is fixed\n   * 72 minutes after sea-level sunset.\n   */\n  sofZmanShmaMGA(): Date {\n    // Magen Avraham\n    const [alot72, temporalHour] = this.getTemporalHour72(true);\n    const offset = Math.floor(3 * temporalHour);\n    return new Date(alot72.getTime() + offset);\n  }\n  /**\n   * Latest Shema (MGA); Sunrise plus 3 halachic hours, according to Magen Avraham.\n   * Based on the opinion of the MGA that the day is calculated from\n   * dawn to nightfall with both being 16.1° below the horizon.\n   */\n  sofZmanShmaMGA16Point1(): Date {\n    const [alot, temporalHour] = this.getTemporalHourByDeg(16.1);\n    const offset = Math.floor(3 * temporalHour);\n    return new Date(alot.getTime() + offset);\n  }\n  /**\n   * Latest Shema (MGA); Sunrise plus 3 halachic hours, according to Magen Avraham.\n   * Based on the opinion of the MGA that the day is calculated from\n   * dawn to nightfall with both being 19.8° below the horizon.\n   *\n   * This calculation is based on the position of the sun 90 minutes after sunset in Jerusalem\n   * around the equinox / equilux which calculates to 19.8° below geometric zenith.\n   * https://kosherjava.com/2022/01/12/equinox-vs-equilux-zmanim-calculations/\n   */\n  sofZmanShmaMGA19Point8(): Date {\n    const [alot, temporalHour] = this.getTemporalHourByDeg(19.8);\n    const offset = Math.floor(3 * temporalHour);\n    return new Date(alot.getTime() + offset);\n  }\n  /**\n   * Latest Shacharit (MGA); Sunrise plus 4 halachic hours, according to Magen Avraham\n   */\n  sofZmanTfillaMGA(): Date {\n    // Magen Avraham\n    const [alot72, temporalHour] = this.getTemporalHour72(true);\n    const offset = Math.floor(4 * temporalHour);\n    return new Date(alot72.getTime() + offset);\n  }\n  /**\n   * Latest Shacharit (MGA); Sunrise plus 4 halachic hours, according to Magen Avraham.\n   * Based on the opinion of the MGA that the day is calculated from\n   * dawn to nightfall with both being 16.1° below the horizon.\n   */\n  sofZmanTfillaMGA16Point1(): Date {\n    const [alot, temporalHour] = this.getTemporalHourByDeg(16.1);\n    const offset = Math.floor(4 * temporalHour);\n    return new Date(alot.getTime() + offset);\n  }\n  /**\n   * Latest Shacharit (MGA); Sunrise plus 4 halachic hours, according to Magen Avraham.\n   * Based on the opinion of the MGA that the day is calculated from\n   * dawn to nightfall with both being 19.8° below the horizon.\n   *\n   * This calculation is based on the position of the sun 90 minutes after sunset in Jerusalem\n   * around the equinox / equilux which calculates to 19.8° below geometric zenith.\n   * https://kosherjava.com/2022/01/12/equinox-vs-equilux-zmanim-calculations/\n   */\n  sofZmanTfillaMGA19Point8(): Date {\n    const [alot, temporalHour] = this.getTemporalHourByDeg(19.8);\n    const offset = Math.floor(4 * temporalHour);\n    return new Date(alot.getTime() + offset);\n  }\n  /**\n   * Earliest Mincha – Mincha Gedola (GRA); Sunrise plus 6.5 halachic hours.\n   * If elevation is enabled, this function will include elevation in the calculation.\n   *\n   * This method returns the latest mincha gedola, the earliest time one can pray mincha\n   * that is 6.5 shaos zmaniyos (solar hours) after sunrise or sea level sunrise\n   * (depending on the `useElevation` setting), according\n   * to the [GRA](https://en.wikipedia.org/wiki/Vilna_Gaon).\n   *\n   * The Ramba\"m is of the opinion that it is better to delay *mincha* until\n   * *mincha ketana* while the Ra\"sh, Tur, GRA and others are of the\n   * opinion that *mincha* can be prayed *lechatchila* starting at *mincha gedola*.\n   */\n  minchaGedola(): Date {\n    return this.getShaahZmanisBasedZman(6.5);\n  }\n  /**\n   * Earliest Mincha – Mincha Gedola (MGA); Sunrise plus 6.5 halachic hours.\n   * If elevation is enabled, this function will include elevation in the calculation.\n   *\n   * This method returns the time of *mincha gedola* according to the Magen Avraham\n   * with the day starting 72 minutes before sunrise and ending 72 minutes after sunset.\n   * This is the earliest time to pray *mincha*.\n   */\n  minchaGedolaMGA(): Date {\n    const [alot72, temporalHour] = this.getTemporalHour72(false);\n    const offset = Math.floor(6.5 * temporalHour);\n    return new Date(alot72.getTime() + offset);\n  }\n  /**\n   * Preferable earliest time to recite Minchah – Mincha Ketana; Sunrise plus 9.5 halachic hours.\n   * If elevation is enabled, this function will include elevation in the calculation.\n   *\n   * This method returns *mincha ketana*, the preferred earliest time to pray *mincha* in the\n   * opinion of the [Rambam](https://en.wikipedia.org/wiki/Maimonides) and others,\n   * that is 9.5 *shaos zmaniyos* (solar hours) after sunrise or sea level sunrise\n   * (depending on the `useElevation` setting), according\n   * to the [GRA](https://en.wikipedia.org/wiki/Vilna_Gaon).\n   */\n  minchaKetana(): Date {\n    return this.getShaahZmanisBasedZman(9.5);\n  }\n  /**\n   * This method returns the time of *mincha ketana* according to the Magen Avraham\n   * with the day starting 72 minutes before sunrise and ending 72 minutes after sunset.\n   * This is the preferred earliest time to pray *mincha* according to the opinion of\n   * the [Rambam](https://en.wikipedia.org/wiki/Maimonides) and others.\n   *\n   * If elevation is enabled, this function will include elevation in the calculation.\n   */\n  minchaKetanaMGA(): Date {\n    const [alot72, temporalHour] = this.getTemporalHour72(false);\n    return new Date(alot72.getTime() + Math.floor(9.5 * temporalHour));\n  }\n  /**\n   * Plag haMincha; Sunrise plus 10.75 halachic hours.\n   * If elevation is enabled, this function will include elevation in the calculation.\n   */\n  plagHaMincha(): Date {\n    return this.getShaahZmanisBasedZman(10.75);\n  }\n  /**\n   * @param [angle=8.5] optional time for solar depression.\n   *   Default is 8.5 degrees for 3 small stars, use 7.083 degrees for 3 medium-sized stars.\n   * Because degree-based functions estimate the amount of light in the sky,\n   * the result is not impacted by elevation.\n   */\n  tzeit(angle = 8.5): Date {\n    return this.timeAtAngle(angle, false);\n  }\n  /**\n   * Alias for sunrise\n   */\n  neitzHaChama(): Date {\n    return this.sunrise();\n  }\n  /**\n   * Alias for sunset\n   */\n  shkiah(): Date {\n    return this.sunset();\n  }\n  /**\n   * Rabbeinu Tam holds that bein hashmashos is a specific time\n   * between sunset and tzeis hakochavim.\n   * One opinion on how to calculate this time is that\n   * it is 13.5 minutes before tzies 7.083.\n   * Because degree-based functions estimate the amount of light in the sky,\n   * the result is not impacted by elevation.\n   */\n  beinHaShmashos(): Date {\n    const tzeit = this.tzeit(7.083);\n    const millis = tzeit.getTime();\n    if (isNaN(millis)) {\n      return tzeit;\n    }\n    return new Date(millis - 13.5 * 60 * 1000);\n  }\n  /**\n   * Uses timeFormat to return a date like '20:34'.\n   * Returns `XX:XX` if the date is invalid.\n   */\n  static formatTime(dt: Date, timeFormat: Intl.DateTimeFormat): string {\n    if (isNaN(dt.getTime())) {\n      return 'XX:XX'; // Invalid Date\n    }\n    const time = timeFormat.format(dt);\n    const hm = time.split(':');\n    if (hm[0] === '24') {\n      return '00:' + hm[1];\n    }\n    return time;\n  }\n\n  /**\n   * Discards seconds, rounding to nearest minute.\n   * @param dt\n   */\n  static roundTime(dt: Date): Date {\n    const millis = dt.getTime();\n    if (isNaN(millis)) {\n      return dt;\n    }\n    // Round up to next minute if needed\n    const millisOnly = dt.getMilliseconds();\n    const seconds = dt.getSeconds();\n    if (seconds === 0 && millisOnly === 0) {\n      return dt;\n    }\n    const secAndMillis = seconds * 1000 + millisOnly;\n    const delta =\n      secAndMillis >= 30000 ? 60000 - secAndMillis : -1 * secAndMillis;\n    return new Date(millis + delta);\n  }\n\n  /**\n   * Get offset string (like \"+05:00\" or \"-08:00\") from tzid (like \"Europe/Moscow\")\n   * @param tzid\n   * @param date\n   */\n  static timeZoneOffset(tzid: string, date: Date): string {\n    const offset = getTimezoneOffset(tzid, date);\n    const offsetAbs = Math.abs(offset);\n    const hours = Math.floor(offsetAbs / 60);\n    const minutes = offsetAbs % 60;\n    return (offset < 0 ? '+' : '-') + pad2(hours) + ':' + pad2(minutes);\n  }\n\n  /**\n   * Returns a string like \"2022-04-01T13:06:00-11:00\"\n   * @param tzid\n   * @param date\n   */\n  static formatISOWithTimeZone(tzid: string, date: Date): string {\n    if (isNaN(date.getTime())) {\n      return '0000-00-00T00:00:00Z';\n    }\n    return (\n      getPseudoISO(tzid, date).substring(0, 19) +\n      Zmanim.timeZoneOffset(tzid, date)\n    );\n  }\n\n  /**\n   * Returns sunrise + `offset` minutes (either positive or negative).\n   * If elevation is enabled, this function will include elevation in the calculation\n   *  unless `forceSeaLevel` is `true`.\n   * @param offset minutes\n   * @param roundMinute round time to nearest minute (default true)\n   * @param forceSeaLevel use sea-level sunrise (default false)\n   */\n  sunriseOffset(\n    offset: number,\n    roundMinute = true,\n    forceSeaLevel = false\n  ): Date {\n    const sunrise = forceSeaLevel ? this.seaLevelSunrise() : this.sunrise();\n    if (isNaN(sunrise.getTime())) {\n      return sunrise;\n    }\n    if (roundMinute) {\n      // For positive offsets only, round up to next minute if needed\n      if (offset > 0 && sunrise.getSeconds() >= 30) {\n        offset++;\n      }\n      sunrise.setSeconds(0, 0);\n    }\n    return new Date(sunrise.getTime() + offset * 60 * 1000);\n  }\n\n  /**\n   * Returns sunset + `offset` minutes (either positive or negative).\n   * If elevation is enabled, this function will include elevation in the calculation\n   *  unless `forceSeaLevel` is `true`.\n   * @param offset minutes\n   * @param roundMinute round time to nearest minute (default true)\n   * @param forceSeaLevel use sea-level sunset (default false)\n   */\n  sunsetOffset(\n    offset: number,\n    roundMinute = true,\n    forceSeaLevel = false\n  ): Date {\n    const sunset = forceSeaLevel ? this.seaLevelSunset() : this.sunset();\n    if (isNaN(sunset.getTime())) {\n      return sunset;\n    }\n    if (roundMinute) {\n      // For Havdalah only, round up to next minute if needed\n      if (offset > 0 && sunset.getSeconds() >= 30) {\n        offset++;\n      }\n      sunset.setSeconds(0, 0);\n    }\n    return new Date(sunset.getTime() + offset * 60 * 1000);\n  }\n  /**\n   * Returns the Hebrew date relative to the specified location and Gregorian date,\n   * taking into consideration whether the time is before or after sunset.\n   *\n   * For example, if the given date and is `2024-09-22T10:35` (before sunset), and\n   * sunset for the specified location is **19:04**, then this function would\n   * return a Hebrew date of `19th of Elul, 5784`.\n   * If the given date is the same Gregorian day after sunset\n   * (for example `2024-09-22T20:07`), this function would return a\n   * Hebrew date of `20th of Elul, 5784`.\n   * @example\n   * const {GeoLocation, Zmanim, HDate} = require('@hebcal/core');\n   * const latitude = 48.85341;\n   * const longitude = 2.3488;\n   * const timezone = 'Europe/Paris';\n   * const gloc = new GeoLocation(null, latitude, longitude, 0, timezone);\n   * const before = Zmanim.makeSunsetAwareHDate(gloc, new Date('2024-09-22T17:38:46.123Z'), false);\n   * console.log(before.toString()); // '19 Elul 5784'\n   * const after = Zmanim.makeSunsetAwareHDate(gloc, new Date('2024-09-22T23:45:18.345Z'), false);\n   * console.log(after.toString()); // '20 Elul 5784'\n   */\n  static makeSunsetAwareHDate(\n    gloc: GeoLocation,\n    date: Date,\n    useElevation: boolean\n  ): HDate {\n    const zmanim = new Zmanim(gloc, date, useElevation);\n    const sunset = zmanim.sunset();\n    let hd = new HDate(date);\n    const sunsetMillis = sunset.getTime();\n    if (isNaN(sunsetMillis)) {\n      return hd;\n    }\n    if (date.getTime() >= sunsetMillis) {\n      hd = hd.next();\n    }\n    return hd;\n  }\n}\n","export default class QuickLRU extends Map {\n\tconstructor(options = {}) {\n\t\tsuper();\n\n\t\tif (!(options.maxSize && options.maxSize > 0)) {\n\t\t\tthrow new TypeError('`maxSize` must be a number greater than 0');\n\t\t}\n\n\t\tif (typeof options.maxAge === 'number' && options.maxAge === 0) {\n\t\t\tthrow new TypeError('`maxAge` must be a number greater than 0');\n\t\t}\n\n\t\t// TODO: Use private class fields when ESLint supports them.\n\t\tthis.maxSize = options.maxSize;\n\t\tthis.maxAge = options.maxAge || Number.POSITIVE_INFINITY;\n\t\tthis.onEviction = options.onEviction;\n\t\tthis.cache = new Map();\n\t\tthis.oldCache = new Map();\n\t\tthis._size = 0;\n\t}\n\n\t// TODO: Use private class methods when targeting Node.js 16.\n\t_emitEvictions(cache) {\n\t\tif (typeof this.onEviction !== 'function') {\n\t\t\treturn;\n\t\t}\n\n\t\tfor (const [key, item] of cache) {\n\t\t\tthis.onEviction(key, item.value);\n\t\t}\n\t}\n\n\t_deleteIfExpired(key, item) {\n\t\tif (typeof item.expiry === 'number' && item.expiry <= Date.now()) {\n\t\t\tif (typeof this.onEviction === 'function') {\n\t\t\t\tthis.onEviction(key, item.value);\n\t\t\t}\n\n\t\t\treturn this.delete(key);\n\t\t}\n\n\t\treturn false;\n\t}\n\n\t_getOrDeleteIfExpired(key, item) {\n\t\tconst deleted = this._deleteIfExpired(key, item);\n\t\tif (deleted === false) {\n\t\t\treturn item.value;\n\t\t}\n\t}\n\n\t_getItemValue(key, item) {\n\t\treturn item.expiry ? this._getOrDeleteIfExpired(key, item) : item.value;\n\t}\n\n\t_peek(key, cache) {\n\t\tconst item = cache.get(key);\n\n\t\treturn this._getItemValue(key, item);\n\t}\n\n\t_set(key, value) {\n\t\tthis.cache.set(key, value);\n\t\tthis._size++;\n\n\t\tif (this._size >= this.maxSize) {\n\t\t\tthis._size = 0;\n\t\t\tthis._emitEvictions(this.oldCache);\n\t\t\tthis.oldCache = this.cache;\n\t\t\tthis.cache = new Map();\n\t\t}\n\t}\n\n\t_moveToRecent(key, item) {\n\t\tthis.oldCache.delete(key);\n\t\tthis._set(key, item);\n\t}\n\n\t* _entriesAscending() {\n\t\tfor (const item of this.oldCache) {\n\t\t\tconst [key, value] = item;\n\t\t\tif (!this.cache.has(key)) {\n\t\t\t\tconst deleted = this._deleteIfExpired(key, value);\n\t\t\t\tif (deleted === false) {\n\t\t\t\t\tyield item;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tfor (const item of this.cache) {\n\t\t\tconst [key, value] = item;\n\t\t\tconst deleted = this._deleteIfExpired(key, value);\n\t\t\tif (deleted === false) {\n\t\t\t\tyield item;\n\t\t\t}\n\t\t}\n\t}\n\n\tget(key) {\n\t\tif (this.cache.has(key)) {\n\t\t\tconst item = this.cache.get(key);\n\n\t\t\treturn this._getItemValue(key, item);\n\t\t}\n\n\t\tif (this.oldCache.has(key)) {\n\t\t\tconst item = this.oldCache.get(key);\n\t\t\tif (this._deleteIfExpired(key, item) === false) {\n\t\t\t\tthis._moveToRecent(key, item);\n\t\t\t\treturn item.value;\n\t\t\t}\n\t\t}\n\t}\n\n\tset(key, value, {maxAge = this.maxAge} = {}) {\n\t\tconst expiry =\n\t\t\ttypeof maxAge === 'number' && maxAge !== Number.POSITIVE_INFINITY ?\n\t\t\t\tDate.now() + maxAge :\n\t\t\t\tundefined;\n\t\tif (this.cache.has(key)) {\n\t\t\tthis.cache.set(key, {\n\t\t\t\tvalue,\n\t\t\t\texpiry\n\t\t\t});\n\t\t} else {\n\t\t\tthis._set(key, {value, expiry});\n\t\t}\n\n\t\treturn this;\n\t}\n\n\thas(key) {\n\t\tif (this.cache.has(key)) {\n\t\t\treturn !this._deleteIfExpired(key, this.cache.get(key));\n\t\t}\n\n\t\tif (this.oldCache.has(key)) {\n\t\t\treturn !this._deleteIfExpired(key, this.oldCache.get(key));\n\t\t}\n\n\t\treturn false;\n\t}\n\n\tpeek(key) {\n\t\tif (this.cache.has(key)) {\n\t\t\treturn this._peek(key, this.cache);\n\t\t}\n\n\t\tif (this.oldCache.has(key)) {\n\t\t\treturn this._peek(key, this.oldCache);\n\t\t}\n\t}\n\n\tdelete(key) {\n\t\tconst deleted = this.cache.delete(key);\n\t\tif (deleted) {\n\t\t\tthis._size--;\n\t\t}\n\n\t\treturn this.oldCache.delete(key) || deleted;\n\t}\n\n\tclear() {\n\t\tthis.cache.clear();\n\t\tthis.oldCache.clear();\n\t\tthis._size = 0;\n\t}\n\n\tresize(newSize) {\n\t\tif (!(newSize && newSize > 0)) {\n\t\t\tthrow new TypeError('`maxSize` must be a number greater than 0');\n\t\t}\n\n\t\tconst items = [...this._entriesAscending()];\n\t\tconst removeCount = items.length - newSize;\n\t\tif (removeCount < 0) {\n\t\t\tthis.cache = new Map(items);\n\t\t\tthis.oldCache = new Map();\n\t\t\tthis._size = items.length;\n\t\t} else {\n\t\t\tif (removeCount > 0) {\n\t\t\t\tthis._emitEvictions(items.slice(0, removeCount));\n\t\t\t}\n\n\t\t\tthis.oldCache = new Map(items.slice(removeCount));\n\t\t\tthis.cache = new Map();\n\t\t\tthis._size = 0;\n\t\t}\n\n\t\tthis.maxSize = newSize;\n\t}\n\n\t* keys() {\n\t\tfor (const [key] of this) {\n\t\t\tyield key;\n\t\t}\n\t}\n\n\t* values() {\n\t\tfor (const [, value] of this) {\n\t\t\tyield value;\n\t\t}\n\t}\n\n\t* [Symbol.iterator]() {\n\t\tfor (const item of this.cache) {\n\t\t\tconst [key, value] = item;\n\t\t\tconst deleted = this._deleteIfExpired(key, value);\n\t\t\tif (deleted === false) {\n\t\t\t\tyield [key, value.value];\n\t\t\t}\n\t\t}\n\n\t\tfor (const item of this.oldCache) {\n\t\t\tconst [key, value] = item;\n\t\t\tif (!this.cache.has(key)) {\n\t\t\t\tconst deleted = this._deleteIfExpired(key, value);\n\t\t\t\tif (deleted === false) {\n\t\t\t\t\tyield [key, value.value];\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\t* entriesDescending() {\n\t\tlet items = [...this.cache];\n\t\tfor (let i = items.length - 1; i >= 0; --i) {\n\t\t\tconst item = items[i];\n\t\t\tconst [key, value] = item;\n\t\t\tconst deleted = this._deleteIfExpired(key, value);\n\t\t\tif (deleted === false) {\n\t\t\t\tyield [key, value.value];\n\t\t\t}\n\t\t}\n\n\t\titems = [...this.oldCache];\n\t\tfor (let i = items.length - 1; i >= 0; --i) {\n\t\t\tconst item = items[i];\n\t\t\tconst [key, value] = item;\n\t\t\tif (!this.cache.has(key)) {\n\t\t\t\tconst deleted = this._deleteIfExpired(key, value);\n\t\t\t\tif (deleted === false) {\n\t\t\t\t\tyield [key, value.value];\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\t* entriesAscending() {\n\t\tfor (const [key, value] of this._entriesAscending()) {\n\t\t\tyield [key, value.value];\n\t\t}\n\t}\n\n\tget size() {\n\t\tif (!this._size) {\n\t\t\treturn this.oldCache.size;\n\t\t}\n\n\t\tlet oldCacheSize = 0;\n\t\tfor (const key of this.oldCache.keys()) {\n\t\t\tif (!this.cache.has(key)) {\n\t\t\t\toldCacheSize++;\n\t\t\t}\n\t\t}\n\n\t\treturn Math.min(this._size + oldCacheSize, this.maxSize);\n\t}\n\n\tentries() {\n\t\treturn this.entriesAscending();\n\t}\n\n\tforEach(callbackFunction, thisArgument = this) {\n\t\tfor (const [key, value] of this.entriesAscending()) {\n\t\t\tcallbackFunction.call(thisArgument, value, key, this);\n\t\t}\n\t}\n\n\tget [Symbol.toStringTag]() {\n\t\treturn JSON.stringify([...this.entriesAscending()]);\n\t}\n}\n","import {HDate, months} from '@hebcal/hdate';\n\nconst SUN = 0;\nconst TUE = 2;\nconst FRI = 5;\nconst SAT = 6;\n\nconst NISAN = months.NISAN;\nconst IYYAR = months.IYYAR;\n\n/**\n * Yom HaShoah first observed in 1951.\n * When the actual date of Yom Hashoah falls on a Friday, the\n * state of Israel observes Yom Hashoah on the preceding\n * Thursday. When it falls on a Sunday, Yom Hashoah is observed\n * on the following Monday.\n * http://www.ushmm.org/remembrance/dor/calendar/\n * @private\n * @param year\n */\nexport function dateYomHaShoah(year: number): HDate | null {\n  if (year < 5711) {\n    return null;\n  }\n  let nisan27dt = new HDate(27, NISAN, year);\n  if (nisan27dt.getDay() === FRI) {\n    nisan27dt = new HDate(26, NISAN, year);\n  } else if (nisan27dt.getDay() === SUN) {\n    nisan27dt = new HDate(28, NISAN, year);\n  }\n  return nisan27dt;\n}\n\n/**\n * Yom HaAtzma'ut only celebrated after 1948\n * @private\n * @param year\n */\nexport function dateYomHaZikaron(year: number): HDate | null {\n  if (year < 5708) {\n    return null;\n  }\n  let day;\n  const pesach = new HDate(15, NISAN, year);\n  const pdow = pesach.getDay();\n  if (pdow === SUN) {\n    day = 2;\n  } else if (pdow === SAT) {\n    day = 3;\n  } else if (year < 5764) {\n    day = 4;\n  } else if (pdow === TUE) {\n    day = 5;\n  } else {\n    day = 4;\n  }\n  return new HDate(day, IYYAR, year);\n}\n","import {Locale} from './locale';\n\n/** @private */\nexport function renderParshaName(parsha: string[], locale?: string): string {\n  const locale0 = locale ?? Locale.getLocaleName();\n  let name = Locale.gettext(parsha[0], locale0);\n  if (parsha.length === 2) {\n    const hyphen = locale0 === 'he' ? '־' : '-';\n    name += hyphen + Locale.gettext(parsha[1], locale0);\n  }\n  name = name.replace(/'/g, '’');\n  const str = Locale.gettext('Parashat', locale) + ' ' + name;\n  return str.normalize();\n}\n","/*\n    Hebcal - A Jewish Calendar Generator\n    Copyright (c) 1994-2020 Danny Sadinoff\n    Portions copyright Eyal Schachter and Michael J. Radwin\n\n    https://github.com/hebcal/hebcal-es6\n\n    This program is free software; you can redistribute it and/or\n    modify it under the terms of the GNU General Public License\n    as published by the Free Software Foundation; either version 2\n    of the License, or (at your option) any later version.\n\n    This program is distributed in the hope that it will be useful,\n    but WITHOUT ANY WARRANTY; without even the implied warranty of\n    MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n    GNU General Public License for more details.\n\n    You should have received a copy of the GNU General Public License\n    along with this program. If not, see <http://www.gnu.org/licenses/>.\n */\n\n/*\n * Many of the following algorithms were taken from hebrew calendar\n * routines by Maimonedes, from his Mishneh Torah, and implemented by\n *  Nachum Dershowitz                Department of Computer Science\n *  (217) 333-4219                   University of Illinois at Urbana-Champaign\n *  nachum@cs.uiuedu               1304 West Springfield Avenue\n *                                   Urbana, Illinois 61801\n *\n * The routines were included in the emacs 19 distribution.\n *\n */\nimport {HDate, months} from '@hebcal/hdate';\nimport {renderParshaName} from './parshaName';\nimport QuickLRU from 'quick-lru';\nimport './locale'; // Adds Hebrew and Ashkenazic translations\n\nconst INCOMPLETE = 0;\nconst REGULAR = 1;\nconst COMPLETE = 2;\n\nfunction yearType(hyear: number): number {\n  const longC = HDate.longCheshvan(hyear);\n  const shortK = HDate.shortKislev(hyear);\n  if (longC && !shortK) {\n    return COMPLETE;\n  } else if (!longC && shortK) {\n    return INCOMPLETE;\n  } else {\n    return REGULAR;\n  }\n}\n\n/** The result from `Sedra.lookup()` */\nexport type SedraResult = {\n  /**\n   * Name of the parsha (or parshiyot) read on\n   * Hebrew date, e.g. `['Noach']` or `['Matot', 'Masei']`\n   */\n  parsha: string[];\n  /**\n   * True if this is a regular parasha HaShavua\n   * Torah reading, false if it's a special holiday reading\n   */\n  chag: boolean;\n  /**\n   * The parsha number (or numbers) using 1-indexing.\n   * A `number` for a regular (single) parsha, and a `number[]`\n   * for a doubled parsha.\n   * For Parashat *Bereshit*, `num` would be equal to `1`, and for\n   * *Matot-Masei* it would be `[42, 43]`\n   */\n  num?: number | number[];\n  /** The date of the Shabbat this parsha is read */\n  hdate: HDate;\n};\n\n/**\n * Represents Parashah HaShavua for an entire Hebrew year\n */\nexport class Sedra {\n  private readonly year: number;\n  private readonly il: boolean;\n  private readonly firstSaturday: number;\n  private readonly theSedraArray: readonly NumberOrString[];\n  private readonly yearKey: string;\n  /**\n   * Caculates the Parashah HaShavua for an entire Hebrew year\n   * @param hyear - Hebrew year (e.g. 5749)\n   * @param il - Use Israel sedra schedule (false for Diaspora)\n   */\n  constructor(hyear: number, il: boolean) {\n    hyear = +hyear;\n    this.year = hyear;\n\n    const rh0 = new HDate(1, months.TISHREI, hyear);\n    const rh = rh0.abs();\n    const rhDay = rh0.getDay() + 1;\n\n    // find the first Saturday on or after Rosh Hashana\n    this.firstSaturday = HDate.dayOnOrBefore(6, rh + 6);\n    const leap = +HDate.isLeapYear(hyear);\n    this.il = Boolean(il);\n\n    const type = yearType(hyear);\n    let key = `${leap}${rhDay}${type}`;\n    if (types[key]) {\n      this.theSedraArray = types[key];\n      this.yearKey = key;\n    } else {\n      key = key + +this.il; // cast to num, then concat\n      this.theSedraArray = types[key];\n      this.yearKey = key;\n    }\n\n    if (!this.theSedraArray) {\n      throw new Error(\n        `improper sedra year type ${key} calculated for ${hyear}`\n      );\n    }\n  }\n\n  /**\n   * Returns the parsha (or parshiyot) read on Hebrew date\n   * @deprecated Use {@link lookup} instead\n   * @param hd Hebrew date or R.D. days\n   */\n  get(hd: HDate | number): string[] {\n    return this.lookup(hd).parsha;\n  }\n\n  /**\n   * Looks up parsha for the date, then returns a translated or transliterated string\n   * @deprecated Use {@link lookup} instead\n   * @param hd Hebrew date or R.D. days\n   * @param [locale] Optional locale name (i.e: `'he'`, `'fr'`). Defaults to active locale\n   */\n  getString(hd: HDate | number, locale?: string): string {\n    const parsha = this.get(hd);\n    return renderParshaName(parsha, locale);\n  }\n\n  /**\n   * Checks to see if this day would be a regular parasha HaShavua\n   * Torah reading or special holiday reading\n   * @deprecated Use {@link lookup} instead\n   * @param hd Hebrew date or R.D. days\n   */\n  isParsha(hd: HDate | number): boolean {\n    return !this.lookup(hd).chag;\n  }\n\n  /**\n   * Returns the date that a parsha occurs\n   * or `null` if the parsha doesn't occur this year\n   * @param parsha if a `string`, specified with Sephardic transliterations\n   *  like `'Noach'` or `'Matot-Masei'`. If an array, must be a 1- or 2-element\n   *  array such as `['Noach']` or `['Matot', 'Masei']`. If a `number`, should\n   *  be a 0-based parsha index (`0` for Bereshit, `1` for Noach) or a negative\n   *  number for a doubled parsha (e.g. `-21` for Vayakhel-Pekudei)\n   */\n  find(parsha: number | string | string[]): HDate | null {\n    if (typeof parsha === 'number') {\n      if (parsha >= parshiot.length || (parsha < 0 && !isValidDouble(parsha))) {\n        throw new RangeError(`Invalid parsha number: ${parsha}`);\n      }\n      return this.findInternal(parsha);\n    } else if (typeof parsha === 'string') {\n      const num = parsha2id.get(parsha);\n      if (typeof num === 'number') {\n        return this.find(num);\n      } else if (parsha.indexOf('-') !== -1) {\n        if (parsha === CHMPESACH || parsha === CHMSUKOT) {\n          return this.findInternal(parsha);\n        }\n        return this.find(parsha.split('-'));\n      } else {\n        // try to find Saturday holiday like 'Yom Kippur'\n        return this.findInternal(parsha);\n      }\n    } else if (Array.isArray(parsha)) {\n      const plen = parsha.length;\n      if ((plen !== 1 && plen !== 2) || typeof parsha[0] !== 'string') {\n        throw new TypeError(\n          `Invalid parsha argument: ${JSON.stringify(parsha)}`\n        );\n      }\n      if (plen === 1) {\n        return this.find(parsha[0]);\n      }\n      const p1 = parsha[0];\n      const p2 = parsha[1];\n      const num1 = parsha2id.get(p1);\n      const num2 = parsha2id.get(p2);\n      if (\n        typeof num1 !== 'number' ||\n        typeof num2 !== 'number' ||\n        num2 !== num1 + 1 ||\n        !isValidDouble(-num1)\n      ) {\n        throw new RangeError(`Unrecognized parsha name: ${p1}-${p2}`);\n      }\n      return this.find(-num1);\n    }\n    return null; /* NOTREACHED */\n  }\n\n  private findInternal(parsha: NumberOrString): HDate | null {\n    const idx = this.theSedraArray.indexOf(parsha);\n    if (idx === -1) {\n      return null; // doesn't occur this year\n    }\n    return new HDate(this.firstSaturday + idx * 7);\n  }\n\n  /**\n   * Returns the date that a parsha (or its doubled or undoubled counterpart)\n   * occurs, or `null` if the parsha doesn't occur this year\n   */\n  findContaining(parsha: number | string): HDate | null {\n    const hdate = this.find(parsha);\n    if (hdate) {\n      return hdate;\n    }\n    if (typeof parsha === 'number') {\n      // a valid negative number (double parsha in a year where they are\n      // combined) would've been found above, and a invalid negative number\n      // would've thrown an error, so this parsha must be a positive number\n      // representing either p1 or p2\n      const p1 = -parsha;\n      if (isValidDouble(p1)) {\n        return this.find(p1);\n      } else {\n        // this must be the second individual parsha of a doubled pair\n        // for example 29 for Kedoshim, so check for -28 for Achrei Mot-Kedoshim\n        return this.find(p1 + 1);\n      }\n    } else {\n      const num = parsha2id.get(parsha);\n      if (num) {\n        // parsha is either the first or second individual parsha of\n        // a pair that is doubled this year\n        const p1 = -num;\n        if (isValidDouble(p1)) {\n          return this.find(p1);\n        } else {\n          return this.find(p1 + 1);\n        }\n      } else {\n        // this was indeed a doubled parsha, so return date of the first half\n        const [p1] = parsha.split('-');\n        return this.find(p1);\n      }\n    }\n  }\n\n  /**\n   * Returns the underlying annual sedra schedule.\n   * Used by `@hebcal/triennial`\n   */\n  getSedraArray(): readonly NumberOrString[] {\n    return this.theSedraArray;\n  }\n\n  /**\n   * R.D. date of the first Saturday on or after Rosh Hashana\n   */\n  getFirstSaturday(): number {\n    return this.firstSaturday;\n  }\n\n  getYear(): number {\n    return this.year;\n  }\n\n  /**\n   * Returns an object describing the parsha on the first Saturday on or after `hd`\n   * @param hd Hebrew date or R.D. days\n   */\n  lookup(hd: HDate | number): SedraResult {\n    const abs =\n      typeof hd === 'number' ? hd : HDate.isHDate(hd) ? hd.abs() : NaN;\n\n    if (isNaN(abs)) {\n      throw new TypeError(`Bad date argument: ${hd}`);\n    }\n\n    // find the first saturday on or after today's date\n    const saturday = HDate.dayOnOrBefore(6, abs + 6);\n\n    const weekNum = (saturday - this.firstSaturday) / 7;\n    const index = this.theSedraArray[weekNum];\n\n    if (typeof index === 'undefined') {\n      const sedra = getSedra(this.year + 1, this.il);\n      return sedra.lookup(saturday); // must be next year\n    }\n    const hdate = new HDate(saturday);\n    if (typeof index === 'string') {\n      // Shabbat has a chag. Return a description\n      return {parsha: [index], chag: true, hdate};\n    }\n    if (index >= 0) {\n      return {parsha: [parshiot[index]], chag: false, num: index + 1, hdate};\n    }\n\n    const p1 = D(index); // undouble the parsha\n    return {\n      parsha: [parshiot[p1], parshiot[p1 + 1]],\n      chag: false,\n      num: [p1 + 1, p1 + 2],\n      hdate,\n    };\n  }\n}\n\n/**\n * The 54 parshiyot of the Torah as transilterated strings.\n * parshiot[0] == 'Bereshit', parshiot[1] == 'Noach', parshiot[52] == \"Ha'azinu\".\n * @readonly\n * @type {string[]}\n */\nexport const parshiot: readonly string[] = [\n  'Bereshit',\n  'Noach',\n  'Lech-Lecha',\n  'Vayera',\n  'Chayei Sara',\n  'Toldot',\n  'Vayetzei',\n  'Vayishlach',\n  'Vayeshev',\n  'Miketz',\n  'Vayigash',\n  'Vayechi',\n  'Shemot',\n  'Vaera',\n  'Bo',\n  'Beshalach',\n  'Yitro',\n  'Mishpatim',\n  'Terumah',\n  'Tetzaveh',\n  'Ki Tisa',\n  'Vayakhel',\n  'Pekudei',\n  'Vayikra',\n  'Tzav',\n  'Shmini',\n  'Tazria',\n  'Metzora',\n  'Achrei Mot',\n  'Kedoshim',\n  'Emor',\n  'Behar',\n  'Bechukotai',\n  'Bamidbar',\n  'Nasso',\n  \"Beha'alotcha\",\n  \"Sh'lach\",\n  'Korach',\n  'Chukat',\n  'Balak',\n  'Pinchas',\n  'Matot',\n  'Masei',\n  'Devarim',\n  'Vaetchanan',\n  'Eikev',\n  \"Re'eh\",\n  'Shoftim',\n  'Ki Teitzei',\n  'Ki Tavo',\n  'Nitzavim',\n  'Vayeilech',\n  \"Ha'azinu\",\n] as const;\n\n// 0-based parsha IDs\nconst parsha2id = new Map<string, number>();\nfor (let id = 0; id < parshiot.length; id++) {\n  const name = parshiot[id];\n  parsha2id.set(name, id);\n}\n\n// 0-based parsha IDs\nconst doubles = [\n  21, // Vayakhel-Pekudei\n  26, // Tazria-Metzora\n  28, // Achrei Mot-Kedoshim\n  31, // Behar-Bechukotai\n  38, // Chukat-Balak\n  41, // Matot-Masei\n  50, // Nitzavim-Vayeilech\n];\n\n/**\n * @private\n * @param id a negative number\n */\nfunction isValidDouble(id: number): boolean {\n  return doubles.includes(-id);\n}\n\n/**\n * parsha doubler/undoubler\n * @private\n * @param p\n */\nfunction D(p: number): number {\n  return -p;\n}\n\nconst RH = 'Rosh Hashana'; // 0\nconst YK = 'Yom Kippur'; // 1\n\nconst SUKKOT = 'Sukkot'; // 0\nconst CHMSUKOT = 'Sukkot Shabbat Chol ha-Moed'; // 0\nconst SHMINI = 'Shmini Atzeret'; // 0\n\nconst PESACH = 'Pesach'; // 25\nconst PESACH1 = 'Pesach I';\nconst CHMPESACH = 'Pesach Shabbat Chol ha-Moed'; // 25\nconst PESACH7 = 'Pesach VII'; // 25\nconst PESACH8 = 'Pesach VIII';\nconst SHAVUOT = 'Shavuot'; // 33\n\n/**\n * Returns an array from start to end\n * @private\n * @param start beginning number, inclusive\n * @param stop ending number, inclusive\n */\nfunction range(start: number, stop: number): readonly number[] {\n  return Array.from({length: stop - start + 1}, (v, k) => k + start);\n}\n\ntype NumberOrString = number | string;\n\nconst yearStartVayeilech: readonly NumberOrString[] = [51, 52, CHMSUKOT];\nconst yearStartHaazinu: readonly NumberOrString[] = [52, YK, CHMSUKOT];\nconst yearStartRH: readonly NumberOrString[] = [RH, 52, SUKKOT, SHMINI];\nconst r020 = range(0, 20);\nconst r027 = range(0, 27);\nconst r3340 = range(33, 40);\nconst r4349 = range(43, 49);\nconst r4350 = range(43, 50);\n\n/**\n * The ordinary year types (keviot)\n * names are leap/nonleap - day - incomplete/regular/complete - diaspora/Israel\n * @private\n * @readonly\n */\nconst types: Record<string, readonly NumberOrString[]> = {\n  /* Hebrew year that starts on Monday, is `incomplete' (Heshvan and\n   * Kislev each have 29 days), and has Passover start on Tuesday. */\n  // e.g. 5753\n  '020': yearStartVayeilech.concat(\n    r020,\n    D(21),\n    23,\n    24,\n    CHMPESACH,\n    25,\n    D(26),\n    D(28),\n    30,\n    D(31),\n    r3340,\n    D(41),\n    r4349,\n    D(50)\n  ),\n\n  /* Hebrew year that starts on Monday, is `complete' (Heshvan and\n   * Kislev each have 30 days), and has Passover start on Thursday. */\n  // e.g. 5756\n  '0220': yearStartVayeilech.concat(\n    r020,\n    D(21),\n    23,\n    24,\n    CHMPESACH,\n    25,\n    D(26),\n    D(28),\n    30,\n    D(31),\n    33,\n    SHAVUOT,\n    range(34, 37),\n    D(38),\n    40,\n    D(41),\n    r4349,\n    D(50)\n  ),\n\n  /* Hebrew year that starts on Thursday, is `regular' (Heshvan has 29\n   * days and Kislev has 30 days), and has Passover start on Saturday. */\n  // e.g. 5701\n  '0510': yearStartHaazinu.concat(\n    r020,\n    D(21),\n    23,\n    24,\n    PESACH1,\n    PESACH8,\n    25,\n    D(26),\n    D(28),\n    30,\n    D(31),\n    r3340,\n    D(41),\n    r4350\n  ),\n\n  /* Hebrew year that starts on Thursday, is `regular' (Heshvan has 29\n   * days and Kislev has 30 days), and has Passover start on Saturday. */\n  // e.g. 5745\n  '0511': yearStartHaazinu.concat(\n    r020,\n    D(21),\n    23,\n    24,\n    PESACH,\n    25,\n    D(26),\n    D(28),\n    range(30, 40),\n    D(41),\n    r4350\n  ),\n\n  /* Hebrew year that starts on Thursday, is `complete' (Heshvan and\n   * Kislev each have 30 days), and has Passover start on Sunday. */\n  // e.g. 5754\n  '052': yearStartHaazinu.concat(\n    range(0, 24),\n    PESACH7,\n    25,\n    D(26),\n    D(28),\n    30,\n    D(31),\n    r3340,\n    D(41),\n    r4350\n  ),\n\n  /* Hebrew year that starts on Saturday, is `incomplete' (Heshvan and Kislev\n   * each have 29 days), and has Passover start on Sunday. */\n  // e.g. 5761\n  '070': yearStartRH.concat(\n    r020,\n    D(21),\n    23,\n    24,\n    PESACH7,\n    25,\n    D(26),\n    D(28),\n    30,\n    D(31),\n    r3340,\n    D(41),\n    r4350\n  ),\n\n  /* Hebrew year that starts on Saturday, is `complete' (Heshvan and\n   * Kislev each have 30 days), and has Passover start on Tuesday. */\n  // e.g. 5716\n  '072': yearStartRH.concat(\n    r020,\n    D(21),\n    23,\n    24,\n    CHMPESACH,\n    25,\n    D(26),\n    D(28),\n    30,\n    D(31),\n    r3340,\n    D(41),\n    r4349,\n    D(50)\n  ),\n\n  /* --  The leap year types (keviot) -- */\n  /* Hebrew year that starts on Monday, is `incomplete' (Heshvan and\n   * Kislev each have 29 days), and has Passover start on Thursday. */\n  // e.g. 5746\n  '1200': yearStartVayeilech.concat(\n    r027,\n    CHMPESACH,\n    range(28, 33),\n    SHAVUOT,\n    range(34, 37),\n    D(38),\n    40,\n    D(41),\n    r4349,\n    D(50)\n  ),\n\n  /* Hebrew year that starts on Monday, is `incomplete' (Heshvan and\n   * Kislev each have 29 days), and has Passover start on Thursday. */\n  // e.g. 5746\n  '1201': yearStartVayeilech.concat(\n    r027,\n    CHMPESACH,\n    range(28, 40),\n    D(41),\n    r4349,\n    D(50)\n  ),\n\n  /* Hebrew year that starts on Monday, is `complete' (Heshvan and\n   * Kislev each have 30 days), and has Passover start on Saturday. */\n  // e.g.5752\n  '1220': yearStartVayeilech.concat(\n    r027,\n    PESACH1,\n    PESACH8,\n    range(28, 40),\n    D(41),\n    r4350\n  ),\n\n  /* Hebrew year that starts on Monday, is `complete' (Heshvan and\n   * Kislev each have 30 days), and has Passover start on Saturday. */\n  // e.g.5752\n  '1221': yearStartVayeilech.concat(r027, PESACH, range(28, 50)),\n\n  /* Hebrew year that starts on Thursday, is `incomplete' (Heshvan and\n   * Kislev both have 29 days), and has Passover start on Sunday. */\n  // e.g. 5768\n  '150': yearStartHaazinu.concat(range(0, 28), PESACH7, range(29, 50)),\n\n  /* Hebrew year that starts on Thursday, is `complete' (Heshvan and\n   * Kislev both have 30 days), and has Passover start on Tuesday. */\n  // eg. 5771\n  '152': yearStartHaazinu.concat(range(0, 28), CHMPESACH, range(29, 49), D(50)),\n\n  /* Hebrew year that starts on Saturday, is `incomplete' (Heshvan and\n   * Kislev each have 29 days), and has Passover start on Tuesday. */\n  // e.g.5757\n  '170': yearStartRH.concat(\n    r027,\n    CHMPESACH,\n    range(28, 40),\n    D(41),\n    r4349,\n    D(50)\n  ),\n\n  /* Hebrew year that starts on Saturday, is `complete' (Heshvan and\n   * Kislev each have 30 days), and has Passover start on Thursday. */\n  '1720': yearStartRH.concat(\n    r027,\n    CHMPESACH,\n    range(28, 33),\n    SHAVUOT,\n    range(34, 37),\n    D(38),\n    40,\n    D(41),\n    r4349,\n    D(50)\n  ),\n} as const;\n\n/* Hebrew year that starts on Monday, is `complete' (Heshvan and\n * Kislev each have 30 days), and has Passover start on Thursday. */\ntypes['0221'] = types['020'];\n\n/* Hebrew year that starts on Tuesday, is `regular' (Heshvan has 29\n * days and Kislev has 30 days), and has Passover start on Thursday. */\n// e.g. 5715\ntypes['0310'] = types['0220'];\n\n/* Hebrew year that starts on Tuesday, is `regular' (Heshvan has 29\n * days and Kislev has 30 days), and has Passover start on Thursday. */\ntypes['0311'] = types['020'];\n\n/* Hebrew year that starts on Tuesday, is `regular' (Heshvan has 29\n * days and Kislev has 30 days), and has Passover start on Saturday. */\n// e.g. 5715\ntypes['1310'] = types['1220'];\n/* Hebrew year that starts on Tuesday, is `regular' (Heshvan has 29\n * days and Kislev has 30 days), and has Passover start on Saturday. */\ntypes['1311'] = types['1221'];\n\n/* Hebrew year that starts on Saturday, is `complete' (Heshvan and\n * Kislev each have 30 days), and has Passover start on Thursday. */\ntypes['1721'] = types['170'];\n\nconst sedraCache = new QuickLRU<string, Sedra>({maxSize: 400});\n\n/**\n * Convenience function to create an instance of `Sedra` or reuse a previously\n * created and cached instance.\n * @param hyear\n * @param il\n */\nexport function getSedra(hyear: number, il: boolean): Sedra {\n  const cacheKey = `${hyear}-${il ? 1 : 0}`;\n  let sedra = sedraCache.get(cacheKey);\n  if (!sedra) {\n    sedra = new Sedra(hyear, il);\n    sedraCache.set(cacheKey, sedra);\n  }\n  return sedra;\n}\n","import {months} from '@hebcal/hdate';\nimport {flags} from './event';\n\nconst Nisan = months.NISAN;\nconst Iyyar = months.IYYAR;\nconst Sivan = months.SIVAN;\nconst Tamuz = months.TAMUZ;\nconst Av = months.AV;\nconst Elul = months.ELUL;\nconst Tishrei = months.TISHREI;\nconst Cheshvan = months.CHESHVAN;\nconst Kislev = months.KISLEV;\nconst Shvat = months.SHVAT;\nconst Adar2 = months.ADAR_II;\n\nconst CHAG = flags.CHAG;\nconst LIGHT_CANDLES = flags.LIGHT_CANDLES;\nconst YOM_TOV_ENDS = flags.YOM_TOV_ENDS;\nconst CHUL_ONLY = flags.CHUL_ONLY;\nconst IL_ONLY = flags.IL_ONLY;\nconst LIGHT_CANDLES_TZEIS = flags.LIGHT_CANDLES_TZEIS;\nconst CHANUKAH_CANDLES = flags.CHANUKAH_CANDLES;\nconst MAJOR_FAST = flags.MAJOR_FAST;\nconst MINOR_HOLIDAY = flags.MINOR_HOLIDAY;\nconst EREV = flags.EREV;\nconst CHOL_HAMOED = flags.CHOL_HAMOED;\n\nconst emojiPesach = '🫓';\nconst emojiSukkot = '🌿🍋';\n\nconst ROSH_HASHANA_II = 'Rosh Hashana II';\nconst EREV_YOM_KIPPUR = 'Erev Yom Kippur';\nconst YOM_KIPPUR = 'Yom Kippur';\nconst EREV_SUKKOT = 'Erev Sukkot';\nconst SUKKOT_I = 'Sukkot I';\nconst SUKKOT_II = 'Sukkot II';\nconst SUKKOT_III_CHM = \"Sukkot III (CH''M)\";\nconst SUKKOT_IV_CHM = \"Sukkot IV (CH''M)\";\nconst SUKKOT_V_CHM = \"Sukkot V (CH''M)\";\nconst SUKKOT_VI_CHM = \"Sukkot VI (CH''M)\";\nconst SHMINI_ATZERET = 'Shmini Atzeret';\nconst SIMCHAT_TORAH = 'Simchat Torah';\nconst SUKKOT_II_CHM = \"Sukkot II (CH''M)\";\nconst SUKKOT_VII_HOSHANA_RABA = 'Sukkot VII (Hoshana Raba)';\nconst CHANUKAH_1_CANDLE = 'Chanukah: 1 Candle';\nconst TU_BISHVAT = 'Tu BiShvat';\nconst EREV_PURIM = 'Erev Purim';\nconst PURIM = 'Purim';\nconst SHUSHAN_PURIM = 'Shushan Purim';\nconst EREV_PESACH = 'Erev Pesach';\nconst PESACH_I = 'Pesach I';\nconst PESACH_II = 'Pesach II';\nconst PESACH_II_CHM = \"Pesach II (CH''M)\";\nconst PESACH_III_CHM = \"Pesach III (CH''M)\";\nconst PESACH_IV_CHM = \"Pesach IV (CH''M)\";\nconst PESACH_V_CHM = \"Pesach V (CH''M)\";\nconst PESACH_VI_CHM = \"Pesach VI (CH''M)\";\nconst PESACH_VII = 'Pesach VII';\nconst PESACH_VIII = 'Pesach VIII';\nconst PESACH_SHENI = 'Pesach Sheni';\nconst LAG_BAOMER = 'Lag BaOmer';\nconst EREV_SHAVUOT = 'Erev Shavuot';\nconst SHAVUOT = 'Shavuot';\nconst SHAVUOT_I = 'Shavuot I';\nconst SHAVUOT_II = 'Shavuot II';\nconst TU_BAV = \"Tu B'Av\";\nconst ROSH_HASHANA_LABEHEMOT = 'Rosh Hashana LaBehemot';\nconst EREV_ROSH_HASHANA = 'Erev Rosh Hashana';\nconst YOM_YERUSHALAYIM = 'Yom Yerushalayim';\nconst BEN_GURION_DAY = 'Ben-Gurion Day';\nconst FAMILY_DAY = 'Family Day';\nconst YITZHAK_RABIN_MEMORIAL_DAY = 'Yitzhak Rabin Memorial Day';\nconst HERZL_DAY = 'Herzl Day';\nconst JABOTINSKY_DAY = 'Jabotinsky Day';\nconst SIGD = 'Sigd';\nconst YOM_HAALIYAH = 'Yom HaAliyah';\nconst YOM_HAALIYAH_SCHOOL_OBSERVANCE = 'Yom HaAliyah School Observance';\nconst HEBREW_LANGUAGE_DAY = 'Hebrew Language Day';\n\n/**\n * Transliterated names of holidays, used by `Event.getDesc()`\n * @readonly\n * @enum {string}\n */\nexport const holidayDesc = {\n  /** Asara B'Tevet */\n  ASARA_BTEVET: \"Asara B'Tevet\",\n  /** Birkat Hachamah */\n  BIRKAT_HACHAMAH: 'Birkat Hachamah',\n  /** Chag HaBanot */\n  CHAG_HABANOT: 'Chag HaBanot',\n  /** Chanukah: 8th Day */\n  CHANUKAH_8TH_DAY: 'Chanukah: 8th Day',\n  /** Erev Tish'a B'Av */\n  EREV_TISHA_BAV: \"Erev Tish'a B'Av\",\n  /** Leil Selichot */\n  LEIL_SELICHOT: 'Leil Selichot',\n  /** Purim Katan */\n  PURIM_KATAN: 'Purim Katan',\n  /** Purim Meshulash */\n  PURIM_MESHULASH: 'Purim Meshulash',\n  /** Shabbat Chazon */\n  SHABBAT_CHAZON: 'Shabbat Chazon',\n  /** Shabbat HaChodesh */\n  SHABBAT_HACHODESH: 'Shabbat HaChodesh',\n  /** Shabbat HaGadol */\n  SHABBAT_HAGADOL: 'Shabbat HaGadol',\n  /** Shabbat Nachamu */\n  SHABBAT_NACHAMU: 'Shabbat Nachamu',\n  /** Shabbat Parah */\n  SHABBAT_PARAH: 'Shabbat Parah',\n  /** Shabbat Shekalim */\n  SHABBAT_SHEKALIM: 'Shabbat Shekalim',\n  /** Shabbat Shirah */\n  SHABBAT_SHIRAH: 'Shabbat Shirah',\n  /** Shabbat Shuva */\n  SHABBAT_SHUVA: 'Shabbat Shuva',\n  /** Shabbat Zachor */\n  SHABBAT_ZACHOR: 'Shabbat Zachor',\n  /** Shushan Purim Katan */\n  SHUSHAN_PURIM_KATAN: 'Shushan Purim Katan',\n  /** Ta'anit Bechorot */\n  TAANIT_BECHOROT: \"Ta'anit Bechorot\",\n  /** Ta'anit Esther */\n  TAANIT_ESTHER: \"Ta'anit Esther\",\n  /** Tish'a B'Av */\n  TISHA_BAV: \"Tish'a B'Av\",\n  /** Tzom Gedaliah */\n  TZOM_GEDALIAH: 'Tzom Gedaliah',\n  /** Tzom Tammuz */\n  TZOM_TAMMUZ: 'Tzom Tammuz',\n  /** Yom HaAtzma'ut */\n  YOM_HAATZMA_UT: \"Yom HaAtzma'ut\",\n  /** Yom HaShoah */\n  YOM_HASHOAH: 'Yom HaShoah',\n  /** Yom HaZikaron */\n  YOM_HAZIKARON: 'Yom HaZikaron',\n\n  /** Ben-Gurion Day */\n  BEN_GURION_DAY,\n  /** Chanukah: 1 Candle */\n  CHANUKAH_1_CANDLE,\n  /** Erev Pesach */\n  EREV_PESACH,\n  /** Erev Purim */\n  EREV_PURIM,\n  /** Erev Rosh Hashana */\n  EREV_ROSH_HASHANA,\n  /** Erev Shavuot */\n  EREV_SHAVUOT,\n  /** Erev Sukkot */\n  EREV_SUKKOT,\n  /** Erev Yom Kippur */\n  EREV_YOM_KIPPUR,\n  /** Family Day */\n  FAMILY_DAY,\n  /** Hebrew Language Day */\n  HEBREW_LANGUAGE_DAY,\n  /** Herzl Day */\n  HERZL_DAY,\n  /** Jabotinsky Day */\n  JABOTINSKY_DAY,\n  /** Lag BaOmer */\n  LAG_BAOMER,\n  /** Pesach I */\n  PESACH_I,\n  /** Pesach II */\n  PESACH_II,\n  /** Pesach III (CH''M) */\n  PESACH_III_CHM,\n  /** Pesach II (CH''M) */\n  PESACH_II_CHM,\n  /** Pesach IV (CH''M) */\n  PESACH_IV_CHM,\n  /** Pesach Sheni */\n  PESACH_SHENI,\n  /** Pesach VII */\n  PESACH_VII,\n  /** Pesach VIII */\n  PESACH_VIII,\n  /** Pesach VI (CH''M) */\n  PESACH_VI_CHM,\n  /** Pesach V (CH''M) */\n  PESACH_V_CHM,\n  /** Purim */\n  PURIM,\n  /** Rosh Hashana II */\n  ROSH_HASHANA_II,\n  /** Rosh Hashana LaBehemot */\n  ROSH_HASHANA_LABEHEMOT,\n  /** Shavuot */\n  SHAVUOT,\n  /** Shavuot I */\n  SHAVUOT_I,\n  /** Shavuot II */\n  SHAVUOT_II,\n  /** Shmini Atzeret */\n  SHMINI_ATZERET,\n  /** Shushan Purim */\n  SHUSHAN_PURIM,\n  /** Sigd */\n  SIGD,\n  /** Simchat Torah */\n  SIMCHAT_TORAH,\n  /** Sukkot I */\n  SUKKOT_I,\n  /** Sukkot II */\n  SUKKOT_II,\n  /** Sukkot III (CH''M) */\n  SUKKOT_III_CHM,\n  /** Sukkot II (CH''M) */\n  SUKKOT_II_CHM,\n  /** Sukkot IV (CH''M) */\n  SUKKOT_IV_CHM,\n  /** Sukkot VII (Hoshana Raba) */\n  SUKKOT_VII_HOSHANA_RABA,\n  /** Sukkot VI (CH''M) */\n  SUKKOT_VI_CHM,\n  /** Sukkot V (CH''M) */\n  SUKKOT_V_CHM,\n  /** Tu B\\'Av */\n  TU_BAV,\n  /** Tu BiShvat */\n  TU_BISHVAT,\n  /** Yitzhak Rabin Memorial Day */\n  YITZHAK_RABIN_MEMORIAL_DAY,\n  /** Yom HaAliyah */\n  YOM_HAALIYAH,\n  /** Yom HaAliyah School Observance */\n  YOM_HAALIYAH_SCHOOL_OBSERVANCE,\n  /** Yom Kippur */\n  YOM_KIPPUR,\n  /** Yom Yerushalayim */\n  YOM_YERUSHALAYIM,\n} as const;\n\nexport interface Holiday {\n  mm: number; // This should be an enum `Month` eventually\n  dd: number;\n  desc: string;\n  flags: number;\n  chmDay?: number;\n  emoji?: string;\n}\n\nexport const staticHolidays: Holiday[] = [\n  {\n    mm: Tishrei,\n    dd: 2,\n    desc: ROSH_HASHANA_II,\n    flags: CHAG | YOM_TOV_ENDS,\n    emoji: '🍏🍯',\n  },\n  {mm: Tishrei, dd: 9, desc: EREV_YOM_KIPPUR, flags: EREV | LIGHT_CANDLES},\n  {\n    mm: Tishrei,\n    dd: 10,\n    desc: YOM_KIPPUR,\n    flags: CHAG | MAJOR_FAST | YOM_TOV_ENDS,\n  },\n\n  {\n    mm: Tishrei,\n    dd: 14,\n    desc: EREV_SUKKOT,\n    flags: CHUL_ONLY | EREV | LIGHT_CANDLES,\n    emoji: emojiSukkot,\n  },\n  {\n    mm: Tishrei,\n    dd: 15,\n    desc: SUKKOT_I,\n    flags: CHUL_ONLY | CHAG | LIGHT_CANDLES_TZEIS,\n    emoji: emojiSukkot,\n  },\n  {\n    mm: Tishrei,\n    dd: 16,\n    desc: SUKKOT_II,\n    flags: CHUL_ONLY | CHAG | YOM_TOV_ENDS,\n    emoji: emojiSukkot,\n  },\n  {\n    mm: Tishrei,\n    dd: 17,\n    desc: SUKKOT_III_CHM,\n    flags: CHUL_ONLY | CHOL_HAMOED,\n    chmDay: 1,\n    emoji: emojiSukkot,\n  },\n  {\n    mm: Tishrei,\n    dd: 18,\n    desc: SUKKOT_IV_CHM,\n    flags: CHUL_ONLY | CHOL_HAMOED,\n    chmDay: 2,\n    emoji: emojiSukkot,\n  },\n  {\n    mm: Tishrei,\n    dd: 19,\n    desc: SUKKOT_V_CHM,\n    flags: CHUL_ONLY | CHOL_HAMOED,\n    chmDay: 3,\n    emoji: emojiSukkot,\n  },\n  {\n    mm: Tishrei,\n    dd: 20,\n    desc: SUKKOT_VI_CHM,\n    flags: CHUL_ONLY | CHOL_HAMOED,\n    chmDay: 4,\n    emoji: emojiSukkot,\n  },\n  {\n    mm: Tishrei,\n    dd: 22,\n    desc: SHMINI_ATZERET,\n    flags: CHUL_ONLY | CHAG | LIGHT_CANDLES_TZEIS,\n  },\n  {\n    mm: Tishrei,\n    dd: 23,\n    desc: SIMCHAT_TORAH,\n    flags: CHUL_ONLY | CHAG | YOM_TOV_ENDS,\n  },\n\n  {\n    mm: Tishrei,\n    dd: 14,\n    desc: EREV_SUKKOT,\n    flags: IL_ONLY | EREV | LIGHT_CANDLES,\n    emoji: emojiSukkot,\n  },\n  {\n    mm: Tishrei,\n    dd: 15,\n    desc: SUKKOT_I,\n    flags: IL_ONLY | CHAG | YOM_TOV_ENDS,\n    emoji: emojiSukkot,\n  },\n  {\n    mm: Tishrei,\n    dd: 16,\n    desc: SUKKOT_II_CHM,\n    flags: IL_ONLY | CHOL_HAMOED,\n    chmDay: 1,\n    emoji: emojiSukkot,\n  },\n  {\n    mm: Tishrei,\n    dd: 17,\n    desc: SUKKOT_III_CHM,\n    flags: IL_ONLY | CHOL_HAMOED,\n    chmDay: 2,\n    emoji: emojiSukkot,\n  },\n  {\n    mm: Tishrei,\n    dd: 18,\n    desc: SUKKOT_IV_CHM,\n    flags: IL_ONLY | CHOL_HAMOED,\n    chmDay: 3,\n    emoji: emojiSukkot,\n  },\n  {\n    mm: Tishrei,\n    dd: 19,\n    desc: SUKKOT_V_CHM,\n    flags: IL_ONLY | CHOL_HAMOED,\n    chmDay: 4,\n    emoji: emojiSukkot,\n  },\n  {\n    mm: Tishrei,\n    dd: 20,\n    desc: SUKKOT_VI_CHM,\n    flags: IL_ONLY | CHOL_HAMOED,\n    chmDay: 5,\n    emoji: emojiSukkot,\n  },\n  {\n    mm: Tishrei,\n    dd: 22,\n    desc: SHMINI_ATZERET,\n    flags: IL_ONLY | CHAG | YOM_TOV_ENDS,\n  },\n\n  {\n    mm: Tishrei,\n    dd: 21,\n    desc: SUKKOT_VII_HOSHANA_RABA,\n    flags: LIGHT_CANDLES | CHOL_HAMOED,\n    chmDay: -1,\n    emoji: emojiSukkot,\n  },\n  {\n    mm: Kislev,\n    dd: 24,\n    desc: CHANUKAH_1_CANDLE,\n    flags: EREV | MINOR_HOLIDAY | CHANUKAH_CANDLES,\n    emoji: '🕎1️⃣',\n  },\n  {mm: Shvat, dd: 15, desc: TU_BISHVAT, flags: MINOR_HOLIDAY, emoji: '🌳'},\n  {\n    mm: Adar2,\n    dd: 13,\n    desc: EREV_PURIM,\n    flags: EREV | MINOR_HOLIDAY,\n    emoji: '🎭️📜',\n  },\n  {mm: Adar2, dd: 14, desc: PURIM, flags: MINOR_HOLIDAY, emoji: '🎭️📜'},\n  {\n    mm: Adar2,\n    dd: 15,\n    desc: SHUSHAN_PURIM,\n    flags: MINOR_HOLIDAY,\n    emoji: '🎭️📜',\n  },\n  // Pesach Israel\n  {\n    mm: Nisan,\n    dd: 14,\n    desc: EREV_PESACH,\n    flags: IL_ONLY | EREV | LIGHT_CANDLES,\n    emoji: '🫓🍷',\n  },\n  {\n    mm: Nisan,\n    dd: 15,\n    desc: PESACH_I,\n    flags: IL_ONLY | CHAG | YOM_TOV_ENDS,\n    emoji: emojiPesach,\n  },\n  {\n    mm: Nisan,\n    dd: 16,\n    desc: PESACH_II_CHM,\n    flags: IL_ONLY | CHOL_HAMOED,\n    chmDay: 1,\n    emoji: emojiPesach,\n  },\n  {\n    mm: Nisan,\n    dd: 17,\n    desc: PESACH_III_CHM,\n    flags: IL_ONLY | CHOL_HAMOED,\n    chmDay: 2,\n    emoji: emojiPesach,\n  },\n  {\n    mm: Nisan,\n    dd: 18,\n    desc: PESACH_IV_CHM,\n    flags: IL_ONLY | CHOL_HAMOED,\n    chmDay: 3,\n    emoji: emojiPesach,\n  },\n  {\n    mm: Nisan,\n    dd: 19,\n    desc: PESACH_V_CHM,\n    flags: IL_ONLY | CHOL_HAMOED,\n    chmDay: 4,\n    emoji: emojiPesach,\n  },\n  {\n    mm: Nisan,\n    dd: 20,\n    desc: PESACH_VI_CHM,\n    flags: IL_ONLY | CHOL_HAMOED | LIGHT_CANDLES,\n    chmDay: 5,\n    emoji: emojiPesach,\n  },\n  {\n    mm: Nisan,\n    dd: 21,\n    desc: PESACH_VII,\n    flags: IL_ONLY | CHAG | YOM_TOV_ENDS,\n    emoji: emojiPesach,\n  },\n  // Pesach chutz l'aretz\n  {\n    mm: Nisan,\n    dd: 14,\n    desc: EREV_PESACH,\n    flags: CHUL_ONLY | EREV | LIGHT_CANDLES,\n    emoji: '🫓🍷',\n  },\n  {\n    mm: Nisan,\n    dd: 15,\n    desc: PESACH_I,\n    flags: CHUL_ONLY | CHAG | LIGHT_CANDLES_TZEIS,\n    emoji: '🫓🍷',\n  },\n  {\n    mm: Nisan,\n    dd: 16,\n    desc: PESACH_II,\n    flags: CHUL_ONLY | CHAG | YOM_TOV_ENDS,\n    emoji: emojiPesach,\n  },\n  {\n    mm: Nisan,\n    dd: 17,\n    desc: PESACH_III_CHM,\n    flags: CHUL_ONLY | CHOL_HAMOED,\n    chmDay: 1,\n    emoji: emojiPesach,\n  },\n  {\n    mm: Nisan,\n    dd: 18,\n    desc: PESACH_IV_CHM,\n    flags: CHUL_ONLY | CHOL_HAMOED,\n    chmDay: 2,\n    emoji: emojiPesach,\n  },\n  {\n    mm: Nisan,\n    dd: 19,\n    desc: PESACH_V_CHM,\n    flags: CHUL_ONLY | CHOL_HAMOED,\n    chmDay: 3,\n    emoji: emojiPesach,\n  },\n  {\n    mm: Nisan,\n    dd: 20,\n    desc: PESACH_VI_CHM,\n    flags: CHUL_ONLY | CHOL_HAMOED | LIGHT_CANDLES,\n    chmDay: 4,\n    emoji: emojiPesach,\n  },\n  {\n    mm: Nisan,\n    dd: 21,\n    desc: PESACH_VII,\n    flags: CHUL_ONLY | CHAG | LIGHT_CANDLES_TZEIS,\n    emoji: emojiPesach,\n  },\n  {\n    mm: Nisan,\n    dd: 22,\n    desc: PESACH_VIII,\n    flags: CHUL_ONLY | CHAG | YOM_TOV_ENDS,\n    emoji: emojiPesach,\n  },\n\n  {mm: Iyyar, dd: 14, desc: PESACH_SHENI, flags: MINOR_HOLIDAY},\n  {mm: Iyyar, dd: 18, desc: LAG_BAOMER, flags: MINOR_HOLIDAY, emoji: '🔥'},\n  {\n    mm: Sivan,\n    dd: 5,\n    desc: EREV_SHAVUOT,\n    flags: EREV | LIGHT_CANDLES,\n    emoji: '⛰️🌸',\n  },\n  {\n    mm: Sivan,\n    dd: 6,\n    desc: SHAVUOT,\n    flags: IL_ONLY | CHAG | YOM_TOV_ENDS,\n    emoji: '⛰️🌸',\n  },\n  {\n    mm: Sivan,\n    dd: 6,\n    desc: SHAVUOT_I,\n    flags: CHUL_ONLY | CHAG | LIGHT_CANDLES_TZEIS,\n    emoji: '⛰️🌸',\n  },\n  {\n    mm: Sivan,\n    dd: 7,\n    desc: SHAVUOT_II,\n    flags: CHUL_ONLY | CHAG | YOM_TOV_ENDS,\n    emoji: '⛰️🌸',\n  },\n  {mm: Av, dd: 15, desc: TU_BAV, flags: MINOR_HOLIDAY, emoji: '❤️'},\n  {\n    mm: Elul,\n    dd: 1,\n    desc: ROSH_HASHANA_LABEHEMOT,\n    flags: MINOR_HOLIDAY,\n    emoji: '🐑',\n  },\n  {\n    mm: Elul,\n    dd: 29,\n    desc: EREV_ROSH_HASHANA,\n    flags: EREV | LIGHT_CANDLES,\n    emoji: '🍏🍯',\n  },\n] as const;\n\nexport interface ModernHoliday {\n  firstYear: number;\n  mm: number; // This should be an enum `Month` eventually\n  dd: number;\n  desc: string;\n  chul?: boolean;\n  suppressEmoji?: boolean;\n  satPostponeToSun?: boolean;\n  friPostponeToSun?: boolean;\n  friSatMovetoThu?: boolean;\n}\n\nexport const staticModernHolidays: ModernHoliday[] = [\n  {firstYear: 5727, mm: Iyyar, dd: 28, desc: YOM_YERUSHALAYIM, chul: true},\n  {\n    firstYear: 5737,\n    mm: Kislev,\n    dd: 6,\n    desc: BEN_GURION_DAY,\n    satPostponeToSun: true,\n    friPostponeToSun: true,\n  },\n  {firstYear: 5750, mm: Shvat, dd: 30, desc: FAMILY_DAY},\n  {\n    firstYear: 5758,\n    mm: Cheshvan,\n    dd: 12,\n    desc: YITZHAK_RABIN_MEMORIAL_DAY,\n    friSatMovetoThu: true,\n  },\n  {firstYear: 5764, mm: Iyyar, dd: 10, desc: HERZL_DAY, satPostponeToSun: true},\n  {\n    firstYear: 5765,\n    mm: Tamuz,\n    dd: 29,\n    desc: JABOTINSKY_DAY,\n    satPostponeToSun: true,\n  },\n  {\n    firstYear: 5769,\n    mm: Cheshvan,\n    dd: 29,\n    desc: SIGD,\n    chul: true,\n    suppressEmoji: true,\n    friSatMovetoThu: true,\n  },\n  {firstYear: 5777, mm: Nisan, dd: 10, desc: YOM_HAALIYAH, chul: true},\n  {firstYear: 5777, mm: Cheshvan, dd: 7, desc: YOM_HAALIYAH_SCHOOL_OBSERVANCE},\n  // https://www.gov.il/he/departments/policies/2012_des5234\n  {\n    firstYear: 5773,\n    mm: months.TEVET,\n    dd: 21,\n    desc: HEBREW_LANGUAGE_DAY,\n    friSatMovetoThu: true,\n  },\n] as const;\n","import {HDate, Locale, isoDateString} from '@hebcal/hdate';\nimport {Event, flags} from './event';\nimport {holidayDesc as hdesc} from './staticHolidays';\nimport './locale'; // Adds Hebrew and Ashkenazic translations\n\n/** Represents a built-in holiday like Pesach, Purim or Tu BiShvat */\nexport class HolidayEvent extends Event {\n  /** During Sukkot or Pesach */\n  cholHaMoedDay?: number;\n  chanukahDay?: number;\n  /**\n   * `true` if the fast day was postponed a day to avoid Shabbat.\n   * - Tish'a B'Av postponed from the 9th to the 10th\n   * - Tzom Tammuz postponed from the 17th to the 18th\n   */\n  observed?: boolean;\n\n  basename(): string {\n    return this.getDesc()\n      .replace(/ \\d{4}$/, '')\n      .replace(/ \\(CH''M\\)$/, '')\n      .replace(/ \\(observed\\)$/, '')\n      .replace(/ \\(Hoshana Raba\\)$/, '')\n      .replace(/ [IV]+$/, '')\n      .replace(/: \\d Candles?$/, '')\n      .replace(/: 8th Day$/, '')\n      .replace(/^Erev /, '');\n  }\n\n  url(): string | undefined {\n    const year = this.getDate().greg().getFullYear();\n    if (year < 100) {\n      return undefined;\n    }\n    const url =\n      'https://www.hebcal.com/holidays/' +\n      this.basename().toLowerCase().replace(/'/g, '').replace(/ /g, '-') +\n      '-' +\n      this.urlDateSuffix();\n    return this.getFlags() & flags.IL_ONLY ? url + '?i=on' : url;\n  }\n\n  urlDateSuffix(): string {\n    const year = this.getDate().greg().getFullYear();\n    return String(year);\n  }\n\n  getEmoji(): string {\n    if (this.emoji) {\n      return this.emoji;\n    } else if (this.getFlags() & flags.SPECIAL_SHABBAT) {\n      return '🕍';\n    } else {\n      return '✡️';\n    }\n  }\n\n  getCategories(): string[] {\n    if (this.cholHaMoedDay) {\n      return ['holiday', 'major', 'cholhamoed'];\n    }\n    const cats = super.getCategories();\n    if (cats[0] !== 'unknown') {\n      return cats;\n    }\n    // Don't depend on flags.MINOR_HOLIDAY always being set. Look for minor holidays.\n    const desc = this.getDesc();\n    switch (desc) {\n      case hdesc.LAG_BAOMER:\n      case hdesc.LEIL_SELICHOT:\n      case hdesc.PESACH_SHENI:\n      case hdesc.EREV_PURIM:\n      case hdesc.PURIM_KATAN:\n      case hdesc.SHUSHAN_PURIM:\n      case hdesc.TU_BAV:\n      case hdesc.TU_BISHVAT:\n      case hdesc.ROSH_HASHANA_LABEHEMOT:\n        return ['holiday', 'minor'];\n    }\n\n    return ['holiday', 'major'];\n  }\n  /**\n   * Returns (translated) description of this event\n   * @param [locale] Optional locale name (defaults to active locale).\n   */\n  render(locale?: string): string {\n    const str = super.render(locale);\n    return str.replace(/'/g, '’');\n  }\n  /**\n   * Returns a brief (translated) description of this event.\n   * For most events, this is the same as render(). For some events, it procudes\n   * a shorter text (e.g. without a time or added description).\n   * @param [locale] Optional locale name (defaults to active locale).\n   */\n  renderBrief(locale?: string): string {\n    const str = super.renderBrief(locale);\n    return str.replace(/'/g, '’');\n  }\n  /**\n   * Makes a clone of this Event object\n   * @deprecated\n   */\n  clone(): HolidayEvent {\n    const ev = new HolidayEvent(this.date, this.desc, this.mask);\n    // overwrite all enumerable properties\n    Object.assign(ev, this);\n    return ev;\n  }\n}\n\n/**\n * Because Asara B'Tevet often occurs twice in the same Gregorian year,\n * we subclass HolidayEvent to generate the correct URL.\n */\nexport class AsaraBTevetEvent extends HolidayEvent {\n  urlDateSuffix(): string {\n    const isoDate = isoDateString(this.getDate().greg());\n    return isoDate.replace(/-/g, '');\n  }\n}\n\n/**\n * Because Chanukah sometimes starts in December and ends in January,\n * we subclass HolidayEvent to generate the correct URL.\n */\nexport class ChanukahEvent extends HolidayEvent {\n  urlDateSuffix(): string {\n    const dt = this.getDate().greg();\n    let year = dt.getFullYear();\n    if (dt.getMonth() === 0) {\n      year--;\n    }\n    return String(year);\n  }\n}\n\n/** Represents Rosh Hashana, the Jewish New Year */\nexport class RoshHashanaEvent extends HolidayEvent {\n  private readonly hyear: number;\n  /**\n   * @private\n   * @param date Hebrew date event occurs\n   * @param hyear Hebrew year\n   * @param mask optional holiday flags\n   */\n  constructor(date: HDate, hyear: number, mask: number) {\n    super(date, `Rosh Hashana ${hyear}`, mask);\n    this.hyear = hyear;\n  }\n  /**\n   * Returns (translated) description of this event\n   * @param [locale] Optional locale name (defaults to active locale).\n   */\n  render(locale?: string): string {\n    return Locale.gettext('Rosh Hashana', locale) + ' ' + this.hyear;\n  }\n\n  getEmoji(): string {\n    return '🍏🍯';\n  }\n}\n\nconst roshChodeshStr = 'Rosh Chodesh';\n\n/** Represents Rosh Chodesh, the beginning of a new month */\nexport class RoshChodeshEvent extends HolidayEvent {\n  /**\n   * Constructs Rosh Chodesh event\n   * @param date Hebrew date event occurs\n   * @param monthName Hebrew month name (not translated)\n   */\n  constructor(date: HDate, monthName: string) {\n    super(date, `${roshChodeshStr} ${monthName}`, flags.ROSH_CHODESH);\n  }\n  /**\n   * Returns (translated) description of this event\n   * @param [locale] Optional locale name (defaults to active locale).\n   */\n  render(locale?: string): string {\n    const monthName = this.getDesc().substring(roshChodeshStr.length + 1);\n    const monthName0 = Locale.gettext(monthName, locale);\n    const monthName1 = monthName0.replace(/'/g, '’');\n    return Locale.gettext(roshChodeshStr, locale) + ' ' + monthName1;\n  }\n\n  basename(): string {\n    return this.getDesc();\n  }\n\n  getEmoji(): string {\n    return this.emoji || '🌒';\n  }\n}\n","import {HDate, Locale} from '@hebcal/hdate';\nimport {flags} from './event';\nimport {HolidayEvent} from './HolidayEvent';\nimport './locale'; // Adds Hebrew and Ashkenazic translations\n\nconst ykk = 'Yom Kippur Katan';\n\n/** YKK is minor day of atonement on the day preceeding each Rosh Chodesh */\nexport class YomKippurKatanEvent extends HolidayEvent {\n  private readonly nextMonthName: string;\n  /**\n   * @private\n   * @param date Hebrew date event occurs\n   * @param nextMonthName name of the upcoming month\n   */\n  constructor(date: HDate, nextMonthName: string) {\n    super(\n      date,\n      `${ykk} ${nextMonthName}`,\n      flags.MINOR_FAST | flags.YOM_KIPPUR_KATAN\n    );\n    this.nextMonthName = nextMonthName;\n    this.memo = `Minor Day of Atonement on the day preceeding Rosh Chodesh ${nextMonthName}`;\n  }\n\n  basename(): string {\n    return this.getDesc();\n  }\n  /**\n   * @param [locale] Optional locale name (defaults to active locale).\n   */\n  render(locale?: string): string {\n    const monthName0 = Locale.gettext(this.nextMonthName, locale);\n    const monthName = monthName0.replace(/'/g, '’');\n    return Locale.gettext(ykk, locale) + ' ' + monthName;\n  }\n  /**\n   * @param [locale] Optional locale name (defaults to active locale).\n   */\n  renderBrief(locale?: string): string {\n    return Locale.gettext(ykk, locale);\n  }\n\n  url(): string | undefined {\n    return undefined;\n  }\n}\n","/*\n    Hebcal - A Jewish Calendar Generator\n    Copyright (c) 1994-2020 Danny Sadinoff\n    Portions copyright Eyal Schachter and Michael J. Radwin\n\n    https://github.com/hebcal/hebcal-es6\n\n    This program is free software; you can redistribute it and/or\n    modify it under the terms of the GNU General Public License\n    as published by the Free Software Foundation; either version 2\n    of the License, or (at your option) any later version.\n\n    This program is distributed in the hope that it will be useful,\n    but WITHOUT ANY WARRANTY; without even the implied warranty of\n    MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n    GNU General Public License for more details.\n\n    You should have received a copy of the GNU General Public License\n    along with this program. If not, see <http://www.gnu.org/licenses/>.\n */\nimport {HDate, months} from '@hebcal/hdate';\nimport QuickLRU from 'quick-lru';\nimport {Event, flags} from './event';\nimport {dateYomHaShoah, dateYomHaZikaron} from './modern';\nimport {getSedra} from './sedra';\nimport {\n  staticHolidays,\n  staticModernHolidays,\n  holidayDesc as hdesc,\n} from './staticHolidays';\nimport {YomKippurKatanEvent} from './YomKippurKatanEvent';\nimport {\n  HolidayEvent,\n  ChanukahEvent,\n  AsaraBTevetEvent,\n  RoshHashanaEvent,\n  RoshChodeshEvent,\n} from './HolidayEvent';\n\n/** @private */\nfunction observedInIsrael(ev: Event): boolean {\n  return ev.observedInIsrael();\n}\n\n/** @private */\nfunction observedInDiaspora(ev: Event): boolean {\n  return ev.observedInDiaspora();\n}\n\n/** @private */\nfunction holidayFilter(il: boolean) {\n  return il ? observedInIsrael : observedInDiaspora;\n}\n\n/**\n * Returns an array of Events on this date (or `undefined` if no events)\n * @param date Hebrew Date, Gregorian date, or absolute R.D. day number\n * @param [il] use the Israeli schedule for holidays\n */\nexport function getHolidaysOnDate(\n  date: HDate | Date | number,\n  il?: boolean\n): HolidayEvent[] | undefined {\n  const hd = HDate.isHDate(date) ? (date as HDate) : new HDate(date);\n  const hdStr = hd.toString();\n  const yearMap = getHolidaysForYear_(hd.getFullYear());\n  const events = yearMap.get(hdStr);\n  // if il isn't a boolean return both diaspora + IL for day\n  if (typeof il === 'undefined' || typeof events === 'undefined') {\n    return events;\n  }\n  const filtered = events.filter(holidayFilter(il));\n  return filtered;\n}\n\nconst CHAG = flags.CHAG;\nconst IL_ONLY = flags.IL_ONLY;\nconst LIGHT_CANDLES_TZEIS = flags.LIGHT_CANDLES_TZEIS;\nconst CHANUKAH_CANDLES = flags.CHANUKAH_CANDLES;\nconst MINOR_FAST = flags.MINOR_FAST;\nconst SPECIAL_SHABBAT = flags.SPECIAL_SHABBAT;\nconst MODERN_HOLIDAY = flags.MODERN_HOLIDAY;\nconst MAJOR_FAST = flags.MAJOR_FAST;\nconst MINOR_HOLIDAY = flags.MINOR_HOLIDAY;\nconst EREV = flags.EREV;\n\nconst SUN = 0;\nconst TUE = 2;\nconst THU = 4;\nconst FRI = 5;\nconst SAT = 6;\n\nconst NISAN = months.NISAN;\nconst TAMUZ = months.TAMUZ;\nconst AV = months.AV;\nconst TISHREI = months.TISHREI;\nconst KISLEV = months.KISLEV;\nconst TEVET = months.TEVET;\nconst ADAR_I = months.ADAR_I;\nconst ADAR_II = months.ADAR_II;\n\nconst emojiIsraelFlag = {emoji: '🇮🇱'} as const;\nconst chanukahEmoji = '🕎';\nexport type HolidayYearMap = Map<string, HolidayEvent[]>;\nconst yearCache = new QuickLRU<number, HolidayYearMap>({maxSize: 400});\n\nconst KEYCAP_DIGITS = [\n  '0️⃣',\n  '1️⃣',\n  '2️⃣',\n  '3️⃣',\n  '4️⃣',\n  '5️⃣',\n  '6️⃣',\n  '7️⃣',\n  '8️⃣',\n  '9️⃣',\n] as const;\n\n/**\n * Lower-level holidays interface, which returns a `Map` of `Event`s indexed by\n * `HDate.toString()`. These events must filtered especially for `flags.IL_ONLY`\n * or `flags.CHUL_ONLY` depending on Israel vs. Diaspora holiday scheme.\n * @private\n */\nexport function getHolidaysForYear_(year: number): HolidayYearMap {\n  if (typeof year !== 'number') {\n    throw new TypeError(`bad Hebrew year: ${year}`);\n  } else if (year < 1 || year > 32658) {\n    throw new RangeError(`Hebrew year ${year} out of range 1-32658`);\n  }\n  const cached = yearCache.get(year);\n  if (cached) {\n    return cached;\n  }\n\n  const RH = new HDate(1, TISHREI, year);\n  const pesach = new HDate(15, NISAN, year);\n\n  const map = new Map<string, HolidayEvent[]>();\n  function add(...events: HolidayEvent[]) {\n    for (const ev of events) {\n      const key = ev.date.toString();\n      const arr = map.get(key);\n      if (typeof arr === 'object') {\n        if (arr[0].getFlags() & EREV) {\n          arr.unshift(ev);\n        } else {\n          arr.push(ev);\n        }\n      } else {\n        map.set(key, [ev]);\n      }\n    }\n  }\n\n  for (const h of staticHolidays) {\n    const hd = new HDate(h.dd, h.mm, year);\n    const ev = new HolidayEvent(hd, h.desc, h.flags);\n    if (h.emoji) ev.emoji = h.emoji;\n    if (h.chmDay) ev.cholHaMoedDay = h.chmDay;\n    add(ev);\n  }\n\n  // standard holidays that don't shift based on year\n  add(new RoshHashanaEvent(RH, year, CHAG | LIGHT_CANDLES_TZEIS));\n\n  // Variable date holidays\n  const tzomGedaliahDay: number = RH.getDay() === THU ? 4 : 3;\n  add(\n    new HolidayEvent(\n      new HDate(tzomGedaliahDay, TISHREI, year),\n      hdesc.TZOM_GEDALIAH,\n      MINOR_FAST\n    )\n  );\n  // first SAT after RH\n  add(\n    new HolidayEvent(\n      new HDate(HDate.dayOnOrBefore(SAT, 7 + RH.abs())),\n      hdesc.SHABBAT_SHUVA,\n      SPECIAL_SHABBAT\n    )\n  );\n  const rchTevet = HDate.shortKislev(year)\n    ? new HDate(1, TEVET, year)\n    : new HDate(30, KISLEV, year);\n  add(new HolidayEvent(rchTevet, hdesc.CHAG_HABANOT, MINOR_HOLIDAY));\n  // yes, we know Kislev 30-32 are wrong\n  // HDate() corrects the month automatically\n  for (let candles = 2; candles <= 8; candles++) {\n    const hd = new HDate(23 + candles, KISLEV, year);\n    add(\n      new ChanukahEvent(\n        hd,\n        `Chanukah: ${candles} Candles`,\n        MINOR_HOLIDAY | CHANUKAH_CANDLES,\n        {\n          chanukahDay: candles - 1,\n          emoji: chanukahEmoji + KEYCAP_DIGITS[candles],\n        }\n      )\n    );\n  }\n  add(\n    new ChanukahEvent(\n      new HDate(32, KISLEV, year),\n      hdesc.CHANUKAH_8TH_DAY,\n      MINOR_HOLIDAY,\n      {chanukahDay: 8, emoji: chanukahEmoji}\n    )\n  );\n  add(\n    new AsaraBTevetEvent(\n      new HDate(10, TEVET, year),\n      hdesc.ASARA_BTEVET,\n      MINOR_FAST\n    )\n  );\n  const pesachAbs = pesach.abs();\n  add(\n    new HolidayEvent(\n      new HDate(HDate.dayOnOrBefore(SAT, pesachAbs - 43)),\n      hdesc.SHABBAT_SHEKALIM,\n      SPECIAL_SHABBAT\n    ),\n    new HolidayEvent(\n      new HDate(HDate.dayOnOrBefore(SAT, pesachAbs - 30)),\n      hdesc.SHABBAT_ZACHOR,\n      SPECIAL_SHABBAT\n    ),\n    new HolidayEvent(\n      new HDate(pesachAbs - (pesach.getDay() === TUE ? 33 : 31)),\n      hdesc.TAANIT_ESTHER,\n      MINOR_FAST\n    )\n  );\n  const haChodeshAbs = HDate.dayOnOrBefore(SAT, pesachAbs - 14);\n  add(\n    new HolidayEvent(\n      new HDate(haChodeshAbs - 7),\n      hdesc.SHABBAT_PARAH,\n      SPECIAL_SHABBAT\n    ),\n    new HolidayEvent(\n      new HDate(haChodeshAbs),\n      hdesc.SHABBAT_HACHODESH,\n      SPECIAL_SHABBAT\n    ),\n    new HolidayEvent(\n      new HDate(HDate.dayOnOrBefore(SAT, pesachAbs - 1)),\n      hdesc.SHABBAT_HAGADOL,\n      SPECIAL_SHABBAT\n    ),\n    new HolidayEvent(\n      // if the fast falls on Shabbat, move to Thursday\n      pesach.prev().getDay() === SAT\n        ? pesach.onOrBefore(THU)\n        : new HDate(14, NISAN, year),\n      hdesc.TAANIT_BECHOROT,\n      MINOR_FAST\n    )\n  );\n  add(\n    new HolidayEvent(\n      new HDate(\n        HDate.dayOnOrBefore(SAT, new HDate(1, TISHREI, year + 1).abs() - 4)\n      ),\n      hdesc.LEIL_SELICHOT,\n      MINOR_HOLIDAY,\n      {emoji: '🕍'}\n    )\n  );\n\n  if (pesach.getDay() === SUN) {\n    add(\n      new HolidayEvent(\n        new HDate(16, ADAR_II, year),\n        hdesc.PURIM_MESHULASH,\n        MINOR_HOLIDAY\n      )\n    );\n  }\n\n  if (HDate.isLeapYear(year)) {\n    add(\n      new HolidayEvent(\n        new HDate(14, ADAR_I, year),\n        hdesc.PURIM_KATAN,\n        MINOR_HOLIDAY,\n        {emoji: '🎭️'}\n      )\n    );\n    add(\n      new HolidayEvent(\n        new HDate(15, ADAR_I, year),\n        hdesc.SHUSHAN_PURIM_KATAN,\n        MINOR_HOLIDAY,\n        {emoji: '🎭️'}\n      )\n    );\n  }\n\n  const nisan27dt = dateYomHaShoah(year);\n  if (nisan27dt) {\n    add(new HolidayEvent(nisan27dt, hdesc.YOM_HASHOAH, MODERN_HOLIDAY));\n  }\n\n  const yomHaZikaronDt = dateYomHaZikaron(year);\n  if (yomHaZikaronDt) {\n    add(\n      new HolidayEvent(\n        yomHaZikaronDt,\n        hdesc.YOM_HAZIKARON,\n        MODERN_HOLIDAY,\n        emojiIsraelFlag\n      ),\n      new HolidayEvent(\n        yomHaZikaronDt.next(),\n        hdesc.YOM_HAATZMA_UT,\n        MODERN_HOLIDAY,\n        emojiIsraelFlag\n      )\n    );\n  }\n\n  for (const h of staticModernHolidays) {\n    if (year >= h.firstYear) {\n      let hd = new HDate(h.dd, h.mm, year);\n      const dow = hd.getDay();\n      if (h.friSatMovetoThu && (dow === FRI || dow === SAT)) {\n        hd = hd.onOrBefore(THU);\n      } else if (h.friPostponeToSun && dow === FRI) {\n        hd = new HDate(hd.abs() + 2);\n      } else if (h.satPostponeToSun && dow === SAT) {\n        hd = hd.next();\n      }\n      const mask = h.chul ? MODERN_HOLIDAY : MODERN_HOLIDAY | IL_ONLY;\n      const ev = new HolidayEvent(hd, h.desc, mask);\n      if (!h.suppressEmoji) {\n        ev.emoji = '🇮🇱';\n      }\n      add(ev);\n    }\n  }\n\n  let tamuz17 = new HDate(17, TAMUZ, year);\n  let tamuz17attrs;\n  if (tamuz17.getDay() === SAT) {\n    tamuz17 = new HDate(18, TAMUZ, year);\n    tamuz17attrs = {observed: true};\n  }\n  add(new HolidayEvent(tamuz17, hdesc.TZOM_TAMMUZ, MINOR_FAST, tamuz17attrs));\n\n  let av9dt = new HDate(9, AV, year);\n  let av9title = hdesc.TISHA_BAV;\n  let av9attrs;\n  if (av9dt.getDay() === SAT) {\n    av9dt = av9dt.next();\n    av9attrs = {observed: true};\n    av9title += ' (observed)';\n  }\n  const av9abs = av9dt.abs();\n  add(\n    new HolidayEvent(\n      new HDate(HDate.dayOnOrBefore(SAT, av9abs)),\n      hdesc.SHABBAT_CHAZON,\n      SPECIAL_SHABBAT\n    ),\n    new HolidayEvent(\n      av9dt.prev(),\n      hdesc.EREV_TISHA_BAV,\n      EREV | MAJOR_FAST,\n      av9attrs\n    ),\n    new HolidayEvent(av9dt, av9title, MAJOR_FAST, av9attrs),\n    new HolidayEvent(\n      new HDate(HDate.dayOnOrBefore(SAT, av9abs + 7)),\n      hdesc.SHABBAT_NACHAMU,\n      SPECIAL_SHABBAT\n    )\n  );\n\n  const monthsInYear = HDate.monthsInYear(year);\n  for (let month = 1; month <= monthsInYear; month++) {\n    const monthName = HDate.getMonthName(month, year);\n    if (\n      (month === NISAN\n        ? HDate.daysInMonth(HDate.monthsInYear(year - 1), year - 1)\n        : HDate.daysInMonth(month - 1, year)) === 30\n    ) {\n      add(new RoshChodeshEvent(new HDate(1, month, year), monthName));\n      add(new RoshChodeshEvent(new HDate(30, month - 1, year), monthName));\n    } else if (month !== TISHREI) {\n      add(new RoshChodeshEvent(new HDate(1, month, year), monthName));\n    }\n  }\n\n  // Begin: Yom Kippur Katan\n  // start at Iyyar because one may not fast during Nisan\n  for (let month = months.IYYAR; month <= monthsInYear; month++) {\n    const nextMonth = month + 1;\n    // Yom Kippur Katan is not observed on the day before Rosh Hashanah.\n    // Not observed prior to Rosh Chodesh Cheshvan because Yom Kippur has just passed.\n    // Not observed before Rosh Chodesh Tevet, because that day is Hanukkah.\n    if (\n      nextMonth === TISHREI ||\n      nextMonth === months.CHESHVAN ||\n      nextMonth === TEVET\n    ) {\n      continue;\n    }\n    let ykk = new HDate(29, month, year);\n    const dow = ykk.getDay();\n    if (dow === FRI || dow === SAT) {\n      ykk = ykk.onOrBefore(THU);\n    }\n\n    const nextMonthName = HDate.getMonthName(nextMonth, year);\n    const ev = new YomKippurKatanEvent(ykk, nextMonthName);\n    add(ev);\n  }\n\n  const sedra = getSedra(year, false);\n  const beshalachHd = sedra.find(15) as HDate;\n  add(new HolidayEvent(beshalachHd, hdesc.SHABBAT_SHIRAH, SPECIAL_SHABBAT));\n\n  // Birkat Hachamah appears only once every 28 years\n  const birkatHaChama = getBirkatHaChama(year);\n  if (birkatHaChama) {\n    const hd = new HDate(birkatHaChama);\n    add(\n      new HolidayEvent(hd, hdesc.BIRKAT_HACHAMAH, MINOR_HOLIDAY, {emoji: '☀️'})\n    );\n  }\n\n  yearCache.set(year, map);\n  return map;\n}\n\n/**\n * Birkat Hachamah appears only once every 28 years.\n * Although almost always in Nisan, it can occur in Adar II.\n *   - 27 Adar II 5461 (Gregorian year 1701)\n *   - 29 Adar II 5993 (Gregorian year 2233)\n *\n * Due to drift, this will eventually slip into Iyyar\n *   - 2 Iyyar 7141 (Gregorian year 3381)\n * @private\n */\nfunction getBirkatHaChama(year: number): number {\n  const leap = HDate.isLeapYear(year);\n  const startMonth = leap ? ADAR_II : NISAN;\n  const startDay = leap ? 20 : 1;\n  const baseRd = HDate.hebrew2abs(year, startMonth, startDay);\n  for (let day = 0; day <= 40; day++) {\n    const abs = baseRd + day;\n    const elapsed = abs + 1373429;\n    if (elapsed % 10227 === 172) {\n      return abs;\n    }\n  }\n  return 0;\n}\n\n/**\n * Returns an array of holidays for the year\n * @param year Hebrew year\n * @param il use the Israeli schedule for holidays\n */\nexport function getHolidaysForYearArray(\n  year: number,\n  il: boolean\n): HolidayEvent[] {\n  const yearMap = getHolidaysForYear_(year);\n  const startAbs = HDate.hebrew2abs(year, TISHREI, 1);\n  const endAbs = HDate.hebrew2abs(year + 1, TISHREI, 1) - 1;\n  let events: HolidayEvent[] = [];\n  const myFilter = il ? observedInIsrael : observedInDiaspora;\n  for (let absDt = startAbs; absDt <= endAbs; absDt++) {\n    const hd = new HDate(absDt);\n    const holidays = yearMap.get(hd.toString());\n    if (holidays) {\n      const filtered: HolidayEvent[] = holidays.filter(myFilter);\n      events = events.concat(filtered);\n    }\n  }\n  return events;\n}\n","import {HDate} from '@hebcal/hdate';\nimport {Zmanim} from './zmanim';\nimport {Location} from './location';\nimport {getHolidaysOnDate} from './holidays';\nimport {Event, flags} from './event';\n\nconst LIGHT_CANDLES = flags.LIGHT_CANDLES | flags.LIGHT_CANDLES_TZEIS;\n\nfunction isTomorrowShabbosOrYomTov(dow: number, events: Event[]): boolean {\n  if (dow === 5) {\n    return true;\n  }\n  const erev = events.find(ev => ev.getFlags() & LIGHT_CANDLES);\n  if (erev) {\n    return true;\n  }\n  return false;\n}\n\n/**\n * Returns true if it is <em>Shabbos</em> or if it is a <em>Yom Tov</em> day that has a <em>melacha</em> (work)  prohibition.\n *\n * @return if the day is a <em>Yom Tov</em> that is <em>assur bemlacha</em> or <em>Shabbos</em>\n */\nfunction isTodayAssurBemelacha(dow: number, events: Event[]): boolean {\n  if (dow === 6) {\n    return true;\n  }\n  const chag = events.find(ev => ev.getFlags() & flags.CHAG);\n  if (chag) {\n    return true;\n  }\n  return false;\n}\n\n/**\n * Utility method to determine if the date and time has a <em>melacha</em> (work) prohibition.\n * Although there are many opinions on the time of <em>tzais</em>, for simplicity\n * this function uses solar depression of 8.5 degrees.\n *\n * @return `true` if <em>melacha</em> is prohibited or `false` if it is not.\n */\nexport function isAssurBemlacha(\n  currentTime: Date,\n  location: Location,\n  useElevation: boolean\n): boolean {\n  const zmanim = new Zmanim(location, currentTime, useElevation);\n  // erev shabbos, YT or YT sheni and after shkiah\n  const sunset = zmanim.sunset();\n  const sunsetMillis = sunset.getTime();\n  if (isNaN(sunsetMillis)) {\n    throw new Error('Could not determine sunset');\n  }\n  // erev shabbos, YT or YT sheni and after shkiah\n  const il = location.getIsrael();\n  const currentMillis = currentTime.getTime();\n  const hd = new HDate(currentTime);\n  const dow = hd.getDay();\n  const events = getHolidaysOnDate(hd, il) || [];\n  if (isTomorrowShabbosOrYomTov(dow, events) && currentMillis >= sunsetMillis) {\n    return true;\n  }\n  // is shabbos or YT and it is before tzais\n  if (isTodayAssurBemelacha(dow, events)) {\n    const tzais = zmanim.tzeit();\n    const tzaisMillis = tzais.getTime();\n    return currentMillis <= tzaisMillis;\n  }\n  return false;\n}\n","import {CalOptions} from './CalOptions';\n\nconst hour12cc: Record<string, number> = {\n  US: 1,\n  CA: 1,\n  BR: 1,\n  AU: 1,\n  NZ: 1,\n  DO: 1,\n  PR: 1,\n  GR: 1,\n  IN: 1,\n  KR: 1,\n  NP: 1,\n  ZA: 1,\n} as const;\n\n/**\n * @private\n * @param timeStr - original time like \"20:30\"\n * @param suffix - \"p\" or \"pm\" or \" P.M.\". Add leading space if you want it\n * @param options\n */\nexport function reformatTimeStr(\n  timeStr: string,\n  suffix: string,\n  options?: CalOptions\n): string {\n  if (typeof timeStr !== 'string')\n    throw new TypeError(`Bad timeStr: ${timeStr}`);\n  const cc = options?.location?.getCountryCode() || (options?.il ? 'IL' : 'US');\n  const hour12 = options?.hour12;\n  if (typeof hour12 !== 'undefined' && !hour12) {\n    return timeStr;\n  }\n  if (!hour12 && typeof hour12cc[cc] === 'undefined') {\n    return timeStr;\n  }\n  const hm = timeStr.split(':');\n  let hour: string | number = parseInt(hm[0], 10);\n  if (hour < 12 && suffix) {\n    suffix = suffix.replace('p', 'a').replace('P', 'A');\n    if (hour === 0) {\n      hour = 12;\n    }\n  } else if (hour > 12) {\n    hour = hour % 12;\n  } else if (hour === 0) {\n    hour = '00';\n  }\n  return `${hour}:${hm[1]}${suffix}`;\n}\n","import {HDate, Locale} from '@hebcal/hdate';\nimport {CalOptions} from './CalOptions';\nimport {Location} from './location';\nimport {Event} from './event';\nimport {reformatTimeStr} from './reformatTimeStr';\nimport {Zmanim} from './zmanim';\nimport './locale'; // Adds Hebrew and Ashkenazic translations\n\n/** An event that has an `eventTime` and `eventTimeStr` */\nexport class TimedEvent extends Event {\n  readonly eventTime: Date;\n  readonly location: Location;\n  readonly eventTimeStr: string;\n  readonly fmtTime: string;\n  readonly linkedEvent?: Event;\n  /**\n   * @param desc Description (not translated)\n   */\n  constructor(\n    date: HDate,\n    desc: string,\n    mask: number,\n    eventTime: Date,\n    location: Location,\n    linkedEvent?: Event,\n    options?: CalOptions\n  ) {\n    super(date, desc, mask);\n    this.eventTime = Zmanim.roundTime(eventTime);\n    this.location = location;\n    const timeFormat = location.getTimeFormatter();\n    this.eventTimeStr = Zmanim.formatTime(this.eventTime, timeFormat);\n    const opts = {...options, location};\n    this.fmtTime = reformatTimeStr(this.eventTimeStr, 'pm', opts);\n    if (typeof linkedEvent !== 'undefined') {\n      this.linkedEvent = linkedEvent;\n    }\n  }\n  /**\n   * @param [locale] Optional locale name (defaults to active locale).\n   */\n  render(locale?: string): string {\n    return Locale.gettext(this.getDesc(), locale) + ': ' + this.fmtTime;\n  }\n  /**\n   * Returns translation of \"Candle lighting\" without the time.\n   * @param [locale] Optional locale name (defaults to active locale).\n   */\n  renderBrief(locale?: string): string {\n    return Locale.gettext(this.getDesc(), locale);\n  }\n\n  getCategories(): string[] {\n    const desc = this.getDesc();\n    switch (desc) {\n      // LIGHT_CANDLES or LIGHT_CANDLES_TZEIS\n      case 'Candle lighting':\n        return ['candles'];\n      // YOM_TOV_ENDS\n      case 'Havdalah':\n        return ['havdalah'];\n      // flags.MINOR_FAST or flags.MAJOR_FAST\n      case 'Fast begins':\n      case 'Fast ends':\n        return ['zmanim', 'fast'];\n    }\n    /* NOTREACHED */\n    return ['unknown'];\n  }\n}\n\n/** Candle lighting before Shabbat or holiday */\nexport class CandleLightingEvent extends TimedEvent {\n  constructor(\n    date: HDate,\n    mask: number,\n    eventTime: Date,\n    location: Location,\n    linkedEvent?: Event,\n    options?: CalOptions\n  ) {\n    super(\n      date,\n      'Candle lighting',\n      mask,\n      eventTime,\n      location,\n      linkedEvent,\n      options\n    );\n  }\n\n  getEmoji(): string {\n    return '🕯️';\n  }\n}\n\n/** Havdalah after Shabbat or holiday */\nexport class HavdalahEvent extends TimedEvent {\n  private readonly havdalahMins?: number;\n  constructor(\n    date: HDate,\n    mask: number,\n    eventTime: Date,\n    location: Location,\n    havdalahMins?: number,\n    linkedEvent?: Event,\n    options?: CalOptions\n  ) {\n    super(date, 'Havdalah', mask, eventTime, location, linkedEvent, options);\n    if (havdalahMins) {\n      this.havdalahMins = havdalahMins;\n    }\n  }\n  /**\n   * @param [locale] Optional locale name (defaults to active locale).\n   */\n  render(locale?: string): string {\n    return this.renderBrief(locale) + ': ' + this.fmtTime;\n  }\n  /**\n   * Returns translation of \"Havdalah\" without the time.\n   * @param [locale] Optional locale name (defaults to active locale).\n   */\n  renderBrief(locale?: string): string {\n    let str = Locale.gettext(this.getDesc(), locale);\n    if (this.havdalahMins) {\n      const min = Locale.gettext('min', locale);\n      str += ` (${this.havdalahMins} ${min})`;\n    }\n    return str;\n  }\n\n  getEmoji(): string {\n    return '✨';\n  }\n}\n","/* eslint-disable max-len */\nimport {HDate, months} from '@hebcal/hdate';\nimport {CalOptions} from './CalOptions';\nimport {Location} from './location';\nimport {Event, flags} from './event';\nimport {ChanukahEvent, HolidayEvent} from './HolidayEvent';\nimport {Zmanim} from './zmanim';\nimport {TimedEvent, CandleLightingEvent, HavdalahEvent} from './TimedEvent';\n\nconst LIGHT_CANDLES = flags.LIGHT_CANDLES;\nconst LIGHT_CANDLES_TZEIS = flags.LIGHT_CANDLES_TZEIS;\n\n/**\n * @private\n */\nexport function makeCandleEvent(\n  ev: Event | undefined,\n  hd: HDate,\n  options: CalOptions,\n  isFriday: boolean,\n  isSaturday: boolean\n): TimedEvent | undefined {\n  let havdalahTitle = false;\n  let useHavdalahOffset = isSaturday;\n  let mask = ev ? ev.getFlags() : LIGHT_CANDLES;\n  if (typeof ev !== 'undefined') {\n    // if linked event && dow == FRI, use Candle lighting time & title\n    if (!isFriday) {\n      if (mask & (LIGHT_CANDLES_TZEIS | flags.CHANUKAH_CANDLES)) {\n        useHavdalahOffset = true;\n      } else if (mask & flags.YOM_TOV_ENDS) {\n        havdalahTitle = true;\n        useHavdalahOffset = true;\n      }\n    }\n  } else if (isSaturday) {\n    havdalahTitle = true;\n    mask = LIGHT_CANDLES_TZEIS;\n  }\n  // if Havdalah offset is 0 or undefined, we'll use tzeit time\n  const offset = useHavdalahOffset\n    ? Number(options.havdalahMins)\n    : Number(options.candleLightingMins);\n  const location = options.location as Location;\n  const useElevation = Boolean(options.useElevation);\n  const zmanim = new Zmanim(location, hd, useElevation);\n  const time =\n    useHavdalahOffset && !offset\n      ? zmanim.tzeit(options.havdalahDeg)\n      : zmanim.sunsetOffset(offset, true);\n  if (isNaN(time.getTime())) {\n    return undefined; // no sunset\n  }\n  if (havdalahTitle) {\n    return new HavdalahEvent(\n      hd,\n      mask,\n      time,\n      location,\n      options.havdalahMins,\n      ev,\n      options\n    );\n  } else {\n    mask |= LIGHT_CANDLES;\n    return new CandleLightingEvent(hd, mask, time, location, ev, options);\n  }\n}\n\nconst FAST_BEGINS = 'Fast begins';\nconst FAST_ENDS = 'Fast ends';\n\n/** A fast day also contains a start and end time */\nexport class FastDayEvent extends HolidayEvent {\n  /** original event */\n  readonly linkedEvent: HolidayEvent;\n  /** this will be a \"Fast begins\" event */\n  readonly startEvent?: TimedEvent;\n  /** this will be a \"Fast ends\" event */\n  readonly endEvent?: TimedEvent;\n  constructor(\n    linkedEvent: HolidayEvent,\n    startEvent?: TimedEvent,\n    endEvent?: TimedEvent\n  ) {\n    super(linkedEvent.getDate(), linkedEvent.getDesc(), linkedEvent.getFlags());\n    this.linkedEvent = linkedEvent;\n    this.startEvent = startEvent;\n    this.endEvent = endEvent;\n  }\n  render(locale?: string): string {\n    return this.linkedEvent.render(locale);\n  }\n  renderBrief(locale?: string): string {\n    return this.linkedEvent.renderBrief(locale);\n  }\n  urlDateSuffix(): string {\n    return this.linkedEvent.urlDateSuffix();\n  }\n  url(): string | undefined {\n    return this.linkedEvent.url();\n  }\n  getEmoji(): string {\n    return this.linkedEvent.getEmoji();\n  }\n  getCategories(): string[] {\n    return this.linkedEvent.getCategories();\n  }\n}\n\n/**\n * Makes a pair of events representing fast start and end times\n * @private\n */\nexport function makeFastStartEnd(\n  ev: HolidayEvent,\n  options: CalOptions\n): FastDayEvent {\n  const desc = ev.getDesc();\n  if (desc === 'Yom Kippur') {\n    throw new RangeError('YK does not require this function');\n  }\n  const hd = ev.getDate();\n  const dt = hd.greg();\n  const location = options.location as Location;\n  const fastEndDeg = options.fastEndDeg;\n  const useElevation = Boolean(options.useElevation);\n  const zmanim = new Zmanim(location, dt, useElevation);\n  let startEvent;\n  let endEvent;\n  if (desc === \"Erev Tish'a B'Av\") {\n    const sunset = zmanim.sunset();\n    if (!isNaN(sunset.getTime())) {\n      startEvent = makeTimedEvent(ev, sunset, FAST_BEGINS, options);\n    }\n  } else if (desc.startsWith(\"Tish'a B'Av\")) {\n    const tzeit = zmanim.tzeit(fastEndDeg);\n    if (!isNaN(tzeit.getTime())) {\n      endEvent = makeTimedEvent(ev, tzeit, FAST_ENDS, options);\n    }\n  } else {\n    const dawn = zmanim.alotHaShachar();\n    if (!isNaN(dawn.getTime())) {\n      startEvent = makeTimedEvent(ev, dawn, FAST_BEGINS, options);\n    }\n    if (\n      dt.getDay() !== 5 &&\n      !(hd.getDate() === 14 && hd.getMonth() === months.NISAN)\n    ) {\n      const tzeit = zmanim.tzeit(fastEndDeg);\n      if (!isNaN(tzeit.getTime())) {\n        endEvent = makeTimedEvent(ev, tzeit, FAST_ENDS, options);\n      }\n    }\n  }\n  const ev2 = new FastDayEvent(ev, startEvent, endEvent);\n  // copy properties such as memo or emoji\n  Object.assign(ev2, ev);\n  return ev2;\n}\n\n/**\n * @private\n */\nfunction makeTimedEvent(\n  ev: Event,\n  time: Date,\n  desc: string,\n  options: CalOptions\n): TimedEvent {\n  const location = options.location as Location;\n  const hd = ev.getDate();\n  return new TimedEvent(hd, desc, ev.getFlags(), time, location, ev, options);\n}\n\nexport class TimedChanukahEvent extends ChanukahEvent {\n  eventTime: Date;\n  eventTimeStr: string;\n  readonly location: Location;\n  constructor(\n    date: HDate,\n    desc: string,\n    mask: number,\n    eventTime: Date,\n    location: Location\n  ) {\n    super(date, desc, mask);\n    this.eventTime = Zmanim.roundTime(eventTime);\n    const timeFormat = location.getTimeFormatter();\n    this.eventTimeStr = Zmanim.formatTime(this.eventTime, timeFormat);\n    this.location = location;\n  }\n}\n\n/**\n * Makes a candle-lighting event for Chankah (not on Friday/Saturday).\n * At one point this used civil dusk (6 degrees below horizon).\n * Another source suggests 4.6667 degrees below horizon.\n * @private\n */\nexport function makeWeekdayChanukahCandleLighting(\n  ev: HolidayEvent,\n  hd: HDate,\n  options: CalOptions\n): TimedChanukahEvent | null {\n  const location = options.location as Location;\n  const useElevation = Boolean(options.useElevation);\n  const zmanim = new Zmanim(location, hd.greg(), useElevation);\n  const candleLightingTime = zmanim.beinHaShmashos();\n  if (isNaN(candleLightingTime.getTime())) {\n    return null;\n  }\n  const ev2 = new TimedChanukahEvent(\n    hd,\n    ev.getDesc(),\n    ev.getFlags(),\n    candleLightingTime,\n    location\n  );\n  ev2.emoji = ev.emoji;\n  ev2.chanukahDay = ev.chanukahDay;\n  return ev2;\n}\n","/* eslint-disable camelcase */\nimport {Event, flags} from './event';\nimport {CalOptions} from './CalOptions';\nimport {HDate, Locale, molad, Molad as MoladBase} from '@hebcal/hdate';\nimport {reformatTimeStr} from './reformatTimeStr';\nimport './locale'; // Adds Hebrew and Ashkenazic translations\n\nconst shortDayNames = ['Sun', 'Mon', 'Tue', 'Wed', 'Thu', 'Fri', 'Sat'];\nconst heDayNames = [\n  'רִאשׁוֹן',\n  'שֵׁנִי',\n  'שְׁלִישִׁי',\n  'רְבִיעִי',\n  'חֲמִישִׁי',\n  'שִׁישִּׁי',\n  'שַׁבָּת',\n];\nconst frDayNames = ['Dim', 'Lun', 'Mar', 'Mer', 'Jeu', 'Ven', 'Sam'];\nconst night = 'בַּלַּ֥יְלָה';\n\nfunction getHebrewTimeOfDay(hour: number): string {\n  if (hour < 5) return night;\n  else if (hour < 12) return 'בַּבֹּקֶר';\n  else if (hour < 17) return 'בַּצׇּהֳרַיִים';\n  else if (hour < 21) return 'בָּעֶרֶב';\n  return night;\n}\n\n/**\n * Represents a molad, the moment when the new moon is \"born\"\n */\nexport class Molad {\n  private readonly m: MoladBase;\n  /**\n   * Calculates the molad for a Hebrew month\n   * @param year\n   * @param month\n   */\n  constructor(year: number, month: number) {\n    this.m = molad(year, month);\n  }\n  /**\n   */\n  getYear(): number {\n    return this.m.year;\n  }\n  /**\n   */\n  getMonth(): number {\n    return this.m.month;\n  }\n  /**\n   */\n  getMonthName(): string {\n    return HDate.getMonthName(this.m.month, this.m.year);\n  }\n  /**\n   * @returns Day of Week (0=Sunday, 6=Saturday)\n   */\n  getDow(): number {\n    return this.m.dayOfWeek;\n  }\n  /**\n   * @returns hour of day (0-23)\n   */\n  getHour(): number {\n    return this.m.hour;\n  }\n  /**\n   * @returns minutes past hour (0-59)\n   */\n  getMinutes(): number {\n    return this.m.minutes;\n  }\n  /**\n   * @returns parts of a minute (0-17)\n   */\n  getChalakim(): number {\n    return this.m.chalakim;\n  }\n  /**\n   * @param [locale] Optional locale name (defaults to active locale)\n   * @param options\n   */\n  render(locale?: string, options?: CalOptions): string {\n    locale = locale ?? Locale.getLocaleName();\n    if (typeof locale === 'string') {\n      locale = locale.toLowerCase();\n    }\n    const isHebrewLocale =\n      locale === 'he' || locale === 'he-x-nonikud' || locale === 'h';\n    const isFrenchLocale = locale === 'fr';\n    const monthName = Locale.gettext(this.getMonthName(), locale);\n    const dayNames = isHebrewLocale ? heDayNames : (isFrenchLocale ? frDayNames : shortDayNames);\n    const dow = dayNames[this.getDow()];\n    const minutes = this.getMinutes();\n    const hour = this.getHour();\n    const chalakim = this.getChalakim();\n    const moladStr = Locale.gettext('Molad', locale);\n    const minutesStr = Locale.lookupTranslation('min', locale) ?? 'minutes';\n    const chalakimStr = Locale.gettext('chalakim', locale);\n    const and = Locale.gettext('and', locale);\n    const after = Locale.gettext('after', locale);\n    if (isHebrewLocale) {\n      const ampm = getHebrewTimeOfDay(hour);\n      const result =\n        `${moladStr} ${monthName} יִהְיֶה בַּיּוֹם ${dow} בשָׁבוּעַ, ` +\n        `בְּשָׁעָה ${hour} ${ampm}, ` +\n        `ו-${minutes} ${minutesStr} ` +\n        `ו-${chalakim} ${chalakimStr}`;\n      if (locale === 'he-x-nonikud') {\n        return Locale.hebrewStripNikkud(result);\n      }\n      return result;\n    }\n    const fmtTime = reformatTimeStr(`${hour}:00`, 'pm', options);\n    const month = monthName.replace(/'/g, '’');\n    return `${moladStr} ${month}: ${dow}, ${minutes} ${minutesStr} ${and} ${chalakim} ${chalakimStr} ${after} ${fmtTime}`;\n  }\n}\n\n/** Represents a Molad announcement on Shabbat Mevarchim */\nexport class MoladEvent extends Event {\n  readonly molad: Molad;\n  private readonly options: CalOptions;\n  /**\n   * @param date Hebrew date event occurs\n   * @param hyear molad year\n   * @param hmonth molad month\n   * @param options\n   */\n  constructor(date: HDate, hyear: number, hmonth: number, options: CalOptions) {\n    const m = new Molad(hyear, hmonth);\n    const monthName = m.getMonthName();\n    super(date, `Molad ${monthName} ${hyear}`, flags.MOLAD);\n    this.molad = m;\n    this.options = options;\n  }\n  /**\n   * @param [locale] Optional locale name (defaults to active locale).\n   */\n  render(locale?: string): string {\n    return this.molad.render(locale, this.options);\n  }\n}\n","/*! @hebcal/hdate v0.14.2, distributed under GPLv2 https://www.gnu.org/licenses/gpl-2.0.txt */\nimport { monthsInYear } from './hdateBase.js';\n\n/**\n * Calculates the molad for a Hebrew month\n */\nfunction molad(year, month) {\n    let m_adj = month - 7;\n    if (m_adj < 0) {\n        m_adj += monthsInYear(year);\n    }\n    const mElapsed = 235 * Math.floor((year - 1) / 19) + // Months in complete 19 year lunar (Metonic) cycles so far\n        12 * ((year - 1) % 19) + // Regular months in this cycle\n        Math.floor((7 * ((year - 1) % 19) + 1) / 19) + // Leap months this cycle\n        m_adj; // add elapsed months till the start of the molad of the month\n    const pElapsed = 204 + Math.floor(793 * (mElapsed % 1080));\n    const hElapsed = 5 +\n        12 * mElapsed +\n        793 * Math.floor(mElapsed / 1080) +\n        Math.floor(pElapsed / 1080) -\n        6;\n    const parts = (pElapsed % 1080) + 1080 * (hElapsed % 24);\n    const chalakim = parts % 1080;\n    const day = 1 + 29 * mElapsed + Math.floor(hElapsed / 24);\n    return {\n        year,\n        month,\n        dayOfWeek: day % 7,\n        hour: hElapsed % 24,\n        minutes: Math.floor(chalakim / 18),\n        chalakim: chalakim % 18,\n    };\n}\n\nexport { molad };\n//# sourceMappingURL=molad.js.map\n","import {HDate, Locale, gematriya} from '@hebcal/hdate';\nimport {Event, flags} from './event';\nimport './locale'; // Adds Hebrew and Ashkenazic translations\n\n/**\n * Language for counting the Omer can be English or Hebrew.\n * Lang for the Sefira can be English, Hebrew, or Hebrew in Sephardic transliteration.\n */\nexport type OmerLang = 'en' | 'he' | 'translit';\n\nconst sefirot = {\n  en: {\n    infix: 'within ',\n    infix26: 'within ',\n    words: [\n      '',\n      'Lovingkindness',\n      'Might',\n      'Beauty',\n      'Eternity',\n      'Splendor',\n      'Foundation',\n      'Majesty',\n    ],\n    pfxWords: null,\n  },\n  he: {\n    infix: null,\n    infix26: null,\n    words: [\n      '',\n      'חֶֽסֶד',\n      'גְּבוּרָה',\n      'תִּפְאֶֽרֶת',\n      'נֶּֽצַח',\n      'הוֹד',\n      'יְּסוֹד',\n      'מַלְכוּת',\n    ],\n    pfxWords: [\n      '',\n      'שֶׁבְּחֶֽסֶד',\n      'שֶׁבִּגְבוּרָה',\n      'שֶׁבְּתִפְאֶֽרֶת',\n      'שֶׁבְּנֶֽצַח',\n      'שֶׁבְּהוֹד',\n      'שֶׁבִּיְסוֹד',\n      'שֶׁבְּמַלְכוּת',\n    ],\n  },\n  translit: {\n    infix: \"sheb'\",\n    infix26: 'shebi',\n    words: [\n      '',\n      'Chesed',\n      'Gevurah',\n      'Tiferet',\n      'Netzach',\n      'Hod',\n      'Yesod',\n      'Malkhut',\n    ],\n    pfxWords: null,\n  },\n} as const;\n\nfunction checkDay(omerDay: number): void {\n  if (omerDay < 1 || omerDay > 49) {\n    throw new RangeError(`Invalid Omer day ${omerDay}`);\n  }\n}\n\nfunction getWeeks(omerDay: number): number[] {\n  const weekNum: number = Math.floor((omerDay - 1) / 7) + 1;\n  const daysWithinWeeks: number = omerDay % 7 || 7;\n  return [weekNum, daysWithinWeeks];\n}\n\nfunction omerTodayIsEn(omerDay: number): string {\n  const [weekNumber, daysWithinWeeks]: number[] = getWeeks(omerDay);\n\n  const totalDaysStr: string = omerDay === 1 ? 'day' : 'days';\n  let str = `Today is ${omerDay} ${totalDaysStr}`;\n\n  if (weekNumber > 1 || omerDay === 7) {\n    const day7: boolean = daysWithinWeeks === 7;\n    const numWeeks: number = day7 ? weekNumber : weekNumber - 1;\n    const weeksStr: string = numWeeks === 1 ? 'week' : 'weeks';\n    str += `, which is ${numWeeks} ${weeksStr}`;\n    if (!day7) {\n      const daysStr: string = daysWithinWeeks === 1 ? 'day' : 'days';\n      str += ` and ${daysWithinWeeks} ${daysStr}`;\n    }\n  }\n  return str + ' of the Omer';\n}\n\n// adapted from pip hdate package (GPL)\n// https://github.com/py-libhdate/py-libhdate/blob/master/hdate/date.py\n\nconst tens = ['', 'עֲשָׂרָה', 'עֶשְׂרִים', 'שְׁלוֹשִׁים', 'אַרְבָּעִים'];\nconst ones = [\n  '',\n  'אֶחָד',\n  'שְׁנַיִם',\n  'שְׁלוֹשָׁה',\n  'אַרְבָּעָה',\n  'חֲמִשָּׁה',\n  'שִׁשָּׁה',\n  'שִׁבְעָה',\n  'שְׁמוֹנָה',\n  'תִּשְׁעָה',\n];\n\nconst shnei = 'שְׁנֵי';\nconst yamim = 'יָמִים';\nconst shneiYamim = shnei + ' ' + yamim;\nconst shavuot = 'שָׁבוּעוֹת';\nconst yom = 'יוֹם';\nconst yomEchad = yom + ' ' + ones[1];\nconst asar = 'עָשָׂר';\n\nfunction omerTodayIsHe(omerDay: number): string {\n  const ten: number = Math.floor(omerDay / 10);\n  const one: number = omerDay % 10;\n  let str = 'הַיּוֹם ';\n  if (omerDay === 11) {\n    str += 'אַחַד ' + asar;\n  } else if (omerDay === 12) {\n    str += 'שְׁנֵים ' + asar;\n  } else if (12 < omerDay && omerDay < 20) {\n    str += ones[one] + ' ' + asar;\n  } else if (omerDay > 9) {\n    str += ones[one];\n    if (one) {\n      str += ' ';\n      str += ten === 3 ? 'וּ' : 'וְ';\n    }\n  }\n  if (omerDay > 2) {\n    if (omerDay > 20 || omerDay === 10 || omerDay === 20) {\n      str += tens[ten];\n    }\n    if (omerDay < 11) {\n      str += ones[one] + ' ' + yamim + ' ';\n    } else {\n      str += ' ' + yom + ' ';\n    }\n  } else if (omerDay === 1) {\n    str += yomEchad + ' ';\n  } else {\n    // omer == 2\n    str += shneiYamim + ' ';\n  }\n  if (omerDay > 6) {\n    str = str.trim(); // remove trailing space before comma\n    str += ', שֶׁהֵם ';\n    const weeks: number = Math.floor(omerDay / 7);\n    const days: number = omerDay % 7;\n    if (weeks > 2) {\n      str += ones[weeks] + ' ' + shavuot + ' ';\n    } else if (weeks === 1) {\n      str += 'שָׁבֽוּעַ' + ' ' + ones[1] + ' ';\n    } else {\n      // weeks == 2\n      str += shnei + ' ' + shavuot + ' ';\n    }\n    if (days) {\n      if (days === 2 || days === 3) {\n        str += 'וּ';\n      } else if (days === 5) {\n        str += 'וַ';\n      } else {\n        str += 'וְ';\n      }\n      if (days > 2) {\n        str += ones[days] + ' ' + yamim + ' ';\n      } else if (days === 1) {\n        str += yomEchad + ' ';\n      } else {\n        // days == 2\n        str += shneiYamim + ' ';\n      }\n    }\n  }\n  str += 'לָעֽוֹמֶר';\n  return str.normalize();\n}\n\n/** Represents a day 1-49 of counting the Omer from Pesach to Shavuot */\nexport class OmerEvent extends Event {\n  private readonly weekNumber: number;\n  private readonly daysWithinWeeks: number;\n  readonly omer: number;\n  emoji?: string;\n\n  /**\n   * @param date\n   * @param omerDay\n   */\n  constructor(date: HDate, omerDay: number) {\n    super(date, `Omer ${omerDay}`, flags.OMER_COUNT);\n    checkDay(omerDay);\n    this.weekNumber = Math.floor((omerDay - 1) / 7) + 1;\n    this.daysWithinWeeks = omerDay % 7 || 7;\n    this.omer = omerDay;\n  }\n\n  /**\n   * Returns the sefira. For example, on day 8:\n   *  * חֶֽסֶד שֶׁבִּגְבוּרָה\n   *  * Chesed shebiGevurah\n   *  * Lovingkindness within Might\n   * @param lang `en` (English), `he` (Hebrew with nikud), or `translit` (Hebrew in Sephardic transliteration)\n   * @returns a string such as `Lovingkindness within Might` or `חֶֽסֶד שֶׁבִּגְבוּרָה`\n   */\n  sefira(lang: OmerLang = 'en'): string {\n    if (lang !== 'he' && lang !== 'translit') {\n      lang = 'en';\n    }\n    const [weekNum, daysWithinWeeks]: number[] = getWeeks(this.omer);\n    const config = sefirot[lang as OmerLang];\n    const pfxWords = config.pfxWords;\n    const words = config.words;\n    const week = pfxWords ? pfxWords[weekNum] : words[weekNum];\n    const dayWithinWeek = words[daysWithinWeeks];\n    const infix = pfxWords\n      ? ''\n      : weekNum === 2 || weekNum === 6\n        ? config.infix26\n        : config.infix;\n    return (dayWithinWeek + ' ' + infix + week).normalize();\n  }\n  /**\n   * @param [locale] Optional locale name (defaults to active locale).\n   */\n  render(locale?: string): string {\n    locale = locale ?? Locale.getLocaleName();\n    if (typeof locale === 'string') {\n      locale = locale.toLowerCase();\n    }\n    const isHebrewLocale =\n      locale === 'he' || locale === 'he-x-nonikud' || locale === 'h';\n    const omer = this.omer;\n    const nth = isHebrewLocale ? gematriya(omer) : Locale.ordinal(omer, locale);\n    return nth + ' ' + Locale.gettext('day of the Omer', locale);\n  }\n  /**\n   * Returns translation of \"Omer day 22\" without ordinal numbers.\n   * @param [locale] Optional locale name (defaults to active locale).\n   */\n  renderBrief(locale?: string): string {\n    return (\n      Locale.gettext('Omer', locale) +\n      ' ' +\n      Locale.gettext('day', locale) +\n      ' ' +\n      this.omer\n    );\n  }\n  /**\n   * Returns an emoji number symbol with a circle, for example `㊲`\n   *  from the “Enclosed CJK Letters and Months” block of the Unicode standard\n   * @returns a single Unicode character from `①` through `㊾`\n   */\n  getEmoji(): string {\n    if (typeof this.emoji === 'string') return this.emoji;\n    let codePoint: number;\n    const omerDay = this.omer;\n    if (omerDay <= 20) {\n      codePoint = 9312 + omerDay - 1;\n    } else if (omerDay <= 35) {\n      // between 21 and 35 inclusive\n      codePoint = 12881 + omerDay - 21;\n    } else {\n      // between 36 and 49 inclusive\n      codePoint = 12977 + omerDay - 36;\n    }\n    return String.fromCodePoint(codePoint);\n  }\n\n  getWeeks(): number {\n    const day7 = this.daysWithinWeeks === 7;\n    return day7 ? this.weekNumber : this.weekNumber - 1;\n  }\n\n  getDaysWithinWeeks(): number {\n    return this.daysWithinWeeks;\n  }\n  /**\n   * Returns a sentence with that evening's omer count\n   * @returns a string such as `Today is 10 days, which is 1 week and 3 days of the Omer`\n   *  or `הַיוֹם עֲשָׂרָה יָמִים, שְׁהֵם שָׁבוּעַ אֶחָד וְשְׁלוֹשָׁה יָמִים לָעוֹמֶר`\n   */\n  getTodayIs(locale: string): string {\n    locale = locale ?? Locale.getLocaleName();\n    if (typeof locale === 'string') {\n      locale = locale.toLowerCase();\n    }\n    const isHebrew = locale === 'he' || locale === 'he-x-nonikud';\n    const str = isHebrew ? omerTodayIsHe(this.omer) : omerTodayIsEn(this.omer);\n    if (locale === 'he-x-nonikud') {\n      return Locale.hebrewStripNikkud(str);\n    }\n    return str;\n  }\n\n  url(): string {\n    return `https://www.hebcal.com/omer/${this.getDate().getFullYear()}/${this.omer}`;\n  }\n}\n","import {Event, flags} from './event';\nimport {HDate, isoDateString} from '@hebcal/hdate';\nimport {renderParshaName} from './parshaName';\nimport './locale'; // Adds Hebrew and Ashkenazic translations\n\n/**\n * Represents one of 54 weekly Torah portions, always on a Saturday\n */\nexport class ParshaEvent extends Event {\n  readonly parsha: string[];\n  readonly il: boolean;\n  readonly num: number | number[];\n  /**\n   * @param parsha - untranslated name of single or double parsha,\n   *   such as ['Bereshit'] or ['Achrei Mot', 'Kedoshim']\n   */\n  constructor(\n    date: HDate,\n    parsha: string[],\n    il = false,\n    num: number | number[] = -1\n  ) {\n    if (!Array.isArray(parsha) || parsha.length === 0 || parsha.length > 2) {\n      throw new TypeError('Bad parsha argument');\n    }\n    const desc = 'Parashat ' + parsha.join('-');\n    super(date, desc, flags.PARSHA_HASHAVUA);\n    this.parsha = parsha;\n    this.il = Boolean(il);\n    this.num = num || -1;\n  }\n  /**\n   * @param [locale] Optional locale name (i.e: `'he'`, `'fr'`). Defaults to active locale.\n   */\n  render(locale?: string): string {\n    return renderParshaName(this.parsha, locale);\n  }\n\n  basename(): string {\n    return this.parsha.join('-');\n  }\n\n  url(): string | undefined {\n    const year = this.getDate().greg().getFullYear();\n    if (year < 100) {\n      return undefined;\n    }\n    const dt = this.urlDateSuffix();\n    const url =\n      'https://www.hebcal.com/sedrot/' +\n      this.basename().toLowerCase().replace(/'/g, '').replace(/ /g, '-') +\n      '-' +\n      dt;\n    return this.il ? url + '?i=on' : url;\n  }\n\n  urlDateSuffix(): string {\n    const isoDate = isoDateString(this.getDate().greg());\n    return isoDate.replace(/-/g, '');\n  }\n}\n","import {HDate, Locale, months} from '@hebcal/hdate';\nimport {Event, flags} from './event';\nimport {Molad} from './molad';\nimport './locale'; // Adds Hebrew and Ashkenazic translations\n\nconst mevarchimChodeshStr = 'Shabbat Mevarchim Chodesh';\n\n/** Represents Mevarchim haChodesh, the announcement of the new month */\nexport class MevarchimChodeshEvent extends Event {\n  readonly monthName: string;\n  /**\n   * Constructs Mevarchim haChodesh event\n   * @param date Hebrew date event occurs\n   * @param monthName Hebrew month name (not translated)\n   * @param [memo]\n   * @param locale Optional locale name\n   */\n  constructor(date: HDate, monthName: string, memo: string, locale?: string) {\n    super(date, `${mevarchimChodeshStr} ${monthName}`, flags.SHABBAT_MEVARCHIM);\n    this.monthName = Locale.gettext(monthName, locale);\n    if (memo) {\n      this.memo = memo;\n    } else {\n      const hyear = date.getFullYear();\n      const hmonth = date.getMonth();\n      const monNext =\n        hmonth === HDate.monthsInYear(hyear) ? months.NISAN : hmonth + 1;\n      const molad = new Molad(hyear, monNext);\n      this.memo = molad.render('en', {hour12: false});\n    }\n  }\n\n  basename(): string {\n    return this.getDesc();\n  }\n  /**\n   * Returns (translated) description of this event\n   * @param [locale] Optional locale name (defaults to active locale).\n   */\n  render(locale?: string): string {\n    const monthName0 = Locale.gettext(this.monthName, locale);\n    const monthName = monthName0.replace(/'/g, '’');\n    return Locale.gettext(mevarchimChodeshStr, locale) + ' ' + monthName;\n  }\n  /**\n   * Returns (translated) description of this event\n   * @param [locale] Optional locale name (defaults to active locale).\n   */\n  renderBrief(locale?: string): string {\n    const str = this.render(locale);\n    const space = str.indexOf(' ');\n    return str.substring(space + 1);\n  }\n}\n","import {HDate} from '@hebcal/hdate';\nimport {Event} from './event';\n\ntype LearningCalendar = {\n  fn: Function;\n  startDate?: HDate;\n};\nconst cals = new Map<string, LearningCalendar>();\n\n/**\n * Plug-ins for daily learning calendars such as Daf Yomi, Mishna Yomi, Nach Yomi, etc.\n *\n * Learning schedules are provided by the `@hebcal/learning` package.\n */\nexport class DailyLearning {\n  /**\n   * Register a new learning calendar.\n   * @param name case insensitive\n   * @param calendar a function that returns an `Event` or `null`\n   * @param startDate the first date for which this calendar is valid\n   */\n  static addCalendar(name: string, calendar: Function, startDate?: HDate) {\n    if (typeof calendar !== 'function') {\n      throw new TypeError(`Invalid calendar function: ${calendar}`);\n    }\n    cals.set(name.toLowerCase(), {\n      fn: calendar,\n      startDate: startDate,\n    });\n  }\n\n  /**\n   * Returns an event from daily calendar for a given date. Returns `null` if there\n   * is no learning from this calendar on this date.\n   * @param name case insensitive\n   * @param hd Hebrew Date\n   * @param il true for Israel, false for Diaspora\n   */\n  static lookup(name: string, hd: HDate, il: boolean): Event | null {\n    const cal = cals.get(name.toLowerCase());\n    if (typeof cal === 'object') {\n      return cal.fn(hd, il);\n    }\n    return null;\n  }\n\n  static getStartDate(name: string): HDate | undefined {\n    const cal = cals.get(name.toLowerCase());\n    if (typeof cal === 'object') {\n      return cal.startDate;\n    }\n    return undefined;\n  }\n\n  /**\n   * Tests to see if learning calendar has been registered\n   * @param name case insensitive\n   */\n  static has(name: string): boolean {\n    return cals.has(name.toLowerCase());\n  }\n\n  /** Returns the names of all calendars registered */\n  static getCalendars(): string[] {\n    return Array.from(cals.keys());\n  }\n}\n","import {HDate, months} from '@hebcal/hdate';\nimport {dateYomHaZikaron} from './modern';\n\nfunction range(start: number, end: number): readonly number[] {\n  const arr = [];\n  for (let i = start; i <= end; i++) {\n    arr.push(i);\n  }\n  return arr;\n}\n\n/**\n * Is *tachanun* said today?\n */\nexport type TachanunResult = {\n  /** Tachanun is said at Shacharit */\n  shacharit: boolean;\n  /** Tachanun is said at Mincha */\n  mincha: boolean;\n  /** All congregations say Tachanun on the day */\n  allCongs: boolean;\n};\n\nconst NONE: TachanunResult = {\n  shacharit: false,\n  mincha: false,\n  allCongs: false,\n} as const;\n\n/**\n * Return details on what Tachanun (or Tzidchatcha on Shabbat) is said on `hdate`.\n *\n * Tachanun is not said on Rosh Chodesh, the month of Nisan, Lag Baomer,\n * Rosh Chodesh Sivan until Isru Chag, Tisha B'av, 15 Av, Erev Rosh Hashanah,\n * Rosh Hashanah, Erev Yom Kippur until after Simchat Torah, Chanukah,\n * Tu B'shvat, Purim and Shushan Purim, and Purim and Shushan Purim Katan.\n *\n * In some congregations Tachanun is not said until from Rosh Chodesh Sivan\n * until 14th Sivan, Sukkot until after Rosh Chodesh Cheshvan, Pesach Sheini,\n * Yom Ha'atzmaut, and Yom Yerushalayim.\n *\n * Tachanun is not said at Mincha on days before it is not said at Shacharit.\n *\n * Tachanun is not said at Shacharit on Shabbat, but is at Mincha, usually.\n */\nexport function tachanun(hdate: HDate, il: boolean): TachanunResult {\n  return tachanun0(hdate, il, true);\n}\n\nfunction tachanun0(\n  hdate: HDate,\n  il: boolean,\n  checkNext: boolean\n): TachanunResult {\n  const year = hdate.yy;\n  const dates = tachanunYear(year, il);\n  const abs = hdate.abs();\n  if (dates.none.indexOf(abs) > -1) {\n    return NONE;\n  }\n  const dow = hdate.getDay();\n  const ret: TachanunResult = {\n    shacharit: false,\n    mincha: false,\n    allCongs: false,\n  };\n  if (dates.some.indexOf(abs) === -1) {\n    ret.allCongs = true;\n  }\n  if (dow !== 6) {\n    ret.shacharit = true;\n  }\n  const tomorrow = abs + 1;\n  if (checkNext && dates.yesPrev.indexOf(tomorrow) === -1) {\n    const tmp = tachanun0(new HDate(tomorrow), il, false);\n    ret.mincha = tmp.shacharit;\n  } else {\n    ret.mincha = dow !== 5;\n  }\n  if (ret.allCongs && !ret.mincha && !ret.shacharit) {\n    return NONE;\n  }\n  return ret;\n}\n\ntype TachanunYear = {\n  none: number[];\n  some: number[];\n  yesPrev: number[];\n};\n\nfunction tachanunYear(year: number, il: boolean): TachanunYear {\n  const leap = HDate.isLeapYear(year);\n  const monthsInYear = HDate.monthsInYear(year);\n  let av9dt = new HDate(9, months.AV, year);\n  if (av9dt.getDay() === 6) {\n    av9dt = av9dt.next();\n  }\n  let shushPurim = new HDate(15, months.ADAR_II, year);\n  if (shushPurim.getDay() === 6) {\n    shushPurim = shushPurim.next();\n  }\n  const none: readonly HDate[] = [\n    new HDate(2, months.TISHREI, year), // Rosh Hashana II\n  ].concat(\n    // Rosh Chodesh - 1st of every month. Also includes RH day 1 (1 Tishrei)\n    range(1, monthsInYear).map(month => new HDate(1, month, year)),\n    // Rosh Chodesh - 30th of months that have one\n    range(1, monthsInYear)\n      .filter(month => HDate.daysInMonth(month, year) === 30)\n      .map(month => new HDate(30, month, year)),\n    // entire month of Nisan\n    range(1, HDate.daysInMonth(months.NISAN, year)).map(\n      mday => new HDate(mday, months.NISAN, year)\n    ),\n    new HDate(18, months.IYYAR, year), // Lag BaOmer\n    // Rosh Chodesh Sivan thru Isru Chag\n    range(1, 8 - (il ? 1 : 0)).map(mday => new HDate(mday, months.SIVAN, year)),\n    av9dt, // Tisha B'Av\n    new HDate(15, months.AV, year), // Tu B'Av\n    new HDate(29, months.ELUL, year), // Erev Rosh Hashanah\n    // Erev Yom Kippur thru Isru Chag\n    range(9, 24 - (il ? 1 : 0)).map(\n      mday => new HDate(mday, months.TISHREI, year)\n    ),\n    // Chanukah\n    range(25, 33).map(mday => new HDate(mday, months.KISLEV, year)),\n    new HDate(15, months.SHVAT, year), // Tu BiShvat\n    new HDate(14, months.ADAR_II, year), // Purim\n    shushPurim,\n    leap ? new HDate(14, months.ADAR_I, year) : [] // Purim Katan\n  );\n  const some: readonly HDate[] = [\n    new HDate(14, months.IYYAR, year), // Pesach Sheini\n  ].concat(\n    // Until 14 Sivan\n    range(1, 13).map(mday => new HDate(mday, months.SIVAN, year)),\n    // Until after Rosh Chodesh Cheshvan\n    range(20, 31).map(mday => new HDate(mday, months.TISHREI, year)),\n    // Yom HaAtzma'ut, which changes based on day of week\n    year >= 5708 ? (dateYomHaZikaron(year) as HDate).next() : [],\n    // Yom Yerushalayim\n    year >= 5727 ? new HDate(28, months.IYYAR, year) : []\n  );\n  const yesPrev: readonly HDate[] = [\n    new HDate(29, months.ELUL, year - 1), // Erev Rosh Hashanah\n    new HDate(9, months.TISHREI, year), // Erev Yom Kippur\n    new HDate(14, months.IYYAR, year), // Pesach Sheini\n  ];\n  return {\n    none: none.map(hd => hd.abs()).sort((a, b) => a - b),\n    some: some.map(hd => hd.abs()).sort((a, b) => a - b),\n    yesPrev: yesPrev.map(hd => hd.abs()).sort((a, b) => a - b),\n  };\n}\n","import {greg2abs, isDate, daysInGregMonth, HDate, months} from '@hebcal/hdate';\nimport {CalOptions} from './CalOptions';\n\nconst TISHREI = months.TISHREI;\n\n/**\n * Gets the R.D. days for a number, Date, or HDate\n * @private\n */\nfunction getAbs(d: Date | HDate | number): number {\n  if (typeof d === 'number') return d;\n  if (isDate(d)) return greg2abs(d as Date);\n  if (HDate.isHDate(d)) return (d as HDate).abs();\n  throw new TypeError(`Invalid date type: ${d}`);\n}\n\nfunction getYear(options: CalOptions): number {\n  if (typeof options.year !== 'undefined') {\n    return Number(options.year);\n  }\n  return options.isHebrewYear\n    ? new HDate().getFullYear()\n    : new Date().getFullYear();\n}\n\n/**\n * Parse options object to determine start & end days\n * @private\n */\nexport function getStartAndEnd(options: CalOptions): number[] {\n  if ((options.start && !options.end) || (options.end && !options.start)) {\n    throw new TypeError('Both options.start and options.end are required');\n  } else if (options.start && options.end) {\n    return [getAbs(options.start), getAbs(options.end)];\n  }\n  const isHebrewYear = Boolean(options.isHebrewYear);\n  const theYear = getYear(options);\n  if (isNaN(theYear)) {\n    throw new RangeError(`Invalid year ${options.year}`);\n  } else if (isHebrewYear && theYear < 1) {\n    throw new RangeError(`Invalid Hebrew year ${theYear}`);\n  }\n  const theMonth = getMonth(options);\n  const numYears = Number(options.numYears) || 1;\n  if (isHebrewYear) {\n    return startEndHebrew(theMonth, theYear, numYears);\n  } else {\n    return startEndGregorian(theMonth, theYear, numYears);\n  }\n}\n\nfunction getMonth(options: CalOptions): number {\n  if (options.month) {\n    if (options.isHebrewYear) {\n      return HDate.monthNum(options.month);\n    } else if (typeof options.month === 'number') {\n      return options.month;\n    }\n  }\n  return NaN;\n}\n\nfunction startEndGregorian(\n  theMonth: number,\n  theYear: number,\n  numYears: number\n): number[] {\n  const gregMonth = theMonth ? theMonth - 1 : 0;\n  const startGreg = new Date(theYear, gregMonth, 1);\n  if (theYear < 100) {\n    startGreg.setFullYear(theYear);\n  }\n  const startAbs = greg2abs(startGreg);\n  let endAbs;\n  if (theMonth) {\n    endAbs = startAbs + daysInGregMonth(theMonth, theYear) - 1;\n  } else {\n    const endYear = theYear + numYears;\n    const endGreg = new Date(endYear, 0, 1);\n    if (endYear < 100) {\n      endGreg.setFullYear(endYear);\n    }\n    endAbs = greg2abs(endGreg) - 1;\n  }\n  return [startAbs, endAbs];\n}\n\nfunction startEndHebrew(\n  theMonth: number,\n  theYear: number,\n  numYears: number\n): number[] {\n  const startDate = new HDate(1, theMonth || TISHREI, theYear);\n  let startAbs = startDate.abs();\n  const endAbs = theMonth\n    ? startAbs + startDate.daysInMonth()\n    : new HDate(1, TISHREI, theYear + numYears).abs() - 1;\n  // for full Hebrew year, start on Erev Rosh Hashana which\n  // is technically in the previous Hebrew year\n  // (but conveniently lets us get candle-lighting time for Erev)\n  if (!theMonth && theYear > 1) {\n    startAbs--;\n  }\n  return [startAbs, endAbs];\n}\n","import {Locale} from './locale';\nimport {abs2greg, HDate, months} from '@hebcal/hdate';\nimport {CalOptions, DailyLearningValue} from './CalOptions';\nimport {\n  makeCandleEvent,\n  makeFastStartEnd,\n  makeWeekdayChanukahCandleLighting,\n} from './candles';\nimport {Event, flags} from './event';\nimport {getStartAndEnd} from './getStartAndEnd';\nimport {HebrewDateEvent} from './HebrewDateEvent';\nimport {HolidayYearMap, getHolidaysForYear_} from './holidays';\nimport {ParshaEvent} from './ParshaEvent';\nimport {Sedra, getSedra} from './sedra';\nimport {TimedEvent, HavdalahEvent} from './TimedEvent';\nimport {DailyLearning} from './DailyLearning';\nimport {HolidayEvent} from './HolidayEvent';\nimport {MevarchimChodeshEvent} from './MevarchimChodeshEvent';\nimport {MoladEvent, Molad} from './molad';\nimport {OmerEvent} from './omer';\nimport {Zmanim} from './zmanim';\nimport {Location} from './location';\n\n/**\n * Calculates holidays and other Hebrew calendar events based on {@link CalOptions}.\n *\n * Each holiday is represented by an {@link Event} object which includes a date,\n * a description, flags and optional attributes.\n * If given no options, returns holidays for the Diaspora for the current Gregorian year.\n *\n * The date range returned by this function can be controlled by:\n * * `options.year` - Gregorian (e.g. 1993) or Hebrew year (e.g. 5749)\n * * `options.isHebrewYear` - to interpret `year` as Hebrew year\n * * `options.numYears` - generate calendar for multiple years (default 1)\n * * `options.month` - Gregorian or Hebrew month (to filter results to a single month)\n *\n * Alternatively, specify start and end days with `Date` or {@link HDate} instances:\n * * `options.start` - use specific start date (requires `end` date)\n * * `options.end` - use specific end date (requires `start` date)\n *\n * Unless `options.noHolidays == true`, default holidays include:\n * * Major holidays - Rosh Hashana, Yom Kippur, Pesach, Sukkot, etc.\n * * Minor holidays - Purim, Chanukah, Tu BiShvat, Lag BaOmer, etc.\n * * Minor fasts - Ta'anit Esther, Tzom Gedaliah, etc. (unless `options.noMinorFast`)\n * * Special Shabbatot - Shabbat Shekalim, Zachor, etc. (unless `options.noSpecialShabbat`)\n * * Modern Holidays - Yom HaShoah, Yom HaAtzma'ut, etc. (unless `options.noModern`)\n * * Rosh Chodesh (unless `options.noRoshChodesh`)\n *\n * Holiday and Torah reading schedules differ between Israel and the Disapora.\n * Set `options.il=true` to use the Israeli schedule.\n *\n * Additional non-default event types can be specified:\n * * Parashat HaShavua - weekly Torah Reading on Saturdays (`options.sedrot`)\n * * Counting of the Omer (`options.omer`)\n * * Shabbat Mevarchim HaChodesh on Saturday before Rosh Chodesh (`options.shabbatMevarchim`)\n * * Molad announcement on Saturday before Rosh Chodesh (`options.molad`)\n * * Yom Kippur Katan (`options.yomKippurKatan`)\n * * Yizkor (`options.yizkor`)\n *\n * Daily Study of texts are supported by the\n * {@link https://github.com/hebcal/hebcal-learning @hebcal/learning} package,\n * for example:\n * * Babylonian Talmud Daf Yomi (`options.dailyLearning.dafYomi`)\n * * Jerusalem Talmud (Yerushalmi) Yomi (`options.dailyLearning.yerushalmi`)\n * * Mishna Yomi (`options.dailyLearning.mishnaYomi`)\n * * Nach Yomi (`options.dailyLearning.nachYomi`)\n *\n * Candle-lighting and Havdalah times are approximated using latitude and longitude\n * specified by the {@link Location} class. The `Location` class contains a small\n * database of cities with their associated geographic information and time-zone information.\n * If you ever have any doubts about Hebcal's times, consult your local halachic authority.\n * If you enter geographic coordinates above the arctic circle or antarctic circle,\n * the times are guaranteed to be wrong.\n *\n * To add candle-lighting options, set `options.candlelighting=true` and set\n * `options.location` to an instance of `Location`. By default, candle lighting\n * time is 18 minutes before sundown (40 minutes for Jerusalem,\n * 30 minutes for Haifa and Zikhron Ya'akov) and Havdalah is\n * calculated according to Tzeit Hakochavim - Nightfall (the point when 3 small stars\n * are observable in the night time sky with the naked eye). The default Havdalah\n * option (Tzeit Hakochavim) is calculated when the sun is 8.5° below the horizon.\n * These defaults can be changed using these options:\n * * `options.candleLightingMins` - minutes before sundown to light candles\n * * `options.havdalahMins` - minutes after sundown for Havdalah (typical values are 42, 50, or 72).\n *    Havdalah times are suppressed when `options.havdalahMins=0`.\n * * `options.havdalahDeg` - degrees for solar depression for Havdalah.\n *    Default is 8.5 degrees for 3 small stars. Use 7.083 degrees for 3 medium-sized stars.\n *    Havdalah times are suppressed when `options.havdalahDeg=0`.\n *\n * If both `options.candlelighting=true` and `options.location` is specified,\n * Chanukah candle-lighting times and minor fast start/end times will also be generated.\n * Chanukah candle-lighting is at Bein HaShmashos (13.5 minutes before\n * the sun is 7.083° below the horizon in the evening)\n * on weekdays, at regular candle-lighting time on Fridays, and at regular Havdalah time on\n * Saturday night (see above).\n *\n * Minor fasts begin at Alot HaShachar (sun is 16.1° below the horizon in the morning) and\n * end when 3 medium-sized stars are observable in the night sky (sun is 7.083° below the horizon\n * in the evening).\n *\n * Two options also exist for generating an Event with the Hebrew date:\n * * `options.addHebrewDates` - print the Hebrew date for the entire date range\n * * `options.addHebrewDatesForEvents` - print the Hebrew date for dates with some events\n *\n * Lastly, translation and transliteration of event titles is controlled by\n * `options.locale` and the {@link Locale} API.\n * `@hebcal/core` supports three locales by default:\n * * `en` - default, Sephardic transliterations (e.g. \"Shabbat\")\n * * `ashkenazi` - Ashkenazi transliterations (e.g. \"Shabbos\")\n * * `he` - Hebrew (e.g. \"שַׁבָּת\")\n *\n * Additional locales (such as `ru` or `fr`) are supported by the\n * {@link https://github.com/hebcal/hebcal-locales @hebcal/locales} package\n *\n * @example\n * import {HebrewCalendar, HDate, Location, Event} from '@hebcal/core';\n * const options: CalOptions = {\n *   year: 1981,\n *   isHebrewYear: false,\n *   candlelighting: true,\n *   location: Location.lookup('San Francisco'),\n *   sedrot: true,\n *   omer: true,\n * };\n * const events = HebrewCalendar.calendar(options);\n * for (const ev of events) {\n *   const hd = ev.getDate();\n *   const date = hd.greg();\n *   console.log(date.toLocaleDateString(), ev.render('en'), hd.toString());\n * }\n */\nexport function calendar(options: CalOptions = {}): Event[] {\n  options = {...options}; // so we can modify freely\n  checkCandleOptions(options);\n  const location = (options.location = options.location || defaultLocation);\n  const il = (options.il = options.il || location.getIsrael() || false);\n  const hasUserMask = typeof options.mask === 'number';\n  options.mask = getMaskFromOptions(options);\n  if (options.ashkenazi || options.locale) {\n    if (options.locale && typeof options.locale !== 'string') {\n      throw new TypeError(`Invalid options.locale: ${options.locale}`);\n    }\n    const locale = options.ashkenazi ? 'ashkenazi' : (options.locale as string);\n    const translationObj = Locale.useLocale(locale);\n    if (!translationObj) {\n      throw new TypeError(\n        `Locale '${locale}' not found; did you forget to import @hebcal/locales?`\n      );\n    }\n  } else {\n    Locale.useLocale('en');\n  }\n\n  const evts: Event[] = [];\n  let sedra: Sedra | undefined;\n  let holidaysYear: HolidayYearMap | undefined;\n  let beginOmer = -1;\n  let endOmer = -1;\n  let currentYear = -1;\n  const startAndEnd = getStartAndEnd(options);\n  warnUnrecognizedOptions(options);\n  const startAbs = startAndEnd[0];\n  const endAbs = startAndEnd[1];\n  const startGreg = abs2greg(startAbs);\n  if (startGreg.getFullYear() < 100) {\n    options.candlelighting = false;\n  }\n  for (let abs = startAbs; abs <= endAbs; abs++) {\n    const hd = new HDate(abs);\n    const hyear = hd.getFullYear();\n    if (hyear !== currentYear) {\n      currentYear = hyear;\n      holidaysYear = getHolidaysForYear_(currentYear);\n      if (options.sedrot) {\n        sedra = getSedra(currentYear, il);\n      }\n      if (options.omer) {\n        beginOmer = HDate.hebrew2abs(currentYear, NISAN, 16);\n        endOmer = HDate.hebrew2abs(currentYear, SIVAN, 5);\n      }\n    }\n    const prevEventsLength = evts.length;\n    const dow = hd.getDay();\n    const isFriday = dow === FRI;\n    const isSaturday = dow === SAT;\n    let candlesEv: TimedEvent | undefined;\n    const holidays = holidaysYear!.get(hd.toString()) || [];\n    for (const ev of holidays) {\n      candlesEv = appendHolidayAndRelated(\n        candlesEv,\n        evts,\n        ev,\n        options,\n        isFriday,\n        isSaturday,\n        hasUserMask\n      );\n    }\n    if (options.sedrot && isSaturday) {\n      const parsha0 = sedra!.lookup(abs);\n      if (!parsha0.chag) {\n        evts.push(new ParshaEvent(hd, parsha0.parsha, il, parsha0.num));\n      }\n    }\n    if (options.yizkor) {\n      const mm = hd.getMonth();\n      const dd = hd.getDate();\n      if (\n        (mm === months.TISHREI && (dd === 10 || dd === 22)) ||\n        (mm === NISAN && dd === (il ? 21 : 22)) ||\n        (mm === SIVAN && dd === (il ? 6 : 7))\n      ) {\n        const linkedEvent = holidays.filter(ev => ev.observedIn(il))[0];\n        const ev = new Event(hd, 'Yizkor', flags.YIZKOR, {\n          emoji: '🕯️',\n          linkedEvent,\n        });\n        evts.push(ev);\n      }\n    }\n    const dailyLearning = options.dailyLearning;\n    let numDailyLearning = 0;\n    if (typeof dailyLearning === 'object') {\n      const events = makeDailyLearning(hd, dailyLearning, il);\n      numDailyLearning = events.length;\n      if (numDailyLearning) {\n        evts.push(...events);\n      }\n    }\n    if (options.omer && abs >= beginOmer && abs <= endOmer) {\n      const omer = abs - beginOmer + 1;\n      const omerEv = makeOmerEvent(hd, omer, options);\n      evts.push(omerEv);\n    }\n    if (isSaturday && (options.molad || options.shabbatMevarchim)) {\n      const events = makeMoladAndMevarchimChodesh(hd, options);\n      evts.push(...events);\n    }\n    if (!candlesEv && options.candlelighting && (isFriday || isSaturday)) {\n      candlesEv = makeCandleEvent(undefined, hd, options, isFriday, isSaturday);\n      if (isFriday && candlesEv && sedra) {\n        const parsha = sedra.lookup(abs);\n        const pe = new ParshaEvent(hd.next(), parsha.parsha, il, parsha.num);\n        candlesEv.memo = pe.render(options.locale);\n      }\n    }\n    // suppress Havdalah when options.havdalahMins=0 or options.havdalahDeg=0\n    if (\n      candlesEv instanceof HavdalahEvent &&\n      (options.havdalahMins === 0 || options.havdalahDeg === 0)\n    ) {\n      candlesEv = undefined;\n    }\n    if (candlesEv) {\n      evts.push(candlesEv);\n    }\n    if (\n      options.addHebrewDates ||\n      (options.addHebrewDatesForEvents &&\n        prevEventsLength !== evts.length - numDailyLearning)\n    ) {\n      const e2 = new HebrewDateEvent(hd);\n      if (prevEventsLength === evts.length) {\n        evts.push(e2);\n      } else {\n        evts.splice(prevEventsLength, 0, e2);\n      }\n    }\n  }\n  return evts;\n}\n\nconst FRI = 5;\nconst SAT = 6;\n\nconst NISAN = months.NISAN;\nconst SIVAN = months.SIVAN;\nconst ELUL = months.ELUL;\n\nconst LIGHT_CANDLES = flags.LIGHT_CANDLES;\nconst YOM_TOV_ENDS = flags.YOM_TOV_ENDS;\nconst CHUL_ONLY = flags.CHUL_ONLY;\nconst IL_ONLY = flags.IL_ONLY;\nconst LIGHT_CANDLES_TZEIS = flags.LIGHT_CANDLES_TZEIS;\nconst CHANUKAH_CANDLES = flags.CHANUKAH_CANDLES;\nconst MINOR_FAST = flags.MINOR_FAST;\nconst SPECIAL_SHABBAT = flags.SPECIAL_SHABBAT;\nconst MODERN_HOLIDAY = flags.MODERN_HOLIDAY;\nconst MAJOR_FAST = flags.MAJOR_FAST;\nconst ROSH_CHODESH = flags.ROSH_CHODESH;\nconst PARSHA_HASHAVUA = flags.PARSHA_HASHAVUA;\nconst DAF_YOMI = flags.DAF_YOMI;\nconst MISHNA_YOMI = flags.MISHNA_YOMI;\nconst NACH_YOMI = flags.NACH_YOMI;\nconst YERUSHALMI_YOMI = flags.YERUSHALMI_YOMI;\nconst OMER_COUNT = flags.OMER_COUNT;\nconst SHABBAT_MEVARCHIM = flags.SHABBAT_MEVARCHIM;\nconst MINOR_HOLIDAY = flags.MINOR_HOLIDAY;\nconst EREV = flags.EREV;\nconst CHOL_HAMOED = flags.CHOL_HAMOED;\nconst YOM_KIPPUR_KATAN = flags.YOM_KIPPUR_KATAN;\nconst YIZKOR = flags.YIZKOR;\n\ntype StringIntMap = Record<string, number>;\n\nconst unrecognizedAlreadyWarned = new Set<string>();\nconst RECOGNIZED_OPTIONS: StringIntMap = {\n  location: 1,\n  year: 1,\n  isHebrewYear: 1,\n  month: 1,\n  numYears: 1,\n  start: 1,\n  end: 1,\n  candlelighting: 1,\n  candleLightingMins: 1,\n  havdalahMins: 1,\n  havdalahDeg: 1,\n  fastEndDeg: 1,\n  sedrot: 1,\n  il: 1,\n  noMinorFast: 1,\n  noModern: 1,\n  shabbatMevarchim: 1,\n  noRoshChodesh: 1,\n  noSpecialShabbat: 1,\n  noHolidays: 1,\n  omer: 1,\n  molad: 1,\n  ashkenazi: 1,\n  locale: 1,\n  addHebrewDates: 1,\n  addHebrewDatesForEvents: 1,\n  mask: 1,\n  yomKippurKatan: 1,\n  hour12: 1,\n  dailyLearning: 1,\n  useElevation: 1,\n  yizkor: 1,\n} as const satisfies Record<keyof CalOptions, 1>;\n\n/**\n * @private\n */\nfunction warnUnrecognizedOptions(options: CalOptions) {\n  for (const k of Object.keys(options)) {\n    if (\n      typeof RECOGNIZED_OPTIONS[k] === 'undefined' &&\n      !unrecognizedAlreadyWarned.has(k)\n    ) {\n      console.warn(`Ignoring unrecognized HebrewCalendar option: ${k}`);\n      unrecognizedAlreadyWarned.add(k);\n    }\n  }\n  if (options.dailyLearning) {\n    for (const k of Object.keys(options.dailyLearning)) {\n      if (!unrecognizedAlreadyWarned.has(k) && !DailyLearning.has(k)) {\n        console.warn(`Ignoring unrecognized DailyLearning calendar: ${k}`);\n        unrecognizedAlreadyWarned.add(k);\n      }\n    }\n  }\n}\n\nconst israelCityOffset: StringIntMap = {\n  Jerusalem: 40,\n  Haifa: 30,\n  \"Zikhron Ya'aqov\": 30,\n  \"Zikhron Ya'akov\": 30,\n  'Zikhron Yaakov': 30,\n  \"Zichron Ya'akov\": 30,\n  'Zichron Yaakov': 30,\n} as const;\n\nconst geoIdCandleOffset: StringIntMap = {\n  '281184': 40, // Jerusalem\n  '294801': 30, // Haifa\n  '293067': 30, // Zikhron Yaakov\n} as const;\n\n/**\n * @private\n * @constant\n * This calculation is based on the position of the sun 36 minutes after sunset in Jerusalem\n * around the equinox / equilux, which is 8.5° below geometric zenith.\n * The Ohr Meir considers this the time that 3 small stars are visible,\n * which is later than the required 3 medium stars.\n * @see {https://kosherjava.com/zmanim/docs/api/com/kosherjava/zmanim/ZmanimCalendar.html#ZENITH_8_POINT_5}\n */\nconst TZEIT_3SMALL_STARS = 8.5;\n\n/**\n * @private\n * @constant\n * This calculation is based on observation of 3 medium sized stars by Dr. Baruch Cohen\n * in his calendar published in in 1899 in Strasbourg, France.\n * This calculates to 7.0833333° below geometric zenith.\n * @see {https://kosherjava.com/zmanim/docs/api/com/kosherjava/zmanim/ComplexZmanimCalendar.html#ZENITH_7_POINT_083}\n */\nconst TZEIT_3MEDIUM_STARS = 7.0833333;\n\n/**\n * Modifies options in-place\n * @private\n */\nfunction checkCandleOptions(options: CalOptions) {\n  if (!options.candlelighting) {\n    return;\n  }\n  const location = options.location;\n  if (typeof location === 'undefined' || !(location instanceof Location)) {\n    throw new TypeError(\n      'options.candlelighting requires valid options.location'\n    );\n  }\n  if (\n    typeof options.havdalahMins === 'number' &&\n    typeof options.havdalahDeg === 'number'\n  ) {\n    throw new TypeError(\n      'options.havdalahMins and options.havdalahDeg are mutually exclusive'\n    );\n  }\n\n  const min0 = options.candleLightingMins;\n  let min = typeof min0 === 'number' && !isNaN(min0) ? Math.trunc(min0) : 18;\n  if (location.getIsrael() && Math.abs(min) === 18) {\n    min = overrideIsraelCandleMins(location, min);\n  }\n  options.candleLightingMins = -1 * Math.abs(min);\n\n  if (typeof options.havdalahMins === 'number') {\n    options.havdalahMins = Math.trunc(Math.abs(options.havdalahMins));\n  } else if (typeof options.havdalahDeg === 'number') {\n    options.havdalahDeg = Math.abs(options.havdalahDeg);\n  } else {\n    options.havdalahDeg = TZEIT_3SMALL_STARS;\n  }\n  if (typeof options.fastEndDeg !== 'number') {\n    options.fastEndDeg = TZEIT_3MEDIUM_STARS;\n  }\n}\n\nfunction overrideIsraelCandleMins(location: Location, min: number) {\n  const geoid = location.getGeoId();\n  if (geoid) {\n    const offset = geoIdCandleOffset[geoid];\n    if (typeof offset === 'number') {\n      return offset;\n    }\n  }\n  const shortName = location.getShortName();\n  if (shortName) {\n    const offset = israelCityOffset[shortName];\n    if (typeof offset === 'number') {\n      return offset;\n    }\n  }\n  return min;\n}\n\n/**\n * Mask to filter Holiday array\n * @private\n */\nfunction getMaskFromOptions(options: CalOptions): number {\n  if (typeof options.mask === 'number') {\n    return setOptionsFromMask(options);\n  }\n  const il = options.il || options.location?.getIsrael() || false;\n  let mask = 0;\n\n  // default options\n  if (!options.noHolidays) {\n    mask |=\n      ROSH_CHODESH |\n      YOM_TOV_ENDS |\n      MINOR_FAST |\n      SPECIAL_SHABBAT |\n      MODERN_HOLIDAY |\n      MAJOR_FAST |\n      MINOR_HOLIDAY |\n      EREV |\n      CHOL_HAMOED |\n      LIGHT_CANDLES |\n      LIGHT_CANDLES_TZEIS |\n      CHANUKAH_CANDLES;\n  }\n  if (options.candlelighting) {\n    mask |= LIGHT_CANDLES | LIGHT_CANDLES_TZEIS | YOM_TOV_ENDS;\n  }\n  // suppression of defaults\n  if (options.noRoshChodesh) {\n    mask &= ~ROSH_CHODESH;\n  }\n  if (options.noModern) {\n    mask &= ~MODERN_HOLIDAY;\n  }\n  if (options.noMinorFast) {\n    mask &= ~MINOR_FAST;\n  }\n  if (options.noSpecialShabbat) {\n    mask &= ~SPECIAL_SHABBAT;\n    mask &= ~SHABBAT_MEVARCHIM;\n  }\n  if (il) {\n    mask |= IL_ONLY;\n  } else {\n    mask |= CHUL_ONLY;\n  }\n  // non-default options\n  if (options.sedrot) {\n    mask |= PARSHA_HASHAVUA;\n  }\n  if (options.omer) {\n    mask |= OMER_COUNT;\n  }\n  if (options.shabbatMevarchim) {\n    mask |= SHABBAT_MEVARCHIM;\n  }\n  if (options.yomKippurKatan) {\n    mask |= YOM_KIPPUR_KATAN;\n  }\n  if (options.yizkor) {\n    mask |= YIZKOR;\n  }\n  if (options.dailyLearning) {\n    const dailyLearning = options.dailyLearning;\n    if (dailyLearning.dafYomi) {\n      mask |= DAF_YOMI;\n    }\n    if (dailyLearning.mishnaYomi) {\n      mask |= MISHNA_YOMI;\n    }\n    if (dailyLearning.nachYomi) {\n      mask |= NACH_YOMI;\n    }\n    if (dailyLearning.yerushalmi) {\n      mask |= YERUSHALMI_YOMI;\n    }\n  }\n\n  return mask;\n}\n\nconst MASK_LIGHT_CANDLES =\n  LIGHT_CANDLES | LIGHT_CANDLES_TZEIS | CHANUKAH_CANDLES | YOM_TOV_ENDS;\n\nconst defaultLocation = new Location(0, 0, false, 'UTC');\n\n/**\n * @private\n */\nfunction setOptionsFromMask(options: CalOptions): number {\n  const m = options.mask || 0;\n  if (m & ROSH_CHODESH) delete options.noRoshChodesh;\n  if (m & MODERN_HOLIDAY) delete options.noModern;\n  if (m & MINOR_FAST) delete options.noMinorFast;\n  if (m & SPECIAL_SHABBAT) delete options.noSpecialShabbat;\n  if (m & PARSHA_HASHAVUA) options.sedrot = true;\n  if (m & (DAF_YOMI | MISHNA_YOMI | NACH_YOMI | YERUSHALMI_YOMI)) {\n    options.dailyLearning = options.dailyLearning || {};\n    if (m & DAF_YOMI) {\n      options.dailyLearning.dafYomi = true;\n    }\n    if (m & MISHNA_YOMI) {\n      options.dailyLearning.mishnaYomi = true;\n    }\n    if (m & NACH_YOMI) {\n      options.dailyLearning.nachYomi = true;\n    }\n    if (m & YERUSHALMI_YOMI) {\n      options.dailyLearning.yerushalmi = 1;\n    }\n  }\n  if (m & OMER_COUNT) options.omer = true;\n  if (m & SHABBAT_MEVARCHIM) options.shabbatMevarchim = true;\n  if (m & YOM_KIPPUR_KATAN) options.yomKippurKatan = true;\n  if (m & YIZKOR) options.yizkor = true;\n  return m;\n}\n\n/**\n * Appends the Event `ev` to the `events` array. Also may add related\n * timed events like candle-lighting or fast start/end\n * @private\n */\nfunction appendHolidayAndRelated(\n  candlesEv: TimedEvent | undefined,\n  events: Event[],\n  ev: HolidayEvent,\n  options: CalOptions,\n  isFriday: boolean,\n  isSaturday: boolean,\n  hasUserMask: boolean\n): TimedEvent | undefined {\n  const il = options.il || false;\n  if (!ev.observedIn(il)) {\n    return candlesEv; // holiday isn't observed here; bail out early\n  }\n  const eFlags = ev.getFlags();\n  if (\n    (!options.yomKippurKatan && eFlags & YOM_KIPPUR_KATAN) ||\n    (options.noModern && eFlags & MODERN_HOLIDAY)\n  ) {\n    return candlesEv; // bail out early\n  }\n  const isMajorFast = Boolean(eFlags & MAJOR_FAST);\n  const isMinorFast = Boolean(eFlags & MINOR_FAST);\n  let fastEv;\n  if (\n    options.candlelighting &&\n    (isMajorFast || isMinorFast) &&\n    ev.getDesc() !== 'Yom Kippur'\n  ) {\n    ev = fastEv = makeFastStartEnd(ev, options);\n    if (\n      fastEv.startEvent &&\n      (isMajorFast || (isMinorFast && !options.noMinorFast))\n    ) {\n      events.push(fastEv.startEvent);\n    }\n  }\n  if (eFlags & Number(options.mask) || (!eFlags && !hasUserMask)) {\n    if (options.candlelighting && eFlags & MASK_LIGHT_CANDLES) {\n      const hd = ev.getDate();\n      candlesEv = makeCandleEvent(ev, hd, options, isFriday, isSaturday);\n      if (eFlags & CHANUKAH_CANDLES && candlesEv && !options.noHolidays) {\n        // Replace Chanukah event with a clone that includes candle lighting time.\n        // For clarity, allow a \"duplicate\" candle lighting event to remain for Shabbat\n        const chanukahEv = makeWeekdayChanukahCandleLighting(ev, hd, options);\n        if (chanukahEv) {\n          if (isFriday || isSaturday) {\n            chanukahEv.eventTime = candlesEv.eventTime;\n            chanukahEv.eventTimeStr = candlesEv.eventTimeStr;\n          }\n          ev = chanukahEv;\n        }\n        candlesEv = undefined;\n      }\n    }\n    if (\n      !options.noHolidays ||\n      (options.yomKippurKatan && eFlags & YOM_KIPPUR_KATAN)\n    ) {\n      events.push(ev); // the original event itself\n    }\n  }\n  if (\n    (isMajorFast || (isMinorFast && !options.noMinorFast)) &&\n    fastEv &&\n    fastEv.endEvent\n  ) {\n    events.push(fastEv.endEvent);\n  }\n  return candlesEv;\n}\n\nfunction makeMoladAndMevarchimChodesh(hd: HDate, options: CalOptions): Event[] {\n  const evts: Event[] = [];\n  const hmonth = hd.getMonth();\n  const hdate = hd.getDate();\n  if (hmonth !== ELUL && hdate >= 23 && hdate <= 29) {\n    const hyear = hd.getFullYear();\n    const monNext = hmonth === HDate.monthsInYear(hyear) ? NISAN : hmonth + 1;\n    if (options.molad) {\n      evts.push(new MoladEvent(hd, hyear, monNext, options));\n    }\n    if (options.shabbatMevarchim) {\n      const nextMonthName = HDate.getMonthName(monNext, hyear);\n      const molad = new Molad(hyear, monNext);\n      const memo = molad.render(options.locale || 'en', options);\n      evts.push(\n        new MevarchimChodeshEvent(hd, nextMonthName, memo, options.locale)\n      );\n    }\n  }\n  return evts;\n}\n\nfunction dailyLearningName(key: string, val: DailyLearningValue): string {\n  if (key === 'yerushalmi') {\n    return val === 2 ? 'yerushalmi-schottenstein' : 'yerushalmi-vilna';\n  }\n  return key;\n}\n\nfunction makeDailyLearning(\n  hd: HDate,\n  dailyLearning: Record<string, DailyLearningValue>,\n  il: boolean\n): Event[] {\n  const evts: Event[] = [];\n  for (const [key, val] of Object.entries(dailyLearning)) {\n    if (val) {\n      const name = dailyLearningName(key, val);\n      const learningEv = DailyLearning.lookup(name, hd, il);\n      if (learningEv) {\n        evts.push(learningEv);\n      }\n    }\n  }\n  return evts;\n}\n\nfunction makeOmerEvent(hd: HDate, omerDay: number, options: CalOptions) {\n  const omerEv = new OmerEvent(hd, omerDay);\n  if (options.candlelighting) {\n    const location = options.location!;\n    const zmanim = new Zmanim(location, hd.prev(), false);\n    const tzeit = zmanim.tzeit(7.0833);\n    if (!isNaN(tzeit.getTime())) {\n      omerEv.alarm = tzeit;\n    }\n  }\n  return omerEv;\n}\n","/*\n    Hebcal - A Jewish Calendar Generator\n    Copyright (c) 1994-2020 Danny Sadinoff\n    Portions copyright Eyal Schachter and Michael J. Radwin\n\n    https://github.com/hebcal/hebcal-es6\n\n    This program is free software; you can redistribute it and/or\n    modify it under the terms of the GNU General Public License\n    as published by the Free Software Foundation; either version 2\n    of the License, or (at your option) any later version.\n\n    This program is distributed in the hope that it will be useful,\n    but WITHOUT ANY WARRANTY; without even the implied warranty of\n    MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n    GNU General Public License for more details.\n\n    You should have received a copy of the GNU General Public License\n    along with this program. If not, see <http://www.gnu.org/licenses/>.\n */\n\nimport {getBirthdayHD, getYahrzeitHD, HDate} from '@hebcal/hdate';\nimport './locale'; // Adds Hebrew and Ashkenazic translations\nimport {CalOptions} from './CalOptions';\nimport {version as pkgVersion} from './pkgVersion';\nimport {Event, flags} from './event';\nimport {Sedra, getSedra} from './sedra';\nimport {hallel_} from './hallel';\nimport {\n  getHolidaysForYear_,\n  getHolidaysForYearArray,\n  getHolidaysOnDate,\n  HolidayYearMap,\n} from './holidays';\nimport {HolidayEvent} from './HolidayEvent';\nimport {reformatTimeStr} from './reformatTimeStr';\nimport {TachanunResult, tachanun} from './tachanun';\nimport {calendar} from './calendar';\n\n/**\n * HebrewCalendar is the main interface to the `@hebcal/core` library.\n * This namespace is used to calculate holidays, rosh chodesh, candle lighting & havdalah times,\n * Parashat HaShavua, Daf Yomi, days of the omer, and the molad.\n * Event names can be rendered in several languges using the `locale` option.\n */\nexport class HebrewCalendar {\n  private constructor() {}\n  /**\n   * Calculates holidays and other Hebrew calendar events based on {@link CalOptions}.\n   *\n   * Each holiday is represented by an {@link Event} object which includes a date,\n   * a description, flags and optional attributes.\n   * If given no options, returns holidays for the Diaspora for the current Gregorian year.\n   *\n   * The date range returned by this function can be controlled by:\n   * * `options.year` - Gregorian (e.g. 1993) or Hebrew year (e.g. 5749)\n   * * `options.isHebrewYear` - to interpret `year` as Hebrew year\n   * * `options.numYears` - generate calendar for multiple years (default 1)\n   * * `options.month` - Gregorian or Hebrew month (to filter results to a single month)\n   *\n   * Alternatively, specify start and end days with `Date` or {@link HDate} instances:\n   * * `options.start` - use specific start date (requires `end` date)\n   * * `options.end` - use specific end date (requires `start` date)\n   *\n   * Unless `options.noHolidays == true`, default holidays include:\n   * * Major holidays - Rosh Hashana, Yom Kippur, Pesach, Sukkot, etc.\n   * * Minor holidays - Purim, Chanukah, Tu BiShvat, Lag BaOmer, etc.\n   * * Minor fasts - Ta'anit Esther, Tzom Gedaliah, etc. (unless `options.noMinorFast`)\n   * * Special Shabbatot - Shabbat Shekalim, Zachor, etc. (unless `options.noSpecialShabbat`)\n   * * Modern Holidays - Yom HaShoah, Yom HaAtzma'ut, etc. (unless `options.noModern`)\n   * * Rosh Chodesh (unless `options.noRoshChodesh`)\n   *\n   * Holiday and Torah reading schedules differ between Israel and the Disapora.\n   * Set `options.il=true` to use the Israeli schedule.\n   *\n   * Additional non-default event types can be specified:\n   * * Parashat HaShavua - weekly Torah Reading on Saturdays (`options.sedrot`)\n   * * Counting of the Omer (`options.omer`)\n   * * Shabbat Mevarchim HaChodesh on Saturday before Rosh Chodesh (`options.shabbatMevarchim`)\n   * * Molad announcement on Saturday before Rosh Chodesh (`options.molad`)\n   * * Yom Kippur Katan (`options.yomKippurKatan`)\n   * * Yizkor (`options.yizkor`)\n   *\n   * Daily Study of texts are supported by the\n   * {@link https://github.com/hebcal/hebcal-learning @hebcal/learning} package,\n   * for example:\n   * * Babylonian Talmud Daf Yomi (`options.dailyLearning.dafYomi`)\n   * * Jerusalem Talmud (Yerushalmi) Yomi (`options.dailyLearning.yerushalmi`)\n   * * Mishna Yomi (`options.dailyLearning.mishnaYomi`)\n   * * Nach Yomi (`options.dailyLearning.nachYomi`)\n   *\n   * Candle-lighting and Havdalah times are approximated using latitude and longitude\n   * specified by the {@link Location} class. The `Location` class contains a small\n   * database of cities with their associated geographic information and time-zone information.\n   * If you ever have any doubts about Hebcal's times, consult your local halachic authority.\n   * If you enter geographic coordinates above the arctic circle or antarctic circle,\n   * the times are guaranteed to be wrong.\n   *\n   * To add candle-lighting options, set `options.candlelighting=true` and set\n   * `options.location` to an instance of `Location`. By default, candle lighting\n   * time is 18 minutes before sundown (40 minutes for Jerusalem,\n   * 30 minutes for Haifa and Zikhron Ya'akov) and Havdalah is\n   * calculated according to Tzeit Hakochavim - Nightfall (the point when 3 small stars\n   * are observable in the night time sky with the naked eye). The default Havdalah\n   * option (Tzeit Hakochavim) is calculated when the sun is 8.5° below the horizon.\n   * These defaults can be changed using these options:\n   * * `options.candleLightingMins` - minutes before sundown to light candles\n   * * `options.havdalahMins` - minutes after sundown for Havdalah (typical values are 42, 50, or 72).\n   *    Havdalah times are suppressed when `options.havdalahMins=0`.\n   * * `options.havdalahDeg` - degrees for solar depression for Havdalah.\n   *    Default is 8.5 degrees for 3 small stars. Use 7.083 degrees for 3 medium-sized stars.\n   *    Havdalah times are suppressed when `options.havdalahDeg=0`.\n   *\n   * If both `options.candlelighting=true` and `options.location` is specified,\n   * Chanukah candle-lighting times and minor fast start/end times will also be generated.\n   * Chanukah candle-lighting is at Bein HaShmashos (13.5 minutes before\n   * the sun is 7.083° below the horizon in the evening)\n   * on weekdays, at regular candle-lighting time on Fridays, and at regular Havdalah time on\n   * Saturday night (see above).\n   *\n   * Minor fasts begin at Alot HaShachar (sun is 16.1° below the horizon in the morning) and\n   * end when 3 medium-sized stars are observable in the night sky (sun is 7.083° below the horizon\n   * in the evening).\n   *\n   * Two options also exist for generating an Event with the Hebrew date:\n   * * `options.addHebrewDates` - print the Hebrew date for the entire date range\n   * * `options.addHebrewDatesForEvents` - print the Hebrew date for dates with some events\n   *\n   * Lastly, translation and transliteration of event titles is controlled by\n   * `options.locale` and the {@link Locale} API.\n   * `@hebcal/core` supports three locales by default:\n   * * `en` - default, Sephardic transliterations (e.g. \"Shabbat\")\n   * * `ashkenazi` - Ashkenazi transliterations (e.g. \"Shabbos\")\n   * * `he` - Hebrew (e.g. \"שַׁבָּת\")\n   *\n   * Additional locales (such as `ru` or `fr`) are supported by the\n   * {@link https://github.com/hebcal/hebcal-locales @hebcal/locales} package\n   *\n   * @example\n   * import {HebrewCalendar, HDate, Location, Event} from '@hebcal/core';\n   * const options: CalOptions = {\n   *   year: 1981,\n   *   isHebrewYear: false,\n   *   candlelighting: true,\n   *   location: Location.lookup('San Francisco'),\n   *   sedrot: true,\n   *   omer: true,\n   * };\n   * const events = HebrewCalendar.calendar(options);\n   * for (const ev of events) {\n   *   const hd = ev.getDate();\n   *   const date = hd.greg();\n   *   console.log(date.toLocaleDateString(), ev.render('en'), hd.toString());\n   * }\n   */\n  static calendar(options: CalOptions = {}): Event[] {\n    return calendar(options);\n  }\n\n  /**\n   * Calculates a birthday or anniversary (non-yahrzeit).\n   * `hyear` must be after original `gdate` of anniversary.\n   * Returns `undefined` when requested year preceeds or is same as original year.\n   *\n   * Hebcal uses the algorithm defined in \"Calendrical Calculations\"\n   * by Edward M. Reingold and Nachum Dershowitz.\n   *\n   * The birthday of someone born in Adar of an ordinary year or Adar II of\n   * a leap year is also always in the last month of the year, be that Adar\n   * or Adar II. The birthday in an ordinary year of someone born during the\n   * first 29 days of Adar I in a leap year is on the corresponding day of Adar;\n   * in a leap year, the birthday occurs in Adar I, as expected.\n   *\n   * Someone born on the thirtieth day of Marcheshvan, Kislev, or Adar I\n   * has his birthday postponed until the first of the following month in\n   * years where that day does not occur. [Calendrical Calculations p. 111]\n   * @example\n   * import {HebrewCalendar} from '@hebcal/core';\n   * const dt = new Date(2014, 2, 2); // '2014-03-02' == '30 Adar I 5774'\n   * const hd = HebrewCalendar.getBirthdayOrAnniversary(5780, dt); // '1 Nisan 5780'\n   * console.log(hd.greg().toLocaleDateString('en-US')); // '3/26/2020'\n   * @param hyear Hebrew year\n   * @param gdate Gregorian or Hebrew date of event\n   * @returns anniversary occurring in `hyear`\n   */\n  static getBirthdayOrAnniversary(\n    hyear: number,\n    gdate: Date | HDate\n  ): HDate | undefined {\n    const dt = getBirthdayHD(hyear, gdate);\n    if (typeof dt === 'undefined') {\n      return dt;\n    }\n    return new HDate(dt);\n  }\n\n  /**\n   * Calculates yahrzeit.\n   * `hyear` must be after original `gdate` of death.\n   * Returns `undefined` when requested year preceeds or is same as original year.\n   *\n   * Hebcal uses the algorithm defined in \"Calendrical Calculations\"\n   * by Edward M. Reingold and Nachum Dershowitz.\n   *\n   * The customary anniversary date of a death is more complicated and depends\n   * also on the character of the year in which the first anniversary occurs.\n   * There are several cases:\n   *\n   * * If the date of death is Marcheshvan 30, the anniversary in general depends\n   *   on the first anniversary; if that first anniversary was not Marcheshvan 30,\n   *   use the day before Kislev 1.\n   * * If the date of death is Kislev 30, the anniversary in general again depends\n   *   on the first anniversary — if that was not Kislev 30, use the day before\n   *   Tevet 1.\n   * * If the date of death is Adar II, the anniversary is the same day in the\n   *   last month of the Hebrew year (Adar or Adar II).\n   * * If the date of death is Adar I 30, the anniversary in a Hebrew year that\n   *   is not a leap year (in which Adar only has 29 days) is the last day in\n   *   Shevat.\n   * * In all other cases, use the normal (that is, same month number) anniversary\n   *   of the date of death. [Calendrical Calculations p. 113]\n   * @example\n   * import {HebrewCalendar} from '@hebcal/core';\n   * const dt = new Date(2014, 2, 2); // '2014-03-02' == '30 Adar I 5774'\n   * const hd = HebrewCalendar.getYahrzeit(5780, dt); // '30 Sh\\'vat 5780'\n   * console.log(hd.greg().toLocaleDateString('en-US')); // '2/25/2020'\n   * @param hyear Hebrew year\n   * @param gdate Gregorian or Hebrew date of death\n   * @returns anniversary occurring in hyear\n   */\n  static getYahrzeit(hyear: number, gdate: Date | HDate): HDate | undefined {\n    const dt = getYahrzeitHD(hyear, gdate);\n    if (typeof dt === 'undefined') {\n      return dt;\n    }\n    return new HDate(dt);\n  }\n\n  /**\n   * Lower-level holidays interface, which returns a `Map` of `Event`s indexed by\n   * `HDate.toString()`. These events must filtered especially for `flags.IL_ONLY`\n   * or `flags.CHUL_ONLY` depending on Israel vs. Diaspora holiday scheme.\n   * @param year Hebrew year\n   */\n  static getHolidaysForYear(year: number): HolidayYearMap {\n    return getHolidaysForYear_(year);\n  }\n\n  /**\n   * Returns an array of holidays for the year\n   * @param year Hebrew year\n   * @param il use the Israeli schedule for holidays\n   */\n  static getHolidaysForYearArray(year: number, il: boolean): HolidayEvent[] {\n    return getHolidaysForYearArray(year, il);\n  }\n\n  /**\n   * Returns an array of Events on this date (or `undefined` if no events)\n   * @param date Hebrew Date, Gregorian date, or absolute R.D. day number\n   * @param [il] use the Israeli schedule for holidays\n   */\n  static getHolidaysOnDate(\n    date: HDate | Date | number,\n    il?: boolean\n  ): HolidayEvent[] | undefined {\n    return getHolidaysOnDate(date, il);\n  }\n\n  /**\n   * Eruv Tavshilin\n   */\n  static eruvTavshilin(date: Date | HDate, il: boolean): boolean {\n    if (date.getDay() < 3 || date.getDay() > 4) {\n      return false;\n    }\n    const today = new HDate(date);\n    const friday = today.after(5);\n    const tomorrow = today.next();\n    if (!isChag(friday, il) || isChag(today, il) || !isChag(tomorrow, il)) {\n      return false;\n    }\n    return true;\n  }\n\n  /**\n   * Helper function to format a 23-hour (00:00-23:59) time in US format (\"8:13pm\") or\n   * keep as \"20:13\" for any other locale/country. Uses {@link CalOptions} to determine\n   * locale.\n   * If `options.hour12` is `false`, locale is ignored and always returns 24-hour time.\n   * If `options.hour12` is `true`, locale is ignored and always returns 12-hour time.\n   * @param timeStr - original time like \"20:30\"\n   * @param suffix - \"p\" or \"pm\" or \" P.M.\". Add leading space if you want it\n   * @param options\n   */\n  static reformatTimeStr(\n    timeStr: string,\n    suffix: string,\n    options: CalOptions\n  ): string {\n    return reformatTimeStr(timeStr, suffix, options);\n  }\n\n  static version(): string {\n    return pkgVersion;\n  }\n\n  /**\n   * Convenience function to create an instance of `Sedra` or reuse a previously\n   * created and cached instance.\n   */\n  static getSedra(hyear: number, il: boolean): Sedra {\n    return getSedra(hyear, il);\n  }\n\n  /**\n   * Return a number containing information on what Hallel is said on that day.\n   *\n   * Whole Hallel is said on Chanukah, the first Yom Tov of Pesach, Shavuot, Sukkot,\n   * Yom Ha'atzmaut, and Yom Yerushalayim.\n   *\n   * Half Hallel is said on Rosh Chodesh (not Rosh Hashanah), and the last 6 days of Pesach.\n   *\n   * The number is one of the following values:\n   *\n   * 0 - No Hallel\n   * 1 - Half Hallel\n   * 2 - Whole Hallel\n   */\n  static hallel(hdate: HDate, il: boolean): number {\n    const events = getHolidaysForYearArray(hdate.getFullYear(), il);\n    return hallel_(events, hdate);\n  }\n\n  /**\n   * Return details on what Tachanun (or Tzidchatcha on Shabbat) is said on `hdate`.\n   *\n   * Tachanun is not said on Rosh Chodesh, the month of Nisan, Lag Baomer,\n   * Rosh Chodesh Sivan until Isru Chag, Tisha B'av, 15 Av, Erev Rosh Hashanah,\n   * Rosh Hashanah, Erev Yom Kippur until after Simchat Torah, Chanukah,\n   * Tu B'shvat, Purim and Shushan Purim, and Purim and Shushan Purim Katan.\n   *\n   * In some congregations Tachanun is not said until from Rosh Chodesh Sivan\n   * until 14th Sivan, Sukkot until after Rosh Chodesh Cheshvan, Pesach Sheini,\n   * Yom Ha'atzmaut, and Yom Yerushalayim.\n   *\n   * Tachanun is not said at Mincha on days before it is not said at Shacharit.\n   *\n   * Tachanun is not said at Shacharit on Shabbat, but is at Mincha, usually.\n   */\n  static tachanun(hdate: HDate, il: boolean): TachanunResult {\n    return tachanun(hdate, il);\n  }\n}\n\n/**\n * @private\n */\nfunction isChag(date: HDate, il: boolean): boolean {\n  const events = getHolidaysOnDate(date, il) || [];\n  const chag = events.filter(ev => ev.getFlags() & flags.CHAG);\n  return chag.length !== 0;\n}\n","import {HDate, months} from '@hebcal/hdate';\nimport {Event, flags} from './event';\n\nconst NONE = 0;\nconst HALF = 1;\nconst WHOLE = 2;\n\n/**\n * @private\n */\nexport function hallel_(events: Event[], hdate: HDate): number {\n  const whole = events\n    .filter(ev => {\n      const desc: string = ev.getDesc();\n      const hd: HDate = ev.getDate();\n      const month = hd.getMonth();\n      const mday = hd.getDate();\n      return (\n        desc.startsWith('Chanukah') ||\n        desc.startsWith('Shavuot') ||\n        desc.startsWith('Sukkot') ||\n        (month === months.NISAN &&\n          (mday === 15 || mday === 16) &&\n          ev.getFlags() & flags.CHAG) || // Pesach\n        desc === \"Yom HaAtzma'ut\" ||\n        desc === 'Yom Yerushalayim'\n      );\n    })\n    .map(ev => {\n      return ev.getDate().abs();\n    });\n\n  const abs = hdate.abs();\n  if (whole.includes(abs)) {\n    return WHOLE;\n  }\n\n  const half = events\n    .filter(ev => {\n      const desc = ev.getDesc();\n      return (\n        ev.getFlags() & flags.ROSH_CHODESH ||\n        (desc.startsWith('Pesach') &&\n          desc !== 'Pesach I' &&\n          desc !== 'Pesach II')\n      );\n    })\n    .map(ev => {\n      return ev.getDate().abs();\n    });\n\n  if (half.includes(abs)) {\n    return HALF;\n  }\n\n  return NONE;\n}\n","import {HDate, months} from '@hebcal/hdate';\nimport {Event} from './event';\nimport {ParshaEvent} from './ParshaEvent';\nimport {getSedra} from './sedra';\n\n/**\n * Calculates weekly Torah Reading on Saturdays for entire year\n * @param year Hebrew year\n * @param il Israel (false for Diaspora)\n * @returns an array of `ParshaEvent` occurring on Saturdays that contain a regular\n *  (non-holiday) Parashat HaShavua\n */\nexport function parshaYear(year: number, il: boolean): Event[] {\n  const sedra = getSedra(year, il);\n  const startAbs = sedra.getFirstSaturday();\n  const endAbs = HDate.hebrew2abs(year, months.ELUL, 29);\n  const events: Event[] = [];\n  for (let absDt = startAbs; absDt <= endAbs; absDt += 7) {\n    const parsha = sedra.lookup(absDt);\n    if (!parsha.chag) {\n      const ev = new ParshaEvent(parsha.hdate, parsha.parsha, il, parsha.num);\n      events.push(ev);\n    }\n  }\n  return events;\n}\n"],"names":["version","lengths","monthLengths","slice","mod","x","y","Math","floor","quotient","isGregLeapYear","year","daysInGregMonth","month","isDate","obj","Date","prototype","isPrototypeOf","toFixed","day","py","greg2abs","date","TypeError","isNaN","getTime","RangeError","getFullYear","getMonth","getDate","abs2greg","abs","l0","n400","d1","n100","d2","n4","n1","yearFromFixed","trunc","dt","setFullYear","greg","daysInMonth","isLeapYear","months","ADAR_II","NISAN_STR","monthNames0","monthNames","edCache","Map","EPOCH","assertNumber","n","name","hebrew2abs","tempabs","m","monthsInYear","elapsedDays","newYear","abs2hebrew","yy","mm","dd","longCheshvan","shortKislev","getMonthName","get","elapsed","prevYear","mElapsed","pElapsed","hElapsed","parts","altDay","elapsedDays0","set","daysInYear","NISAN","CHESHVAN","KISLEV","TEVET","SHVAT","ADAR_I","toSimpleHebrewDate","isSimpleHebrewDate","heb2num","א","ב","ג","ד","ה","ו","ז","ח","ט","י","כ","ל","מ","נ","ס","ע","פ","צ","ק","ר","ש","ת","num2heb","key","val","Object","entries","num2digits","num","digits","push","i","incr","gematriya","num1","parseInt","str","thousands","tdigits","tdig","length","gematriyaStrToNum","gereshIdx","indexOf","substring","ch","pad4","String","pad2","_formatters","dateFormatRegex","getPseudoISO","tzid","fmt","f","Intl","DateTimeFormat","hour","minute","second","hour12","timeZone","getFormatter","format","exec","Error","isoDateString","poAshkenazi","headers","language","contexts","Tevet","poHe","Adar","Av","Cheshvan","Elul","Iyyar","Kislev","Nisan","Sivan","Tamuz","Tishrei","noopLocale","alias","h","a","s","locales","activeLocale","activeName","getEnOrdinal","v","checkLocale","locale","toLowerCase","getExistingLocale","locale1","loc","Locale","lookupTranslation","id","array","gettext","text","this","addLocale","data","addTranslation","translation","isArray","Array","t0","addTranslations","ctx","assign","useLocale","locale0","getLocaleName","getLocaleNames","from","keys","sort","b","localeCompare","ordinal","startsWith","hebrewStripNikkud","normalize","replace","heStrs","heNoNikud","poHeNoNikud","UNITS_DAY","UNITS_WEEK","UNITS_MONTH","UNITS_YEAR","HDate","constructor","arguments","hd","monthNum","fix","setMonth","abs0","undefined","isNumber","d","rd","getTishreiMonth","nummonths","getDay","render","showYear","monthName","nth","dayOf","ofStr","getDayOfTranslation","dateStr","renderGematriya","suppressNikud","before","dayOfWeek","onOrBefore","nearest","onOrAfter","after","next","prev","add","amount","units","standardizeUnits","sign","subtract","deltaDays","other","isSameDate","toString","fullYear","charCodeAt","monthFromName","c","trim","test","dayOnOrBefore","absdate","isHDate","fromGematriyaString","currentThousands","split","filter","numParts","monthStr","fixMonth","TISHREI","ELUL","fixDate","t","offset","Shabbat","Bechukotai","Bereshit","Chukat","Matot","Shavuot","Shemot","Sukkot","Toldot","Vaetchanan","Yitro","Parashat","Balak","Bamidbar","Behar","Beshalach","Bo","Devarim","Eikev","Emor","Kedoshim","Korach","Masei","Metzora","Miketz","Mishpatim","Nasso","Nitzavim","Noach","Pekudei","Pinchas","Shmini","Shoftim","Tazria","Terumah","Tetzaveh","Tzav","Vaera","Vayakhel","Vayechi","Vayeilech","Vayera","Vayeshev","Vayetzei","Vayigash","Vayikra","Vayishlach","Chanukah","Omer","Havdalah","Pesach","Purim","Sigd","min","Lovingkindness","Might","Beauty","Eternity","Splendor","Foundation","Majesty","Yizkor","Molad","chalakim","flags","CHAG","LIGHT_CANDLES","YOM_TOV_ENDS","CHUL_ONLY","IL_ONLY","LIGHT_CANDLES_TZEIS","CHANUKAH_CANDLES","ROSH_CHODESH","MINOR_FAST","SPECIAL_SHABBAT","PARSHA_HASHAVUA","DAF_YOMI","OMER_COUNT","MODERN_HOLIDAY","MAJOR_FAST","SHABBAT_MEVARCHIM","MOLAD","USER_EVENT","HEBREW_DATE","MINOR_HOLIDAY","EREV","CHOL_HAMOED","MISHNA_YOMI","YOM_KIPPUR_KATAN","YERUSHALMI_YOMI","NACH_YOMI","DAILY_LEARNING","YIZKOR","flagToCategory","Event","desc","mask","attrs","getDesc","getFlags","renderBrief","getEmoji","emoji","basename","url","observedInIsrael","observedInDiaspora","observedIn","il","clone","ev","getCategories","HebrewDateEvent","super","renderBriefHebrew","check","it","globalThis_1","globalThis","window","self","global","Function","fails","error","require$$0","descriptors","defineProperty","functionBindNative","bind","hasOwnProperty","NATIVE_BIND","call","functionCall","apply","createPropertyDescriptor","bitmap","value","enumerable","configurable","writable","FunctionPrototype","uncurryThisWithBind","functionUncurryThis","fn","uncurryThis","require$$1","classof","stringSlice","classofRaw","require$$2","$Object","indexedObject","propertyIsEnumerable","isNullOrUndefined","$TypeError","requireObjectCoercible","IndexedObject","toIndexedObject","documentAll","document","all","isCallable","argument","isObject","getBuiltIn","namespace","method","match","userAgent","navigator","environmentUserAgent","process","Deno","versions","v8","environmentV8Version","V8_VERSION","$String","symbolConstructorDetection","getOwnPropertySymbols","symbol","Symbol","sham","NATIVE_SYMBOL","useSymbolAsUid","iterator","objectIsPrototypeOf","USE_SYMBOL_AS_UID","require$$3","isSymbol","$Symbol","tryToString","aCallable","getMethod","V","P","func","ordinaryToPrimitive","input","pref","valueOf","defineGlobalProperty","IS_PURE","isPure","SHARED","store","sharedStoreModule","exports","mode","copyright","license","source","shared","toObject","hasOwnProperty_1","hasOwn","postfix","random","uid","require$$4","require$$5","WellKnownSymbolsStore","createWellKnownSymbol","withoutSetter","wellKnownSymbol","TO_PRIMITIVE","toPrimitive","result","exoticToPrim","toPropertyKey","EXISTS","createElement","documentCreateElement","DESCRIPTORS","ie8DomDefine","propertyIsEnumerableModule","$propertyIsEnumerable","getOwnPropertyDescriptor","NASHORN_BUG","objectPropertyIsEnumerable","descriptor","require$$6","IE8_DOM_DEFINE","require$$7","$getOwnPropertyDescriptor","objectGetOwnPropertyDescriptor","O","v8PrototypeDefineBug","anObject","V8_PROTOTYPE_DEFINE_BUG","$defineProperty","ENUMERABLE","CONFIGURABLE","WRITABLE","objectDefineProperty","Attributes","current","definePropertyModule","createNonEnumerableProperty","object","functionToString","inspectSource","sharedKey","hiddenKeys","has","NATIVE_WEAK_MAP","WeakMap","weakMapBasicDetection","OBJECT_ALREADY_INITIALIZED","state","metadata","facade","STATE","internalState","enforce","getterFor","TYPE","type","CONFIGURABLE_FUNCTION_NAME","getDescriptor","PROPER","functionName","InternalStateModule","enforceInternalState","getInternalState","join","CONFIGURABLE_LENGTH","TEMPLATE","makeBuiltIn","makeBuiltInModule","options","getter","setter","arity","defineBuiltIn","simple","unsafe","nonConfigurable","nonWritable","ceil","mathTrunc","toIntegerOrInfinity","number","max","toAbsoluteIndex","index","integer","toLength","len","lengthOfArrayLike","createMethod","IS_INCLUDES","$this","el","fromIndex","arrayIncludes","includes","objectKeysInternal","names","enumBugKeys","getOwnPropertyNamesModule","internalObjectKeys","concat","objectGetOwnPropertyNames","getOwnPropertyNames","getOwnPropertySymbolsModule","objectGetOwnPropertySymbols","ownKeys","getOwnPropertyDescriptorModule","copyConstructorProperties","target","exceptions","isForced","replacement","feature","detection","POLYFILL","NATIVE","string","isForced_1","_export","targetProperty","sourceProperty","TARGET","GLOBAL","STATIC","stat","dontCallGetSet","forced","objectKeys","html","activeXDocument","definePropertiesModule","objectDefineProperties","defineProperties","Properties","props","PROTOTYPE","SCRIPT","IE_PROTO","EmptyConstructor","scriptTag","content","LT","NullProtoObjectViaActiveX","write","close","temp","parentWindow","NullProtoObject","ActiveXObject","iframeDocument","iframe","JS","domain","style","display","appendChild","src","contentWindow","open","F","objectCreate","create","UNSCOPABLES","ArrayPrototype","addToUnscopables","clampProp","e","o","r","clampEntity","missingField","clampNumber","numberOutOfRange","on","_len","_key","toStringTag","zipProps","g","remapProps","nn","hasAnyPropsByName","allPropsEqual","zeroOutProps","Pt","_len2","_key2","_len3","_key3","capitalize","toUpperCase","sortStrings","padNumber","padStart","compareNumbers","divModFloor","modFloor","divModTrunc","divTrunc","modTrunc","hasHalf","givenFieldsToBigNano","Ao","Uo","u","nanoToGivenFields","S","T","requireNumberIsPositive","ze","cr","requirePropDefined","requireObjectLike","oo","requireType","invalidEntity","Number","isInteger","expectedInteger","expectedPositive","no","toStringViaPrimitive","toBigInt","BigInt","invalidBigInt","toNumber","forbiddenBigIntToNumber","isFinite","expectedFinite","toInteger","toStrictInteger","toPositiveInteger","createBigNano","addBigNanos","moveBigNano","diffBigNanos","compareBigNanos","bigNanoOutside","bigIntToBigNano","Ge","bigNanoToNumber","divModBigNano","checkIsoYearMonthInBounds","wr","Fr","isoYear","checkIsoDateInBounds","checkIsoDateTimeInBounds","Nt","isoHour","checkEpochNanoInBounds","isoToEpochNano","isoDay","isoNanosecond","Sr","Er","Io","isoTimeFieldsToNano","w","nanoToIsoTimeAndDay","epochNanoToSecMod","Ro","isoToEpochMilli","isoArgsToEpochMilli","isoMonth","isoMinute","isoSecond","isoMillisecond","ko","Qe","isoMicrosecond","Yo","isoToEpochNanoWithOffset","isoArgsToEpochSec","Co","isoToLegacyDate","setUTCHours","setUTCFullYear","epochNanoToIso","epochMilliToIso","Pr","Tr","getUTCFullYear","getUTCMonth","getUTCDate","getUTCHours","getUTCMinutes","getUTCSeconds","getUTCMilliseconds","hashIntlFormatParts","formatToParts","computeIsoDateParts","computeIsoMonthCodeParts","computeIsoMonthsInYear","kr","computeIsoDaysInMonth","computeIsoInLeapYear","computeIsoDaysInYear","computeIsoDayOfWeek","getUTCDay","computeIsoEraParts","or","_ref","rr","Yr","computeJapaneseEraParts","Cr","Ci","era","eraYear","parseIntlYear","checkIsoDateTimeFields","checkIsoDateFields","constrainIsoTimeFields","constrainIsoDateFields","isIsoDateFieldsValid","Dr","mt","Xr","je","normalizeOptions","ei","ni","refineDiffOptions","Kr","parseRoundingIncInteger","ii","Jr","checkLargestSmallestUnit","refineRoundingInc","refineRoundingOptions","normalizeOptionsOrString","Rr","refineDateDisplayOptions","ti","refineTimeDisplayOptions","refineTimeDisplayTuple","refineSubsecDigits","refineSmallestUnitAndSubsecDigits","zr","Ur","fabricateOverflowOptions","overflow","jr","refineUnitOption","Oo","mr","invalidChoice","refineChoiceOption","Eo","xe","branding","Re","epochNanoseconds","_e","z","calendar","jt","Nr","W","G","Ir","createPlainYearMonthSlots","Ut","createPlainMonthDaySlots","qt","St","ft","Mr","Oe","N","computeDurationSign","ur","I","extractEpochNano","totalDayTimeDuration","durationFieldsToBigNano","clampRelativeDuration","p","computeEpochNanoFrac","fo","roundDateTime","roundDateTimeToNano","computeNanoInc","roundTimeToNano","moveByDays","roundByInc","roundToMinute","Zo","computeDayInterval","computeDayFloor","yr","roundDayTimeDurationByInc","getMaxDurationUnit","nanoToDurationDayTimeFields","roundBigNanoByInc","roundRelativeDuration","isUniformUnit","isZonedEpochSlots","nudgeZonedTimeDuration","nudgeDayTimeDuration","nudgeRelativeDuration","l","gr","roundBigNano","roundWithMode","ai","hr","D","nanoToDurationTimeFields","days","Boolean","weeks","ke","R","formatIsoDateTimeFields","Se","si","Fe","ri","oi","formatCalendar","Ft","ce","formatIsoDateFields","Kt","formatDateLikeIso","formatIsoYearMonthFields","Jt","formatIsoMonthDayFields","ct","formatIsoTimeFields","k","checkDurationUnits","negateDurationFields","hours","minutes","checkDurationTimeUnit","formatSubsecNano","formatDurationFragments","Y","formatDurationNumber","years","M","H","formatCalendarId","bo","getSignStr","zo","li","toLocaleString","useGrouping","_zonedEpochSlotsToIso","offsetNanoseconds","getMatchingInstantFor","Do","getSingleInstantFor","To","go","getStartOfDayInstantFor","Ye","durationHasDateParts","vo","pe","moveZonedEpochs","wt","moveDateTime","ne","moveDate","Gt","moveToDayOfMonthUnsafe","B","pr","at","moveTime","he","createMarkerSystem","createMarkerToEpochNano","createMoveMarker","createDiffMarkers","diffZonedEpochsExact","diffDateTimesExact","E","relativeTo","yo","No","dr","di","isSafeInteger","Mo","lr","createSplitTuple","computePeriod","ci","parseOffsetNano","parseOffsetNanoMaybe","failedParse","de","parseDateTimeLike","j","Br","C","finalizeDateTime","finalizeDate","requireIsoCalendar","invalidSubstring","finalizeZonedDateTime","L","$","resolveSlotsCalendar","vi","organizeIsoYearParts","organizeTimeParts","organizeAnnotationParts","parseYearMonthOnly","Ni","parseMonthDayOnly","yi","Ei","ho","parseInt0","parseSubsecNano","parseSign","Si","reverse","padEnd","createRegExp","RegExp","getTimeZoneEssence","Oi","bi","po","map","getTimeZoneAtomic","resolvedOptions","wi","Ke","Be","Yt","te","Dt","isTimeZoneIdsEqual","Ee","diffEpochNanos","we","getCommonCalendarId","mo","diffZonedEpochsBig","It","diffDateTimesBig","oe","diffDateLike","zt","diffTimes","diffEpochNanosExact","updateMid","diffDays","diffEpochMilliByDay","lo","computeNativeWeekOfYear","computeNativeYearOfWeek","computeNativeDayOfYear","parseMonthCode","Bi","invalidMonthCode","formatMonthCode","monthCodeNumberToMonth","monthToMonthCodeNumber","eraYearToYear","getCalendarEraOrigins","ir","getCalendarIdBase","getCalendarLeapMonthMeta","sr","computeCalendarIdBase","createIntlCalendar","epochMilliToIntlFields","createIntlFieldCache","createIntlYearDataCache","Or","Fo","parseIntlPartsYear","ar","relatedYear","computeIntlDateParts","computeIntlEpochMilli","computeIntlMonthCodeParts","computeIntlLeapMonth","queryMonthStrings","computeIntlDaysInYear","computeIntlDaysInMonth","computeIntlMonthsInYear","computeIntlEraParts","Mt","createNativeOpsCreator","ki","refineCalendarFields","Xo","xo","refineTimeBag","refineFields","fields","duplicateFields","forbiddenField","Li","tr","noValidFields","xi","convertToIso","refineYear","io","ro","invalidEra","ao","missingYear","refineMonth","monthCode","uo","so","co","refineDay","U","spliceFields","computeDateEssentials","ji","q","yt","fe","createOptionsTransformer","Set","J","Q","an","Na","_len4","_key4","toEpochMillis","So","en","pt","tn","Xe","now","Ue","va","$includes","proto","Po","ln","wo","nanosecond","microsecond","millisecond","week","qo","Wo","jo","Lo","$o","Ho","Go","Vo","_o","Jo","Ko","Qo","er","nr","gregory","japanese","meiji","taisho","showa","heisei","reiwa","ethiopic","ethioaa","coptic","roc","buddhist","be","islamic","ah","indian","saka","persian","ap","bce","era0","era1","broc","minguo","chinese","dangi","hebrew","fr","vr","br","Zr","Ar","qr","Wr","constrain","reject","Lr","compatible","earlier","later","xr","use","prefer","ignore","$r","auto","never","critical","always","Hr","Gr","Vr","halfFloor","halfCeil","halfTrunc","expand","halfExpand","halfEven","_r","previous","Qr","round","ui","fi","IntlTimeZone","FixedTimeZone","getOffsetSec","pinch","rn","mi","pi","hi","gi","Di","Ti","Ii","Mi","Pi","Fi","Yi","un","cn","K","_","inLeapYear","sn","dayOfYear","hn","daysInWeek","Ri","Zi","zi","weekOfYear","yearOfWeek","computeWeekShift","computeWeeksInYear","Ui","Ai","qi","Wi","$i","Hi","Gi","Vi","_i","Ji","Ki","Qi","Xi","timeZoneName","ea","na","ta","oa","ra","ia","aa","sa","ca","ua","fa","la","da","ma","pa","ha","ga","Da","Ta","Ia","Ma","ya","ot","X","tt","et","nt","createSlotClass","Class","bindMethod","getSpecificSlots","rejectInvalidBag","getCalendarIdFromBag","extractCalendarIdFromBag","refineCalendarArg","createCalendarGetters","neverValueOf","refineTimeZoneArg","Z","toDurationSlots","parseUnit","refinePublicRelativeTo","toPlainTimeSlots","Tt","ht","optionalToPlainTimeFields","toPlainDateTimeSlots","At","Bt","toPlainMonthDaySlots","Rt","xt","toPlainYearMonthSlots","Xt","_t","toPlainDateSlots","me","toZonedDateTimeSlots","Ne","Ae","adaptDateMethods","slotsToIso","toInstantSlots","We","createDateTimeFormatClass","DateTimeFormatFunc","DateTimeFormatNew","to","createFormatPrepperForBranding","prepFormat","getOwnPropertyDescriptors","createFormatMethod","createProxiedMethod","_this","Cn","mn","dn","Sn","Tn","Dn","Pn","calendarId","gn","pn","On","epochMilliseconds","wn","In","vn","blank","with","A","negated","total","DurationFormat","toJSON","compare","Instant","PlainDateTime","PlainDate","PlainTime","PlainYearMonth","PlainMonthDay","bn","Fn","Mn","Zn","yn","jn","Nn","An","Bn","rt","until","since","lt","equals","st","Yn","En","gt","withCalendar","withPlainTime","Ot","vt","Ct","toZonedDateTime","$n","bt","toPlainDate","Wn","toPlainTime","Ln","Vn","Jn","Et","Lt","Vt","kn","qn","Rn","Wt","$t","Ht","xn","Gn","ee","re","plainTime","ae","toPlainDateTime","ie","toPlainYearMonth","le","toPlainMonthDay","se","zn","timeZoneId","hoursInDay","Te","De","withTimeZone","Pe","ge","Ie","startOfDay","ve","Ce","toInstant","Kn","getTimeZoneTransition","Me","Hn","Qn","Le","Ve","toZonedDateTimeISO","Je","fromEpochMilliseconds","$e","fromEpochNanoseconds","He","Un","instant","zonedDateTimeISO","plainDateTimeISO","plainDateISO","plainTimeISO","Xn","ZonedDateTime","Duration","Now","_n","degreesToRadians","degrees","PI","radiansToDegrees","radians","Temporal","toTemporalInstant","GeoLocation","latitude","longitude","elevation","locationName","setLocationName","setLatitude","setLongitude","setElevation","setTimeZone","getElevation","getLatitude","getLongitude","getLocationName","getTimeZone","earthRadius","NOAACalculator","geoLocation","getSunrise","sunrise","getUTCSunrise0","GEOMETRIC_ZENITH","getDateFromTime","getSeaLevelSunrise","getUTCSeaLevelSunrise","getBeginCivilTwilight","getSunriseOffsetByDegrees","CIVIL_ZENITH","getBeginNauticalTwilight","NAUTICAL_ZENITH","getBeginAstronomicalTwilight","ASTRONOMICAL_ZENITH","getSunset","sunset","getUTCSunset0","getSeaLevelSunset","getUTCSeaLevelSunset","getEndCivilTwilight","getSunsetOffsetByDegrees","getEndNauticalTwilight","getEndAstronomicalTwilight","getTimeOffset","time","milliseconds","offsetZenith","dawn","zenith","getUTCSunrise","getAdjustedDate","getUTCSunset","getElevationAdjustment","acos","adjustZenith","adjustedZenith","solarRadius","adjustForElevation","getSunriseUTC","getJulianDay","getSunsetUTC","getTemporalHour","endOfDay","NaN","delta","getSunTransit","temporalHour","isSunrise","calculatedTime","cal","seconds","localTimeHours","getJulianCenturiesFromJulianDay","julianDay","JULIAN_DAY_JAN_1_2000","JULIAN_DAYS_PER_CENTURY","getJulianDayFromJulianCenturies","julianCenturies","getSunGeometricMeanLongitude","getSunGeometricMeanAnomaly","getEarthOrbitEccentricity","getSunEquationOfCenter","mrad","sin","getSunTrueLongitude","getSunApparentLongitude","omega","getMeanObliquityOfEcliptic","getObliquityCorrection","cos","getSunDeclination","obliquityCorrection","lambda","sint","asin","getEquationOfTime","epsilon","geomMeanLongSun","eccentricityEarthOrbit","geomMeanAnomalySun","tan","sin2l0","sinm","getSunHourAngleAtSunrise","lat","solarDec","latRad","sdRad","getSunHourAngleAtSunset","getSolarElevation","lon","equationOfTime","hourAngleRad","decRad","getSolarAzimuth","atan","noonmin","getSolarNoonUTC","tnoon","eqTime","hourAngle","timeDiff","timeUTC","newt","solNoonUTC","classicCities0","classicCities","ZIPCODES_TZ_MAP","timeFormatCache","Location","cityName","countryCode","geoid","parseFloat","long","cc","getIsrael","getName","getShortName","comma","getCountryCode","getTzid","getTimeFormatter","getGeoId","lookup","JSON","stringify","legacyTzToTzid","tz","dst","getUsaTzid","addLocation","location","city","zdtToDate","zdt","res","setMilliseconds","Zmanim","gloc","useElevation","plainDate","noaa","getUseElevation","setUseElevation","timeAtAngle","angle","rising","seaLevelSunrise","seaLevelSunset","dusk","gregEve","setDate","nightHour","chatzot","chatzotNight","alotHaShachar","alotHaShachar72","sunriseOffset","misheyakir","misheyakirMachmir","getShaahZmanisBasedZman","sofZmanShma","sofZmanTfilla","getTemporalHour72","forceSeaLevel","alot72","sunsetOffset","getTemporalHourByDeg","alot","sofZmanShmaMGA","sofZmanShmaMGA16Point1","sofZmanShmaMGA19Point8","sofZmanTfillaMGA","sofZmanTfillaMGA16Point1","sofZmanTfillaMGA19Point8","minchaGedola","minchaGedolaMGA","minchaKetana","minchaKetanaMGA","plagHaMincha","tzeit","neitzHaChama","shkiah","beinHaShmashos","millis","formatTime","timeFormat","hm","roundTime","millisOnly","getMilliseconds","getSeconds","secAndMillis","timeZoneOffset","utcStr","localStr","diffMs","getTimezoneOffset","offsetAbs","formatISOWithTimeZone","roundMinute","setSeconds","makeSunsetAwareHDate","sunsetMillis","QuickLRU","maxSize","maxAge","POSITIVE_INFINITY","onEviction","cache","oldCache","_size","_emitEvictions","item","_deleteIfExpired","expiry","delete","_getOrDeleteIfExpired","_getItemValue","_peek","_set","_moveToRecent","_entriesAscending","peek","deleted","clear","resize","newSize","items","removeCount","values","entriesDescending","entriesAscending","size","oldCacheSize","forEach","callbackFunction","thisArgument","IYYAR","dateYomHaZikaron","pdow","renderParshaName","parsha","Sedra","hyear","rh0","rh","rhDay","firstSaturday","leap","longC","shortK","yearType","types","theSedraArray","yearKey","getString","isParsha","chag","find","parshiot","isValidDouble","findInternal","parsha2id","CHMPESACH","CHMSUKOT","plen","p1","p2","num2","idx","findContaining","hdate","getSedraArray","getFirstSaturday","getYear","saturday","weekNum","getSedra","doubles","PESACH","PESACH1","PESACH7","PESACH8","SHAVUOT","range","start","stop","yearStartVayeilech","yearStartHaazinu","yearStartRH","r020","r027","r3340","r4349","r4350","sedraCache","cacheKey","sedra","SIVAN","Shvat","Adar2","emojiPesach","emojiSukkot","ROSH_HASHANA_II","EREV_YOM_KIPPUR","YOM_KIPPUR","EREV_SUKKOT","SUKKOT_I","SUKKOT_II","SUKKOT_III_CHM","SUKKOT_IV_CHM","SUKKOT_V_CHM","SUKKOT_VI_CHM","SHMINI_ATZERET","SIMCHAT_TORAH","SUKKOT_II_CHM","SUKKOT_VII_HOSHANA_RABA","CHANUKAH_1_CANDLE","TU_BISHVAT","EREV_PURIM","PURIM","SHUSHAN_PURIM","EREV_PESACH","PESACH_I","PESACH_II","PESACH_II_CHM","PESACH_III_CHM","PESACH_IV_CHM","PESACH_V_CHM","PESACH_VI_CHM","PESACH_VII","PESACH_VIII","PESACH_SHENI","LAG_BAOMER","EREV_SHAVUOT","SHAVUOT_I","SHAVUOT_II","TU_BAV","ROSH_HASHANA_LABEHEMOT","EREV_ROSH_HASHANA","YOM_YERUSHALAYIM","BEN_GURION_DAY","FAMILY_DAY","YITZHAK_RABIN_MEMORIAL_DAY","HERZL_DAY","JABOTINSKY_DAY","SIGD","YOM_HAALIYAH","YOM_HAALIYAH_SCHOOL_OBSERVANCE","HEBREW_LANGUAGE_DAY","holidayDesc","ASARA_BTEVET","BIRKAT_HACHAMAH","CHAG_HABANOT","CHANUKAH_8TH_DAY","EREV_TISHA_BAV","LEIL_SELICHOT","PURIM_KATAN","PURIM_MESHULASH","SHABBAT_CHAZON","SHABBAT_HACHODESH","SHABBAT_HAGADOL","SHABBAT_NACHAMU","SHABBAT_PARAH","SHABBAT_SHEKALIM","SHABBAT_SHIRAH","SHABBAT_SHUVA","SHABBAT_ZACHOR","SHUSHAN_PURIM_KATAN","TAANIT_BECHOROT","TAANIT_ESTHER","TISHA_BAV","TZOM_GEDALIAH","TZOM_TAMMUZ","YOM_HAATZMA_UT","YOM_HASHOAH","YOM_HAZIKARON","staticHolidays","chmDay","AV","staticModernHolidays","firstYear","chul","satPostponeToSun","friPostponeToSun","friSatMovetoThu","TAMUZ","suppressEmoji","HolidayEvent","urlDateSuffix","cholHaMoedDay","cats","hdesc","AsaraBTevetEvent","ChanukahEvent","RoshHashanaEvent","roshChodeshStr","RoshChodeshEvent","monthName1","ykk","YomKippurKatanEvent","nextMonthName","memo","getHolidaysOnDate","hdStr","events","getHolidaysForYear_","filtered","holidayFilter","SUN","TUE","THU","FRI","SAT","emojiIsraelFlag","chanukahEmoji","yearCache","KEYCAP_DIGITS","cached","RH","pesach","arr","unshift","tzomGedaliahDay","rchTevet","candles","chanukahDay","pesachAbs","haChodeshAbs","nisan27dt","dateYomHaShoah","yomHaZikaronDt","dow","tamuz17attrs","tamuz17","observed","av9attrs","av9dt","av9title","av9abs","nextMonth","beshalachHd","birkatHaChama","startMonth","startDay","baseRd","getBirkatHaChama","getHolidaysForYearArray","yearMap","startAbs","endAbs","myFilter","absDt","holidays","hour12cc","US","CA","BR","AU","NZ","DO","PR","GR","IN","KR","NP","ZA","reformatTimeStr","timeStr","suffix","_a","TimedEvent","eventTime","linkedEvent","eventTimeStr","opts","fmtTime","CandleLightingEvent","HavdalahEvent","havdalahMins","makeCandleEvent","isFriday","isSaturday","havdalahTitle","useHavdalahOffset","candleLightingMins","zmanim","havdalahDeg","FAST_BEGINS","FAST_ENDS","FastDayEvent","startEvent","endEvent","makeTimedEvent","TimedChanukahEvent","shortDayNames","heDayNames","frDayNames","night","m_adj","molad","getDow","getHour","getMinutes","getChalakim","isHebrewLocale","isFrenchLocale","moladStr","minutesStr","chalakimStr","and","ampm","getHebrewTimeOfDay","MoladEvent","hmonth","sefirot","infix","infix26","words","pfxWords","translit","getWeeks","omerDay","tens","ones","shnei","yamim","shneiYamim","shavuot","yom","yomEchad","asar","OmerEvent","checkDay","weekNumber","daysWithinWeeks","omer","sefira","lang","config","codePoint","fromCodePoint","getDaysWithinWeeks","getTodayIs","ten","one","omerTodayIsHe","day7","numWeeks","omerTodayIsEn","ParshaEvent","mevarchimChodeshStr","MevarchimChodeshEvent","monNext","space","cals","DailyLearning","addCalendar","startDate","getStartDate","getCalendars","end","NONE","shacharit","mincha","allCongs","tachanun","tachanun0","checkNext","dates","shushPurim","none","mday","some","yesPrev","tachanunYear","ret","tomorrow","tmp","getAbs","getStartAndEnd","isHebrewYear","theYear","theMonth","numYears","startEndHebrew","gregMonth","startGreg","endYear","endGreg","startEndGregorian","candlelighting","min0","geoIdCandleOffset","shortName","israelCityOffset","overrideIsraelCandleMins","TZEIT_3SMALL_STARS","fastEndDeg","TZEIT_3MEDIUM_STARS","checkCandleOptions","defaultLocation","hasUserMask","noRoshChodesh","noModern","noMinorFast","noSpecialShabbat","sedrot","dailyLearning","dafYomi","mishnaYomi","nachYomi","yerushalmi","shabbatMevarchim","yomKippurKatan","yizkor","setOptionsFromMask","noHolidays","getMaskFromOptions","ashkenazi","evts","holidaysYear","beginOmer","endOmer","currentYear","startAndEnd","RECOGNIZED_OPTIONS","unrecognizedAlreadyWarned","console","warn","warnUnrecognizedOptions","prevEventsLength","candlesEv","appendHolidayAndRelated","parsha0","numDailyLearning","makeDailyLearning","omerEv","makeOmerEvent","makeMoladAndMevarchimChodesh","addHebrewDates","addHebrewDatesForEvents","e2","splice","Jerusalem","Haifa","MASK_LIGHT_CANDLES","eFlags","isMajorFast","isMinorFast","fastEv","ev2","makeFastStartEnd","chanukahEv","candleLightingTime","makeWeekdayChanukahCandleLighting","dailyLearningName","learningEv","alarm","isChag","getBirthdayOrAnniversary","gdate","orig","origYear","isOrigLeap","getBirthdayHD","getYahrzeit","hDeath","getYahrzeitHD","getHolidaysForYear","eruvTavshilin","today","friday","pkgVersion","hallel","whole","hallel_","currentTime","currentMillis","isTomorrowShabbosOrYomTov","isTodayAssurBemelacha"],"mappings":"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","x_google_ignoreList":[1,2,3,4,5,6,7,8,9,10,11,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,82,83,84,85,86,87,88,89,90,91,92,95,108]}